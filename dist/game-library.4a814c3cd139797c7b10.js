/*! For license information please see game-library.4a814c3cd139797c7b10.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e,r){var i=r(1),n=r(41),o=r(2),s=r(43),a=r(44),u=r(64),h=n("wks"),c=i.Symbol,l=u?c:c&&c.withoutSetter||s;t.exports=function(t){return o(h,t)||(a&&o(c,t)?h[t]=c[t]:h[t]=l("Symbol."+t)),h[t]}},function(t,e,r){(function(e){var check=function(t){return t&&t.Math==Math&&t};t.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof e&&e)||Function("return this")()}).call(this,r(22))},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){var i=r(13),n=r(62),o=r(7),s=r(31),a=Object.defineProperty;e.f=i?a:function defineProperty(t,e,r){if(o(t),e=s(e,!0),o(r),n)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var i=r(4);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _getPrototypeOf(e){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(e)}t.exports=_getPrototypeOf},function(t,e,r){"use strict";r.r(e),r.d(e,"utils",(function(){return i})),r.d(e,"AccessibilityManager",(function(){return kt})),r.d(e,"accessibleTarget",(function(){return Bt})),r.d(e,"InteractionData",(function(){return Xt})),r.d(e,"InteractionEvent",(function(){return Ht})),r.d(e,"InteractionManager",(function(){return qt})),r.d(e,"InteractionTrackingData",(function(){return zt})),r.d(e,"interactiveTarget",(function(){return Yt})),r.d(e,"Application",(function(){return Vr})),r.d(e,"AbstractBatchRenderer",(function(){return kr})),r.d(e,"AbstractRenderer",(function(){return Mr})),r.d(e,"Attribute",(function(){return xe})),r.d(e,"BaseRenderTexture",(function(){return fe})),r.d(e,"BaseTexture",(function(){return te})),r.d(e,"BatchDrawCall",(function(){return Fr})),r.d(e,"BatchGeometry",(function(){return jr})),r.d(e,"BatchPluginFactory",(function(){return Hr})),r.d(e,"BatchRenderer",(function(){return zr})),r.d(e,"BatchShaderGenerator",(function(){return Ur})),r.d(e,"BatchTextureArray",(function(){return Br})),r.d(e,"Buffer",(function(){return Te})),r.d(e,"Filter",(function(){return ar})),r.d(e,"FilterState",(function(){return Ce})),r.d(e,"Framebuffer",(function(){return pe})),r.d(e,"GLFramebuffer",(function(){return ke})),r.d(e,"GLProgram",(function(){return br})),r.d(e,"GLTexture",(function(){return Ir})),r.d(e,"Geometry",(function(){return Ie})),r.d(e,"IGLUniformData",(function(){return xr})),r.d(e,"MaskData",(function(){return ze})),r.d(e,"ObjectRenderer",(function(){return Le})),r.d(e,"Program",(function(){return nr})),r.d(e,"Quad",(function(){return Ae})),r.d(e,"QuadUv",(function(){return Oe})),r.d(e,"RenderTexture",(function(){return _e})),r.d(e,"RenderTexturePool",(function(){return ve})),r.d(e,"Renderer",(function(){return Cr})),r.d(e,"Shader",(function(){return or})),r.d(e,"SpriteMaskFilter",(function(){return cr})),r.d(e,"State",(function(){return sr})),r.d(e,"System",(function(){return le})),r.d(e,"Texture",(function(){return ge})),r.d(e,"TextureMatrix",(function(){return hr})),r.d(e,"TextureUvs",(function(){return me})),r.d(e,"UniformGroup",(function(){return Me})),r.d(e,"ViewableBuffer",(function(){return Nr})),r.d(e,"autoDetectRenderer",(function(){return autoDetectRenderer})),r.d(e,"checkMaxIfStatementsInShader",(function(){return checkMaxIfStatementsInShader})),r.d(e,"defaultFilterVertex",(function(){return Lr})),r.d(e,"defaultVertex",(function(){return Dr})),r.d(e,"resources",(function(){return ce})),r.d(e,"systems",(function(){return Or})),r.d(e,"uniformParsers",(function(){return Qe})),r.d(e,"Extract",(function(){return qr})),r.d(e,"AppLoaderPlugin",(function(){return ci})),r.d(e,"Loader",(function(){return hi})),r.d(e,"LoaderResource",(function(){return ai})),r.d(e,"TextureLoader",(function(){return ui})),r.d(e,"ParticleContainer",(function(){return pi})),r.d(e,"ParticleRenderer",(function(){return mi})),r.d(e,"BasePrepare",(function(){return Ji})),r.d(e,"CountLimiter",(function(){return Qi})),r.d(e,"Prepare",(function(){return $i})),r.d(e,"TimeLimiter",(function(){return tn})),r.d(e,"Spritesheet",(function(){return en})),r.d(e,"SpritesheetLoader",(function(){return rn})),r.d(e,"TilingSprite",(function(){return sn})),r.d(e,"TilingSpriteRenderer",(function(){return hn})),r.d(e,"BitmapFont",(function(){return bn})),r.d(e,"BitmapFontData",(function(){return yn})),r.d(e,"BitmapFontLoader",(function(){return wn})),r.d(e,"BitmapText",(function(){return En})),r.d(e,"Ticker",(function(){return jt})),r.d(e,"TickerPlugin",(function(){return Gt})),r.d(e,"UPDATE_PRIORITY",(function(){return Nt})),r.d(e,"ALPHA_MODES",(function(){return j})),r.d(e,"BLEND_MODES",(function(){return M})),r.d(e,"BUFFER_BITS",(function(){return R})),r.d(e,"CLEAR_MODES",(function(){return G})),r.d(e,"DRAW_MODES",(function(){return C})),r.d(e,"ENV",(function(){return A})),r.d(e,"FORMATS",(function(){return D})),r.d(e,"GC_MODES",(function(){return X})),r.d(e,"MASK_TYPES",(function(){return z})),r.d(e,"MIPMAP_MODES",(function(){return U})),r.d(e,"MSAA_QUALITY",(function(){return V})),r.d(e,"PRECISION",(function(){return H})),r.d(e,"RENDERER_TYPE",(function(){return O})),r.d(e,"SCALE_MODES",(function(){return N})),r.d(e,"TARGETS",(function(){return L})),r.d(e,"TYPES",(function(){return B})),r.d(e,"WRAP_MODES",(function(){return k})),r.d(e,"Bounds",(function(){return Ct})),r.d(e,"Container",(function(){return Ft})),r.d(e,"DisplayObject",(function(){return Dt})),r.d(e,"TemporaryDisplayObject",(function(){return Lt})),r.d(e,"FillStyle",(function(){return gi})),r.d(e,"GRAPHICS_CURVES",(function(){return yi})),r.d(e,"Graphics",(function(){return Ui})),r.d(e,"GraphicsData",(function(){return Ci})),r.d(e,"GraphicsGeometry",(function(){return Fi})),r.d(e,"LINE_CAP",(function(){return di})),r.d(e,"LINE_JOIN",(function(){return li})),r.d(e,"LineStyle",(function(){return Bi})),r.d(e,"graphicsUtils",(function(){return Mi})),r.d(e,"Circle",(function(){return yt})),r.d(e,"DEG_TO_RAD",(function(){return ft})),r.d(e,"Ellipse",(function(){return gt})),r.d(e,"Matrix",(function(){return Tt})),r.d(e,"ObservablePoint",(function(){return bt})),r.d(e,"PI_2",(function(){return dt})),r.d(e,"Point",(function(){return xt})),r.d(e,"Polygon",(function(){return _t})),r.d(e,"RAD_TO_DEG",(function(){return pt})),r.d(e,"Rectangle",(function(){return mt})),r.d(e,"RoundedRectangle",(function(){return vt})),r.d(e,"SHAPES",(function(){return lt})),r.d(e,"Transform",(function(){return Mt})),r.d(e,"groupD8",(function(){return Rt})),r.d(e,"Mesh",(function(){return pn})),r.d(e,"MeshBatchUvs",(function(){return cn})),r.d(e,"MeshGeometry",(function(){return mn})),r.d(e,"MeshMaterial",(function(){return fn})),r.d(e,"NineSlicePlane",(function(){return so})),r.d(e,"PlaneGeometry",(function(){return eo})),r.d(e,"RopeGeometry",(function(){return ro})),r.d(e,"SimpleMesh",(function(){return oo})),r.d(e,"SimplePlane",(function(){return no})),r.d(e,"SimpleRope",(function(){return io})),r.d(e,"Runner",(function(){return Zt})),r.d(e,"Sprite",(function(){return Hi})),r.d(e,"AnimatedSprite",(function(){return ao})),r.d(e,"TEXT_GRADIENT",(function(){return ji})),r.d(e,"Text",(function(){return Ki})),r.d(e,"TextMetrics",(function(){return Wi})),r.d(e,"TextStyle",(function(){return Yi})),r.d(e,"isMobile",(function(){return I})),r.d(e,"settings",(function(){return Y})),r.d(e,"VERSION",(function(){return ho})),r.d(e,"filters",(function(){return co})),r.d(e,"useDeprecated",(function(){return useDeprecated}));var i={};r.r(i),r.d(i,"isMobile",(function(){return I})),r.d(i,"EventEmitter",(function(){return q.a})),r.d(i,"earcut",(function(){return K.a})),r.d(i,"url",(function(){return J.a})),r.d(i,"BaseTextureCache",(function(){return at})),r.d(i,"CanvasRenderTarget",(function(){return ut})),r.d(i,"DATA_URI",(function(){return ct})),r.d(i,"ProgramCache",(function(){return ot})),r.d(i,"TextureCache",(function(){return st})),r.d(i,"clearTextureCache",(function(){return clearTextureCache})),r.d(i,"correctBlendMode",(function(){return correctBlendMode})),r.d(i,"createIndicesForQuads",(function(){return createIndicesForQuads})),r.d(i,"decomposeDataUri",(function(){return decomposeDataUri})),r.d(i,"deprecation",(function(){return deprecation})),r.d(i,"destroyTextureCache",(function(){return destroyTextureCache})),r.d(i,"determineCrossOrigin",(function(){return determineCrossOrigin})),r.d(i,"getBufferType",(function(){return getBufferType})),r.d(i,"getResolutionOfUrl",(function(){return getResolutionOfUrl})),r.d(i,"hex2rgb",(function(){return hex2rgb})),r.d(i,"hex2string",(function(){return hex2string})),r.d(i,"interleaveTypedArrays",(function(){return interleaveTypedArrays})),r.d(i,"isPow2",(function(){return isPow2})),r.d(i,"isWebGLSupported",(function(){return isWebGLSupported})),r.d(i,"log2",(function(){return log2})),r.d(i,"nextPow2",(function(){return nextPow2})),r.d(i,"premultiplyBlendMode",(function(){return et})),r.d(i,"premultiplyRgba",(function(){return premultiplyRgba})),r.d(i,"premultiplyTint",(function(){return premultiplyTint})),r.d(i,"premultiplyTintToRgba",(function(){return premultiplyTintToRgba})),r.d(i,"removeItems",(function(){return removeItems})),r.d(i,"rgb2hex",(function(){return rgb2hex})),r.d(i,"sayHello",(function(){return sayHello})),r.d(i,"sign",(function(){return sign})),r.d(i,"skipHello",(function(){return skipHello})),r.d(i,"string2hex",(function(){return string2hex})),r.d(i,"trimCanvas",(function(){return trimCanvas})),r.d(i,"uid",(function(){return uid}));var n=r(87),o=r(88),s=r.n(o);window.Promise||(window.Promise=n.Polyfill),Object.assign||(Object.assign=s.a);if(Date.now&&Date.prototype.getTime||(Date.now=function now(){return(new Date).getTime()}),!window.performance||!window.performance.now){var a=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-a}}for(var u=Date.now(),h=["ms","moz","webkit","o"],c=0;c<h.length&&!window.requestAnimationFrame;++c){var l=h[c];window.requestAnimationFrame=window[l+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+u-e;return r<0&&(r=0),u=e,window.setTimeout((function(){u=Date.now(),t(performance.now())}),r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function mathSign(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function numberIsInteger(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var d=/iPhone/i,p=/iPod/i,f=/iPad/i,m=/\biOS-universal(?:.+)Mac\b/i,y=/\bAndroid(?:.+)Mobile\b/i,g=/Android/i,_=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,v=/Silk/i,x=/Windows Phone/i,b=/\bWindows(?:.+)ARM\b/i,T=/BlackBerry/i,S=/BB10/i,E=/Opera Mini/i,w=/\b(CriOS|Chrome)(?:.+)Mobile/i,P=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};var I=function isMobile(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=function createMatch(t){return function(e){return e.test(t)}}(r),o={apple:{phone:n(d)&&!n(x),ipod:n(p),tablet:!n(d)&&(n(f)||isAppleTabletOnIos13(e))&&!n(x),universal:n(m),device:(n(d)||n(p)||n(f)||n(m)||isAppleTabletOnIos13(e))&&!n(x)},amazon:{phone:n(_),tablet:!n(_)&&n(v),device:n(_)||n(v)},android:{phone:!n(x)&&n(_)||!n(x)&&n(y),tablet:!n(x)&&!n(_)&&!n(y)&&(n(v)||n(g)),device:!n(x)&&(n(_)||n(v)||n(y)||n(g))||n(/\bokhttp\b/i)},windows:{phone:n(x),tablet:n(b),device:n(x)||n(b)},other:{blackberry:n(T),blackberry10:n(S),opera:n(E),firefox:n(P),chrome:n(w),device:n(T)||n(S)||n(E)||n(P)||n(w)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator);var A,O,R,M,C,D,L,B,N,k,U,j,G,X,H,z,V,Y={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function maxRecommendedTextures(t){var e=!0;if(I.tablet||I.phone){var r;if(I.apple.device)if(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(r[1],10)<11&&(e=!1);if(I.android.device)if(r=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(r[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:I.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:function canUploadSameBuffer(){return!I.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},W=r(75),q=r.n(W),Z=r(76),K=r.n(Z),Q=r(39),J=r.n(Q);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(A||(A={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(O||(O={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(R||(R={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(M||(M={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(C||(C={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(D||(D={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(L||(L={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(B||(B={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(N||(N={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(k||(k={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(U||(U={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(j||(j={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(G||(G={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(X||(X={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(H||(H={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(z||(z={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(V||(V={})),Y.RETINA_PREFIX=/@([0-9\.]+)x/,Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var $,tt=!1;function skipHello(){tt=!0}function sayHello(t){var e;if(!tt){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 5.3.7 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS 5.3.7 - "+t+" - http://www.pixijs.com/");tt=!0}}function isWebGLSupported(){return void 0===$&&($=function supported(){var t={stencil:!0,failIfMajorPerformanceCaveat:Y.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),$}function hex2rgb(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function hex2string(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function string2hex(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function rgb2hex(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var et=function mapPremultipliedBlendModes(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[M.NORMAL_NPM]=M.NORMAL,t[M.ADD_NPM]=M.ADD,t[M.SCREEN_NPM]=M.SCREEN,e[M.NORMAL]=M.NORMAL_NPM,e[M.ADD]=M.ADD_NPM,e[M.SCREEN]=M.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function correctBlendMode(t,e){return et[e?1:0][t]}function premultiplyRgba(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function premultiplyTint(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}function premultiplyTintToRgba(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function createIndicesForQuads(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function getBufferType(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var rt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function interleaveTypedArrays(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,u=0;for(o=0;o<t.length;o++){var h=e[o],c=t[o],l=getBufferType(c);n[l]||(n[l]=new rt[l](s)),a=n[l];for(var d=0;d<c.length;d++){a[(d/h|0)*i+u+d%h]=c[d]}u+=h}return new Float32Array(s)}function nextPow2(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function isPow2(t){return!(t&t-1||!t)}function log2(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function removeItems(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}function sign(t){return 0===t?0:t<0?-1:1}var it=0;function uid(){return++it}var nt={};function deprecation(t,e,r){if(void 0===r&&(r=3),!nt[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),nt[e]=!0}}var ot={},st=Object.create(null),at=Object.create(null);function destroyTextureCache(){var t;for(t in st)st[t].destroy();for(t in at)at[t].destroy()}function clearTextureCache(){var t;for(t in st)delete st[t];for(t in at)delete at[t]}var ut=function(){function CanvasRenderTarget(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||Y.RESOLUTION,this.resize(t,e)}return CanvasRenderTarget.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},CanvasRenderTarget.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},CanvasRenderTarget.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(CanvasRenderTarget.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(CanvasRenderTarget.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),CanvasRenderTarget}();function trimCanvas(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,u=a.length,h={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<u;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===h.top&&(h.top=i),(null===h.left||r<h.left)&&(h.left=r),(null===h.right||h.right<r)&&(h.right=r+1),(null===h.bottom||h.bottom<i)&&(h.bottom=i));return null!==h.top&&(n=h.right-h.left,o=h.bottom-h.top+1,c=s.getImageData(h.left,h.top,n,o)),{height:o,width:n,data:c}}var ht,ct=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function decomposeDataUri(t){var e=ct.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function determineCrossOrigin(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,ht||(ht=document.createElement("a")),ht.href=t;var r=Object(Q.parse)(ht.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}function getResolutionOfUrl(t,e){var r=Y.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var lt,dt=2*Math.PI,pt=180/Math.PI,ft=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(lt||(lt={}));var mt=function(){function Rectangle(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=lt.RECT}return Object.defineProperty(Rectangle.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(Rectangle.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(Rectangle.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Rectangle.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(Rectangle,"EMPTY",{get:function(){return new Rectangle(0,0,0,0)},enumerable:!1,configurable:!0}),Rectangle.prototype.clone=function(){return new Rectangle(this.x,this.y,this.width,this.height)},Rectangle.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Rectangle.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Rectangle.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},Rectangle.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},Rectangle.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},Rectangle.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},Rectangle.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},Rectangle}(),yt=function(){function Circle(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=lt.CIRC}return Circle.prototype.clone=function(){return new Circle(this.x,this.y,this.radius)},Circle.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},Circle.prototype.getBounds=function(){return new mt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},Circle}(),gt=function(){function Ellipse(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=lt.ELIP}return Ellipse.prototype.clone=function(){return new Ellipse(this.x,this.y,this.width,this.height)},Ellipse.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},Ellipse.prototype.getBounds=function(){return new mt(this.x-this.width,this.y-this.height,this.width,this.height)},Ellipse}(),_t=function(){function Polygon(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var n=[],o=0,s=i.length;o<s;o++)n.push(i[o].x,i[o].y);i=n}this.points=i,this.type=lt.POLY,this.closeStroke=!0}return Polygon.prototype.clone=function(){var t=new Polygon(this.points.slice());return t.closeStroke=this.closeStroke,t},Polygon.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},Polygon}(),vt=function(){function RoundedRectangle(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=lt.RREC}return RoundedRectangle.prototype.clone=function(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},RoundedRectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},RoundedRectangle}(),xt=function(){function Point(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Point.prototype.clone=function(){return new Point(this.x,this.y)},Point.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},Point.prototype.copyTo=function(t){return t.set(this.x,this.y),t},Point.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},Point.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},Point}(),bt=function(){function ObservablePoint(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return ObservablePoint.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new ObservablePoint(t,e,this._x,this._y)},ObservablePoint.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},ObservablePoint.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},ObservablePoint.prototype.copyTo=function(t){return t.set(this._x,this._y),t},ObservablePoint.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(ObservablePoint.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(ObservablePoint.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),ObservablePoint}(),Tt=function(){function Matrix(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}return Matrix.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},Matrix.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},Matrix.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},Matrix.prototype.apply=function(t,e){e=e||new xt;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},Matrix.prototype.applyInverse=function(t,e){e=e||new xt;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},Matrix.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},Matrix.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},Matrix.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},Matrix.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},Matrix.prototype.setTransform=function(t,e,r,i,n,o,s,a,u){return this.a=Math.cos(s+u)*n,this.b=Math.sin(s+u)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},Matrix.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},Matrix.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(dt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Matrix.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Matrix.prototype.clone=function(){var t=new Matrix;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Matrix.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Matrix.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(Matrix,"IDENTITY",{get:function(){return new Matrix},enumerable:!1,configurable:!0}),Object.defineProperty(Matrix,"TEMP_MATRIX",{get:function(){return new Matrix},enumerable:!1,configurable:!0}),Matrix}(),St=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Et=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],wt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Pt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],It=[],At=[],Ot=Math.sign;!function init(){for(var t=0;t<16;t++){var e=[];It.push(e);for(var r=0;r<16;r++)for(var i=Ot(St[t]*St[r]+wt[t]*Et[r]),n=Ot(Et[t]*St[r]+Pt[t]*Et[r]),o=Ot(St[t]*wt[r]+wt[t]*Pt[r]),s=Ot(Et[t]*wt[r]+Pt[t]*Pt[r]),a=0;a<16;a++)if(St[a]===i&&Et[a]===n&&wt[a]===o&&Pt[a]===s){e.push(a);break}}for(t=0;t<16;t++){var u=new Tt;u.set(St[t],Et[t],wt[t],Pt[t],0,0),At.push(u)}}();var Rt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return St[t]},uY:function(t){return Et[t]},vX:function(t){return wt[t]},vY:function(t){return Pt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return It[t][e]},sub:function(t,e){return It[t][Rt.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Rt.S:Rt.N:2*Math.abs(e)<=Math.abs(t)?t>0?Rt.E:Rt.W:e>0?t>0?Rt.SE:Rt.SW:t>0?Rt.NE:Rt.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=At[Rt.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Mt=function(){function Transform(){this.worldTransform=new Tt,this.localTransform=new Tt,this.position=new bt(this.onChange,this,0,0),this.scale=new bt(this.onChange,this,1,1),this.pivot=new bt(this.onChange,this,0,0),this.skew=new bt(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return Transform.prototype.onChange=function(){this._localID++},Transform.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},Transform.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Transform.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},Transform.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(Transform.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),Transform.IDENTITY=new Transform,Transform}();Y.SORTABLE_CHILDREN=!1;var Ct=function(){function Bounds(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return Bounds.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Bounds.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Bounds.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?mt.EMPTY:((t=t||new mt(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Bounds.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Bounds.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},Bounds.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},Bounds.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,u=t.d,h=t.tx,c=t.ty,l=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=o*e+a*r+h,y=s*e+u*r+c;l=m<l?m:l,d=y<d?y:d,p=m>p?m:p,f=y>f?y:f,l=(m=o*i+a*r+h)<l?m:l,d=(y=s*i+u*r+c)<d?y:d,p=m>p?m:p,f=y>f?y:f,l=(m=o*e+a*n+h)<l?m:l,d=(y=s*e+u*n+c)<d?y:d,p=m>p?m:p,f=y>f?y:f,l=(m=o*i+a*n+h)<l?m:l,d=(y=s*i+u*n+c)<d?y:d,p=m>p?m:p,f=y>f?y:f,this.minX=l,this.minY=d,this.maxX=p,this.maxY=f},Bounds.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var u=t[a],h=t[a+1];i=u<i?u:i,n=h<n?h:n,o=u>o?u:o,s=h>s?h:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},Bounds.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},Bounds.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,u=t.c,h=t.d,c=t.tx,l=t.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,y=r;y<i;y+=2){var g=e[y],_=e[y+1],v=s*g+u*_+c,x=h*_+a*g+l;d=Math.min(d,v-n),f=Math.max(f,v+n),p=Math.min(p,x-o),m=Math.max(m,x+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},Bounds.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},Bounds.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>u?n:u,this.maxY=o>h?o:h}},Bounds.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},Bounds.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>u?n:u,this.maxY=o>h?o:h}},Bounds.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},Bounds.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},Bounds}(),extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){function __(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var Dt=function(t){function DisplayObject(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Mt,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Ct,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return __extends(DisplayObject,t),DisplayObject.mixin=function(t){for(var e=Object.keys(t),r=0;r<e.length;++r){var i=e[r];Object.defineProperty(DisplayObject.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},DisplayObject.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},DisplayObject.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},DisplayObject.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new mt),e=this._boundsRect),this._bounds.getRectangle(e)},DisplayObject.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new mt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Ct);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},DisplayObject.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},DisplayObject.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},DisplayObject.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},DisplayObject.prototype.setTransform=function(t,e,r,i,n,o,s,a,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},DisplayObject.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(DisplayObject.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Lt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),DisplayObject.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},DisplayObject.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"angle",{get:function(){return this.transform.rotation*pt},set:function(t){this.transform.rotation=t*ft},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),DisplayObject}(q.a),Lt=function(t){function TemporaryDisplayObject(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return __extends(TemporaryDisplayObject,t),TemporaryDisplayObject}(Dt);function sortChildren(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Dt.prototype.displayObjectUpdateTransform=Dt.prototype.updateTransform;var Ft=function(t){function Container(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=Y.SORTABLE_CHILDREN,e.sortDirty=!1,e}return __extends(Container,t),Container.prototype.onChildrenChange=function(t){},Container.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},Container.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},Container.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},Container.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},Container.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);removeItems(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},Container.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},Container.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,removeItems(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},Container.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},Container.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=t,n=e-i;if(n>0&&n<=e){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},Container.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1},Container.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},Container.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},Container.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},Container.prototype._calculateBounds=function(){},Container.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},Container.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);i=0;for(var n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},Container.prototype._render=function(t){},Container.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},Object.defineProperty(Container.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Container.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),Container}(Dt);Ft.prototype.containerUpdateTransform=Ft.prototype.updateTransform;var Bt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Dt.mixin(Bt);var Nt,kt=function(){function AccessibilityManager(t){this._hookDiv=null,(I.tablet||I.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(AccessibilityManager.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(AccessibilityManager.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),AccessibilityManager.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},AccessibilityManager.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},AccessibilityManager.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},AccessibilityManager.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},AccessibilityManager.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},AccessibilityManager.prototype.update=function(){var t=performance.now();if(!(I.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,i=e.width/this.renderer.width*r,n=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,removeItems(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var u=a.hitArea,h=a.worldTransform;a.hitArea?(o.style.left=(h.tx+u.x*h.a)*i+"px",o.style.top=(h.ty+u.y*h.d)*n+"px",o.style.width=u.width*h.a*i+"px",o.style.height=u.height*h.d*n+"px"):(u=a.getBounds(),this.capHitArea(u),o.style.left=u.x*i+"px",o.style.top=u.y*n+"px",o.style.width=u.width*i+"px",o.style.height=u.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},AccessibilityManager.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},AccessibilityManager.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},AccessibilityManager.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},AccessibilityManager.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},AccessibilityManager.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},AccessibilityManager.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},AccessibilityManager.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},AccessibilityManager.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},AccessibilityManager.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},AccessibilityManager}();Y.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Nt||(Nt={}));var Ut=function(){function TickerListener(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return TickerListener.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},TickerListener.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},TickerListener.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},TickerListener.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},TickerListener}(),jt=function(){function Ticker(){var t=this;this._head=new Ut(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/Y.TARGET_FPMS,this.elapsedMS=1/Y.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return Ticker.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},Ticker.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},Ticker.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},Ticker.prototype.add=function(t,e,r){return void 0===r&&(r=Nt.NORMAL),this._addListener(new Ut(t,e,r))},Ticker.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Nt.NORMAL),this._addListener(new Ut(t,e,r,!0))},Ticker.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},Ticker.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(Ticker.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),Ticker.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},Ticker.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},Ticker.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},Ticker.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Y.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(Ticker.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(Ticker.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Y.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(Ticker.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(Ticker,"shared",{get:function(){if(!Ticker._shared){var t=Ticker._shared=new Ticker;t.autoStart=!0,t._protected=!0}return Ticker._shared},enumerable:!1,configurable:!0}),Object.defineProperty(Ticker,"system",{get:function(){if(!Ticker._system){var t=Ticker._system=new Ticker;t.autoStart=!0,t._protected=!0}return Ticker._system},enumerable:!1,configurable:!0}),Ticker}(),Gt=function(){function TickerPlugin(){}return TickerPlugin.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Nt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?jt.shared:new jt,t.autoStart&&this.start()},TickerPlugin.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},TickerPlugin}(),Xt=function(){function InteractionData(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new xt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(InteractionData.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),InteractionData.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},InteractionData.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},InteractionData.prototype.reset=function(){this.isPrimary=!1},InteractionData}(),interaction_es_extendStatics=function(t,e){return(interaction_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Ht=function(){function InteractionEvent(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return InteractionEvent.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},InteractionEvent.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},InteractionEvent}(),zt=function(){function InteractionTrackingData(t){this._pointerId=t,this._flags=InteractionTrackingData.FLAGS.NONE}return InteractionTrackingData.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(InteractionTrackingData.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(InteractionTrackingData.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(InteractionTrackingData.prototype,"none",{get:function(){return this._flags===InteractionTrackingData.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(InteractionTrackingData.prototype,"over",{get:function(){return 0!=(this._flags&InteractionTrackingData.FLAGS.OVER)},set:function(t){this._doSet(InteractionTrackingData.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(InteractionTrackingData.prototype,"rightDown",{get:function(){return 0!=(this._flags&InteractionTrackingData.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(InteractionTrackingData.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(InteractionTrackingData.prototype,"leftDown",{get:function(){return 0!=(this._flags&InteractionTrackingData.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(InteractionTrackingData.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),InteractionTrackingData.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),InteractionTrackingData}(),Vt=function(){function TreeSearch(){this._tempPoint=new xt}return TreeSearch.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,u=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,u=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),u&&e.interactiveChildren&&e.children)for(var h=e.children,c=h.length-1;c>=0;c--){var l=h[c],d=this.recursiveFindHit(t,l,r,i,a);if(d){if(!l.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},TreeSearch.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},TreeSearch}(),Yt={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Dt.mixin(Yt);var Wt={target:null,data:{global:null}},qt=function(t){function InteractionManager(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new Xt,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new Ht,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Vt,i._tempDisplayObject=new Lt,i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function interaction_es_extends(t,e){function __(){this.constructor=t}interaction_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(InteractionManager,t),Object.defineProperty(InteractionManager.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(InteractionManager.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),InteractionManager.prototype.hitTest=function(t,e){return Wt.target=null,Wt.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(Wt,e,null,!0),Wt.target},InteractionManager.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},InteractionManager.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(jt.system.add(this.tickerUpdate,this,Nt.INTERACTION),this.tickerAdded=!0)},InteractionManager.prototype.removeTickerListener=function(){this.tickerAdded&&(jt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},InteractionManager.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},InteractionManager.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},InteractionManager.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},InteractionManager.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},InteractionManager.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},InteractionManager.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},InteractionManager.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},InteractionManager.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},InteractionManager.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var u=o[a],h=u.displayObject,c=u.eventString,l=u.eventData;l.stopsPropagatingAt===h&&(l.stopPropagationHint=!0),this.dispatchEvent(h,c,l)}return n},InteractionManager.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},InteractionManager.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new zt(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},InteractionManager.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var c=2===a.button;this.emit(c?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId))}},InteractionManager.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},InteractionManager.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},InteractionManager.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},InteractionManager.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,u=!1;if(a){var h=2===i.button,c=zt.FLAGS,l=h?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&l;r?(this.dispatchEvent(e,h?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,h?"rightclick":"click",t),u=!0)):d&&this.dispatchEvent(e,h?"rightupoutside":"mouseupoutside",t),o&&(h?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!u||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},InteractionManager.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},InteractionManager.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},InteractionManager.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},InteractionManager.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new zt(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},InteractionManager.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},InteractionManager.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new Xt).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},InteractionManager.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},InteractionManager.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},InteractionManager.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},InteractionManager.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},InteractionManager}(q.a),Zt=function(){function Runner(t){this.items=[],this._name=t,this._aliasCount=0}return Runner.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var u=this,h=u.name,c=u.items;this._aliasCount++;for(var l=0,d=c.length;l<d;l++)c[l][h](t,e,r,i,n,o,s,a);return c===this.items&&this._aliasCount--,this},Runner.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},Runner.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},Runner.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},Runner.prototype.contains=function(t){return-1!==this.items.indexOf(t)},Runner.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},Runner.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(Runner.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(Runner.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Runner}();Object.defineProperties(Zt.prototype,{dispatch:{value:Zt.prototype.emit},run:{value:Zt.prototype.emit}}),Y.PREFER_ENV=I.any?A.WEBGL:A.WEBGL2,Y.STRICT_TEXTURE_CACHE=!1;var Kt=[];function autoDetectResource(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=Kt.length-1;n>=0;--n){var o=Kt[n];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var core_es_extendStatics=function(t,e){return(core_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function core_es_extends(t,e){function __(){this.constructor=t}core_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var Qt=function(){function Resource(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Zt("setRealSize"),this.onUpdate=new Zt("update"),this.onError=new Zt("onError")}return Resource.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},Resource.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},Resource.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(Resource.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),Resource.prototype.update=function(){this.destroyed||this.onUpdate.emit()},Resource.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(Resource.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(Resource.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Resource.prototype.style=function(t,e,r){return!1},Resource.prototype.dispose=function(){},Resource.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Resource.test=function(t,e){return!1},Resource}(),Jt=function(t){function BufferResource(e,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)||this).data=e,i}return core_es_extends(BufferResource,t),BufferResource.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===j.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},BufferResource.prototype.dispose=function(){this.data=null},BufferResource.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},BufferResource}(Qt),$t={scaleMode:N.NEAREST,format:D.RGBA,alphaMode:j.NPM},te=function(t){function BaseTexture(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=t.call(this)||this,n=(r=r||{}).alphaMode,o=r.mipmap,s=r.anisotropicLevel,a=r.scaleMode,u=r.width,h=r.height,c=r.wrapMode,l=r.format,d=r.type,p=r.target,f=r.resolution,m=r.resourceOptions;return!e||e instanceof Qt||((e=autoDetectResource(e,m)).internal=!0),i.width=u||0,i.height=h||0,i.resolution=f||Y.RESOLUTION,i.mipmap=void 0!==o?o:Y.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:Y.ANISOTROPIC_LEVEL,i.wrapMode=c||Y.WRAP_MODE,i.scaleMode=void 0!==a?a:Y.SCALE_MODE,i.format=l||D.RGBA,i.type=d||B.UNSIGNED_BYTE,i.target=p||L.TEXTURE_2D,i.alphaMode=void 0!==n?n:j.UNPACK,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.uid=uid(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=u>0&&h>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return core_es_extends(BaseTexture,t),Object.defineProperty(BaseTexture.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseTexture.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),BaseTexture.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},BaseTexture.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},BaseTexture.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},BaseTexture.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)},BaseTexture.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},BaseTexture.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},BaseTexture.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},BaseTexture.prototype.onError=function(t){this.emit("error",this,t)},BaseTexture.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete at[this.cacheId],delete st[this.cacheId],this.cacheId=null),this.dispose(),BaseTexture.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},BaseTexture.prototype.dispose=function(){this.emit("dispose",this)},BaseTexture.prototype.castToBaseTexture=function(){return this},BaseTexture.from=function(t,e,r){void 0===r&&(r=Y.STRICT_TEXTURE_CACHE);var i="string"==typeof t,n=null;i?n=t:(t._pixiId||(t._pixiId="pixiid_"+uid()),n=t._pixiId);var o=at[n];if(i&&r&&!o)throw new Error('The cacheId "'+n+'" does not exist in BaseTextureCache.');return o||((o=new BaseTexture(t,e)).cacheId=n,BaseTexture.addToCache(o,n)),o},BaseTexture.fromBuffer=function(t,e,r,i){t=t||new Float32Array(e*r*4);var n=new Jt(t,{width:e,height:r}),o=t instanceof Float32Array?B.FLOAT:B.UNSIGNED_BYTE;return new BaseTexture(n,Object.assign($t,i||{width:e,height:r,type:o}))},BaseTexture.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),at[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),at[e]=t)},BaseTexture.removeFromCache=function(t){if("string"==typeof t){var e=at[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete at[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete at[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},BaseTexture._globalBatch=0,BaseTexture}(q.a),ee=function(t){function AbstractMultiResource(e,r){var i=this,n=r||{},o=n.width,s=n.height;(i=t.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<e;a++){var u=new te;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return core_es_extends(AbstractMultiResource,t),AbstractMultiResource.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof Qt?this.addResourceAt(t[r],r):this.addResourceAt(autoDetectResource(t[r],e),r))},AbstractMultiResource.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},AbstractMultiResource.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},AbstractMultiResource.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},AbstractMultiResource.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},AbstractMultiResource.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,i=e.realHeight;return t.resize(r,i),Promise.resolve(t)})),this._load},AbstractMultiResource}(Qt),re=function(t){function ArrayResource(e,r){var i,n,o=this,s=r||{},a=s.width,u=s.height;return Array.isArray(e)?(i=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:u})||this,i&&o.initFromArray(i,r),o}return core_es_extends(ArrayResource,t),ArrayResource.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},ArrayResource.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=L.TEXTURE_2D_ARRAY},ArrayResource.prototype.upload=function(t,e,r){var i=this,n=i.length,o=i.itemDirtyIds,s=i.items,a=t.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var u=0;u<n;u++){var h=s[u];o[u]<h.dirtyId&&(o[u]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},ArrayResource}(ee),ie=function(t){function BaseImageResource(e){var r=this,i=e,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,n,o)||this).source=e,r.noSubImage=!1,r}return core_es_extends(BaseImageResource,t),BaseImageResource.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=determineCrossOrigin(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},BaseImageResource.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===j.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},BaseImageResource.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),t.prototype.update.call(this)}},BaseImageResource.prototype.dispose=function(){this.source=null},BaseImageResource}(Qt),ne=function(t){function CanvasResource(){return null!==t&&t.apply(this,arguments)||this}return core_es_extends(CanvasResource,t),CanvasResource.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},CanvasResource}(ie),oe=function(t){function CubeResource(e,r){var i=this,n=r||{},o=n.width,s=n.height,a=n.autoLoad,u=n.linkBaseTexture;if(e&&e.length!==CubeResource.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");i=t.call(this,6,{width:o,height:s})||this;for(var h=0;h<CubeResource.SIDES;h++)i.items[h].target=L.TEXTURE_CUBE_MAP_POSITIVE_X+h;return i.linkBaseTexture=!1!==u,e&&i.initFromArray(e,r),!1!==a&&i.load(),i}return core_es_extends(CubeResource,t),CubeResource.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=L.TEXTURE_CUBE_MAP},CubeResource.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=L.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},CubeResource.prototype.upload=function(t,e,r){for(var i=this.itemDirtyIds,n=0;n<CubeResource.SIDES;n++){var o=this.items[n];i[n]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(t,o,r),i[n]=o.dirtyId):i[n]<-1&&(t.gl.texImage2D(o.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),i[n]=-1))}return!0},CubeResource.test=function(t){return Array.isArray(t)&&t.length===CubeResource.SIDES},CubeResource.SIDES=6,CubeResource}(ee),se=function(t){function ImageResource(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var n=new Image;ie.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:Y.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return core_es_extends(ImageResource,t),ImageResource.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var i=e.source;e.url=i.src;var completed=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?completed():(i.onload=completed,i.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},ImageResource.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===j.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},ImageResource.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},ImageResource.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},ImageResource.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},ImageResource}(ie),ae=function(t){function SVGResource(e,r){var i=this;return r=r||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return core_es_extends(SVGResource,t),SVGResource.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},SVGResource.prototype._loadSvg=function(){var t=this,e=new Image;ie.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*t.scale,o=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(n=t._overrideWidth||t._overrideHeight/i*r,o=t._overrideHeight||t._overrideWidth/r*i),n=Math.round(n),o=Math.round(o);var s=t.source;s.width=n,s.height=o,s._pixiId="canvas_"+uid(),s.getContext("2d").drawImage(e,0,0,r,i,0,0,n,o),t._resolve(),t._resolve=null}}},SVGResource.getSize=function(t){var e=SVGResource.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r},SVGResource.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},SVGResource.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},SVGResource.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,SVGResource}(ie),ue=function(t){function VideoResource(e,r){var i=this;if(r=r||{},!(e instanceof HTMLVideoElement)){var n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]);var o=e[0].src||e[0];ie.crossOrigin(n,o,r.crossorigin);for(var s=0;s<e.length;++s){var a=document.createElement("source"),u=e[s],h=u.src,c=u.mime,l=(h=h||e[s]).split("?").shift().toLowerCase(),d=l.substr(l.lastIndexOf(".")+1);c=c||VideoResource.MIME_TYPES[d]||"video/"+d,a.src=h,a.type=c,n.appendChild(a)}e=n}return(i=t.call(this,e)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return core_es_extends(VideoResource,t),VideoResource.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=jt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},VideoResource.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},VideoResource.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},VideoResource.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},VideoResource.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},VideoResource.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(jt.shared.add(this.update,this),this._isConnectedToTicker=!0)},VideoResource.prototype._onPlayStop=function(){this._isConnectedToTicker&&(jt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},VideoResource.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},VideoResource.prototype.dispose=function(){this._isConnectedToTicker&&jt.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(VideoResource.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(jt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(jt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(VideoResource.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),VideoResource.test=function(t,e){return t instanceof HTMLVideoElement||VideoResource.TYPES.indexOf(e)>-1},VideoResource.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],VideoResource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},VideoResource}(ie),he=function(t){function ImageBitmapResource(){return null!==t&&t.apply(this,arguments)||this}return core_es_extends(ImageBitmapResource,t),ImageBitmapResource.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},ImageBitmapResource}(ie);Kt.push(se,he,ne,ue,ae,Jt,oe,re);var ce={Resource:Qt,BaseImageResource:ie,INSTALLED:Kt,autoDetectResource:autoDetectResource,AbstractMultiResource:ee,ArrayResource:re,BufferResource:Jt,CanvasResource:ne,CubeResource:oe,ImageResource:se,SVGResource:ae,VideoResource:ue,ImageBitmapResource:he},le=function(){function System(t){this.renderer=t}return System.prototype.destroy=function(){this.renderer=null},System}(),de=function(t){function DepthResource(){return null!==t&&t.apply(this,arguments)||this}return core_es_extends(DepthResource,t),DepthResource.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===j.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},DepthResource}(Jt),pe=function(){function Framebuffer(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Zt("disposeFramebuffer"),this.multisample=V.NONE}return Object.defineProperty(Framebuffer.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),Framebuffer.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new te(null,{scaleMode:N.NEAREST,resolution:1,mipmap:U.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},Framebuffer.prototype.addDepthTexture=function(t){return this.depthTexture=t||new te(new de(null,{width:this.width,height:this.height}),{scaleMode:N.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:U.OFF,format:D.DEPTH_COMPONENT,type:B.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},Framebuffer.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},Framebuffer.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},Framebuffer.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,e/n)}}},Framebuffer.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Framebuffer.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},Framebuffer}(),fe=function(t){function BaseRenderTexture(e){var r=this;if("number"==typeof e){var i=arguments[0],n=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:n,scaleMode:o,resolution:s}}r=t.call(this,null,e)||this;var a=e||{},u=a.width,h=a.height;return r.mipmap=0,r.width=Math.ceil(u)||100,r.height=Math.ceil(h)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new pe(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return core_es_extends(BaseRenderTexture,t),BaseRenderTexture.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},BaseRenderTexture.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},BaseRenderTexture.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},BaseRenderTexture}(te),me=function(){function TextureUvs(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return TextureUvs.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,u=t.y/n+s;r=Rt.add(r,Rt.NW),this.x0=a+o*Rt.uX(r),this.y0=u+s*Rt.uY(r),r=Rt.add(r,2),this.x1=a+o*Rt.uX(r),this.y1=u+s*Rt.uY(r),r=Rt.add(r,2),this.x2=a+o*Rt.uX(r),this.y2=u+s*Rt.uY(r),r=Rt.add(r,2),this.x3=a+o*Rt.uX(r),this.y3=u+s*Rt.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},TextureUvs}(),ye=new me,ge=function(t){function Texture(e,r,i,n,o,s){var a=t.call(this)||this;if(a.noFrame=!1,r||(a.noFrame=!0,r=new mt(0,0,1,1)),e instanceof Texture&&(e=e.baseTexture),a.baseTexture=e,a._frame=r,a.trim=n,a.valid=!1,a._uvs=ye,a.uvMatrix=null,a.orig=i||r,a._rotate=Number(o||0),!0===o)a._rotate=2;else if(a._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return a.defaultAnchor=s?new xt(s.x,s.y):new xt(0,0),a._updateID=0,a.textureCacheIds=[],e.valid?a.noFrame?e.valid&&a.onBaseTextureUpdated(e):a.frame=r:e.once("loaded",a.onBaseTextureUpdated,a),a.noFrame&&e.on("update",a.onBaseTextureUpdated,a),a}return core_es_extends(Texture,t),Texture.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},Texture.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},Texture.prototype.destroy=function(t){if(this.baseTexture){if(t){var e=this.baseTexture;e&&e.url&&st[e.url]&&Texture.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Texture.removeFromCache(this),this.textureCacheIds=null},Texture.prototype.clone=function(){return new Texture(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},Texture.prototype.updateUvs=function(){this._uvs===ye&&(this._uvs=new me),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},Texture.from=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=Y.STRICT_TEXTURE_CACHE);var i="string"==typeof t,n=null;i?n=t:(t._pixiId||(t._pixiId="pixiid_"+uid()),n=t._pixiId);var o=st[n];if(i&&r&&!o)throw new Error('The cacheId "'+n+'" does not exist in TextureCache.');return o||(e.resolution||(e.resolution=getResolutionOfUrl(t)),(o=new Texture(new te(t,e))).baseTexture.cacheId=n,te.addToCache(o.baseTexture,n),Texture.addToCache(o,n)),o},Texture.fromURL=function(t,e){var r=Object.assign({autoLoad:!1},null==e?void 0:e.resourceOptions),i=Texture.from(t,Object.assign({resourceOptions:r},e),!1),n=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):n.load().then((function(){return Promise.resolve(i)}))},Texture.fromBuffer=function(t,e,r,i){return new Texture(te.fromBuffer(t,e,r,i))},Texture.fromLoader=function(t,e,r){var i=new se(t);i.url=e;var n=new Texture(new te(i,{scaleMode:Y.SCALE_MODE,resolution:getResolutionOfUrl(e)}));return r||(r=e),te.addToCache(n.baseTexture,r),Texture.addToCache(n,r),r!==e&&(te.addToCache(n.baseTexture,e),Texture.addToCache(n,e)),n},Texture.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),st[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),st[e]=t)},Texture.removeFromCache=function(t){if("string"==typeof t){var e=st[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete st[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)st[t.textureCacheIds[i]]===t&&delete st[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(Texture.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(Texture.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(Texture.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(Texture.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(Texture.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),Texture.prototype.castToBaseTexture=function(){return this.baseTexture},Texture}(q.a);function removeAllHandlers(t){t.destroy=function _emptyDestroy(){},t.on=function _emptyOn(){},t.once=function _emptyOnce(){},t.emit=function _emptyEmit(){}}ge.EMPTY=new ge(new te),removeAllHandlers(ge.EMPTY),removeAllHandlers(ge.EMPTY.baseTexture),ge.WHITE=function createWhiteTexture(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new ge(new te(new ne(t)))}(),removeAllHandlers(ge.WHITE),removeAllHandlers(ge.WHITE.baseTexture);var _e=function(t){function RenderTexture(e,r){var i=this,n=null;if(!(e instanceof fe)){var o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],r=null,e=new fe({width:o,height:s,scaleMode:a,resolution:u})}return(i=t.call(this,e,r)||this).legacyRenderer=n,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return core_es_extends(RenderTexture,t),Object.defineProperty(RenderTexture.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),RenderTexture.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},RenderTexture.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},RenderTexture.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new RenderTexture(new fe(t))},RenderTexture}(ge),ve=function(){function RenderTexturePool(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return RenderTexturePool.prototype.createTexture=function(t,e){var r=new fe(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new _e(r)},RenderTexturePool.prototype.getOptimalTexture=function(t,e,r){void 0===r&&(r=1);var i=RenderTexturePool.SCREEN_KEY;t*=r,e*=r,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(i=(65535&(t=nextPow2(t)))<<16|65535&(e=nextPow2(e))),this.texturePool[i]||(this.texturePool[i]=[]);var n=this.texturePool[i].pop();return n||(n=this.createTexture(t,e)),n.filterPoolKey=i,n.setResolution(r),n},RenderTexturePool.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},RenderTexturePool.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},RenderTexturePool.prototype.returnFilterTexture=function(t){this.returnTexture(t)},RenderTexturePool.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},RenderTexturePool.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=RenderTexturePool.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},RenderTexturePool.SCREEN_KEY="screen",RenderTexturePool}(),xe=function(){function Attribute(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return Attribute.prototype.destroy=function(){this.buffer=null},Attribute.from=function(t,e,r,i,n){return new Attribute(t,e,r,i,n)},Attribute}(),be=0,Te=function(){function Buffer(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=be++,this.disposeRunner=new Zt("disposeBuffer")}return Buffer.prototype.update=function(t){this.data=t||this.data,this._updateID++},Buffer.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Buffer.prototype.destroy=function(){this.dispose(),this.data=null},Buffer.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Buffer(t)},Buffer}();function core_es_getBufferType(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Se={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Ee={5126:4,5123:2,5121:1},we=0,Pe={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Ie=function(){function Geometry(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=we++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Zt("disposeGeometry"),this.refCount=0}return Geometry.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Te||(e instanceof Array&&(e=new Float32Array(e)),e=new Te(e));var u=t.split("|");if(u.length>1){for(var h=0;h<u.length;h++)this.addAttribute(u[h],e,r,i,n);return this}var c=this.buffers.indexOf(e);return-1===c&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new xe(c,r,i,n,o,s,a),this.instanced=this.instanced||a,this},Geometry.prototype.getAttribute=function(t){return this.attributes[t]},Geometry.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Geometry.prototype.addIndex=function(t){return t instanceof Te||(t instanceof Array&&(t=new Uint16Array(t)),t=new Te(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Geometry.prototype.getIndex=function(){return this.indexBuffer},Geometry.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new Te;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Ee[n.type]/4),n.buffer=0}for(i.data=function core_es_interleaveTypedArrays(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;var s=new ArrayBuffer(4*r),a=null,u=0;for(o=0;o<t.length;o++){var h=e[o],c=t[o],l=core_es_getBufferType(c);n[l]||(n[l]=new Se[l](s)),a=n[l];for(var d=0;d<c.length;d++)a[(d/h|0)*i+u+d%h]=c[d];u+=h}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Geometry.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Geometry.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Geometry.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Geometry.prototype.clone=function(){for(var t=new Geometry,e=0;e<this.buffers.length;e++)t.buffers[e]=new Te(this.buffers[e].data.slice(0));for(var e in this.attributes){var r=this.attributes[e];t.attributes[e]=new xe(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Geometry.merge=function(t){for(var e,r=new Geometry,i=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(s=0;s<e.buffers.length;s++)i[s]=new(Pe[core_es_getBufferType(e.buffers[s].data)])(n[s]),r.buffers[s]=new Te(i[s]);for(s=0;s<t.length;s++){e=t[s];for(a=0;a<e.buffers.length;a++)i[a].set(e.buffers[a].data,o[a]),o[a]+=e.buffers[a].data.length}if(r.attributes=e.attributes,e.indexBuffer){r.indexBuffer=r.buffers[e.buffers.indexOf(e.indexBuffer)],r.indexBuffer.index=!0;var u=0,h=0,c=0,l=0;for(s=0;s<e.buffers.length;s++)if(e.buffers[s]!==e.indexBuffer){l=s;break}for(var s in e.attributes){var d=e.attributes[s];(0|d.buffer)===l&&(h+=d.size*Ee[d.type]/4)}for(s=0;s<t.length;s++){var p=t[s].indexBuffer.data;for(a=0;a<p.length;a++)r.indexBuffer.data[a+c]+=u;u+=e.buffers[l].data.length/h,c+=p.length}}return r},Geometry}(),Ae=function(t){function Quad(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return core_es_extends(Quad,t),Quad}(Ie),Oe=function(t){function QuadUv(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Te(e.vertices),e.uvBuffer=new Te(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return core_es_extends(QuadUv,t),QuadUv.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},QuadUv.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},QuadUv}(Ie),Re=0,Me=function(){function UniformGroup(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Re++,this.static=!!e}return UniformGroup.prototype.update=function(){this.dirtyId++},UniformGroup.prototype.add=function(t,e,r){this.uniforms[t]=new UniformGroup(e,r)},UniformGroup.from=function(t,e){return new UniformGroup(t,e)},UniformGroup}(),Ce=function(){function FilterState(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new mt,this.destinationFrame=new mt,this.filters=[]}return FilterState.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},FilterState}(),De=function(t){function FilterSystem(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new ve,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Ae,r.quadUv=new Oe,r.tempRect=new mt,r.activeState={},r.globalUniforms=new Me({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return core_es_extends(FilterSystem,t),FilterSystem.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new Ce,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,u=e[0].legacy,h=1;h<e.length;h++){var c=e[h];o=Math.min(o,c.resolution),s=this.useMaxPadding?Math.max(s,c.padding):s+c.padding,a=a&&c.autoFit,u=u||c.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=u,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var l=this.tempRect;l.width=n.sourceFrame.width,l.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,l),r.renderTexture.clear()},FilterSystem.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,G.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var h=e.renderTexture,c=this.getOptimalFilterTexture(h.width,h.height,e.resolution);c.filterFrame=h.filterFrame;var l=0;for(l=0;l<r.length-1;++l){r[l].apply(this,h,c,G.CLEAR,e);var d=h;h=c,c=d}r[l].apply(this,h,u.renderTexture,G.BLEND,e),this.returnFilterTexture(h),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},FilterSystem.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=G.CLEAR),t&&t.filterFrame){var r=this.tempRect;r.width=t.filterFrame.width,r.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,r)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?G.CLEAR:G.BLEND,deprecation("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===G.CLEAR||e===G.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},FilterSystem.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(C.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(C.TRIANGLE_STRIP))},FilterSystem.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(Tt.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},FilterSystem.prototype.destroy=function(){this.texturePool.clear(!1)},FilterSystem.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},FilterSystem.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},FilterSystem.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},FilterSystem.prototype.emptyPool=function(){this.texturePool.clear(!0)},FilterSystem.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},FilterSystem}(le),Le=function(){function ObjectRenderer(t){this.renderer=t}return ObjectRenderer.prototype.flush=function(){},ObjectRenderer.prototype.destroy=function(){this.renderer=null},ObjectRenderer.prototype.start=function(){},ObjectRenderer.prototype.stop=function(){this.flush()},ObjectRenderer.prototype.render=function(t){},ObjectRenderer}(),Fe=function(t){function BatchSystem(e){var r=t.call(this,e)||this;return r.emptyRenderer=new Le(e),r.currentRenderer=r.emptyRenderer,r}return core_es_extends(BatchSystem,t),BatchSystem.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},BatchSystem.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},BatchSystem.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},BatchSystem.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},BatchSystem.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,u=0;u<s;u++){var h=n[u],c=h._batchLocation;if(c>=0&&c<i&&e[c]===h)o[u]=c;else for(;a<i;){var l=e[a];if(!l||l._batchEnabled!==r||l._batchLocation!==a){o[u]=a,h._batchLocation=a,e[a]=h;break}a++}}},BatchSystem}(le),Be=0,Ne=function(t){function ContextSystem(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return core_es_extends(ContextSystem,t),Object.defineProperty(ContextSystem.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),ContextSystem.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Be++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},ContextSystem.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Be++,this.renderer.runners.contextChange.emit(t)},ContextSystem.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},ContextSystem.prototype.createContext=function(t,e){var r;if(Y.PREFER_ENV>=A.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},ContextSystem.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},ContextSystem.prototype.handleContextLost=function(t){t.preventDefault()},ContextSystem.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},ContextSystem.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},ContextSystem.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},ContextSystem.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},ContextSystem}(le),ke=function GLFramebuffer(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=V.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},Ue=new mt,je=function(t){function FramebufferSystem(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new pe(10,10),r.msaaSamples=null,r}return core_es_extends(FramebufferSystem,t),FramebufferSystem.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new mt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Y.PREFER_ENV===A.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},FramebufferSystem.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},FramebufferSystem.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(FramebufferSystem.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),FramebufferSystem.prototype.clear=function(t,e,r,i,n){void 0===n&&(n=R.COLOR|R.DEPTH);var o=this.gl;o.clearColor(t,e,r,i),o.clear(n)},FramebufferSystem.prototype.initFramebuffer=function(t){var e=this.gl,r=new ke(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},FramebufferSystem.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},FramebufferSystem.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=t.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var u=t.depthTexture;this.renderer.texture.bind(u,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},FramebufferSystem.prototype.detectSamples=function(t){var e=this.msaaSamples,r=V.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=V.NONE),r},FramebufferSystem.prototype.blit=function(t,e,r){var i=this,n=i.current,o=i.renderer,s=i.gl,a=i.CONTEXT_UID;if(2===o.context.webGLVersion&&n){var u=n.glFramebuffers[a];if(u){if(!t){if(u.multisample<=1)return;u.blitFramebuffer||(u.blitFramebuffer=new pe(n.width,n.height),u.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),(t=u.blitFramebuffer).width=n.width,t.height=n.height}e||((e=Ue).width=n.width,e.height=n.height),r||(r=e);var h=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,u.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,s.COLOR_BUFFER_BIT,h?s.NEAREST:s.LINEAR)}}},FramebufferSystem.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},FramebufferSystem.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},FramebufferSystem.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},FramebufferSystem.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new mt},FramebufferSystem}(le),Ge=function Ge(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Xe={5126:4,5123:2,5121:1},He=function(t){function GeometrySystem(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return core_es_extends(GeometrySystem,t),GeometrySystem.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;Y.PREFER_ENV===A.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},GeometrySystem.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var o=i[e.program.id]||this.initGeometryVao(t,e.program,n);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},GeometrySystem.prototype.reset=function(){this.unbind()},GeometrySystem.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},GeometrySystem.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},GeometrySystem.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},GeometrySystem.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0),this.checkCompatibility(t,e);var i=this.gl,n=this.CONTEXT_UID,o=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[e.id]=a,a;var u=t.buffers,h=t.attributes,c={},l={};for(var d in u)c[d]=0,l[d]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[h[d].buffer]+=h[d].size*Xe[h[d].type];for(var d in h){var p=h[d],f=p.size;void 0===p.stride&&(c[p.buffer]===f*Xe[p.type]?p.stride=0:p.stride=c[p.buffer]),void 0===p.start&&(p.start=l[p.buffer],l[p.buffer]+=f*Xe[p.type])}a=i.createVertexArray(),i.bindVertexArray(a);for(var m=0;m<u.length;m++){var y=u[m];y._glBuffers[n]||(y._glBuffers[n]=new Ge(i.createBuffer()),this.managedBuffers[y.id]=y,y.disposeRunner.add(this)),r&&y._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,s[e.id]=a,s[o]=a,a},GeometrySystem.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},GeometrySystem.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var u=r[a];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},GeometrySystem.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},GeometrySystem.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var u=o[a],h=n[u.buffer]._glBuffers[i];if(e.attributeData[a]){s!==h&&(r.bindBuffer(r.ARRAY_BUFFER,h.buffer),s=h);var c=e.attributeData[a].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},GeometrySystem.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},GeometrySystem.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},GeometrySystem}(le),ze=function(){function MaskData(t){void 0===t&&(t=null),this.type=z.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return MaskData.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=z.NONE,this.autoDetect=!0),this._target=null},MaskData.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},MaskData}();function compileShader(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function compileProgram(t,e,r,i){var n=compileShader(t,t.VERTEX_SHADER,e),o=compileShader(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function booleanArray(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function core_es_defaultValue(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return booleanArray(2*e);case"bvec3":return booleanArray(3*e);case"bvec4":return booleanArray(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ve,Ye={},We=Ye;function getTestContext(){if(We===Ye||We&&We.isContextLost()){var t=document.createElement("canvas"),e=void 0;Y.PREFER_ENV>=A.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),We=e}return We}function setPrecision(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===H.HIGH&&r!==H.HIGH&&(i=H.MEDIUM),"precision "+i+" float;\n"+t}return r!==H.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var qe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(t){return qe[t]}var Ze=null,Ke={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(t,e){if(!Ze){var r=Object.keys(Ke);Ze={};for(var i=0;i<r.length;++i){var n=r[i];Ze[t[n]]=Ke[n]}}return Ze[e]}var Qe=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Je={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},$e={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var tr,er=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function generateIfTestSrc(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}function checkMaxIfStatementsInShader(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=er.replace(/%forloop%/gi,generateIfTestSrc(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var rr=0,ir={},nr=function(){function Program(t,e,r){void 0===r&&(r="pixi-shader"),this.id=rr++,this.vertexSrc=t||Program.defaultVertexSrc,this.fragmentSrc=e||Program.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),ir[r]?(ir[r]++,r+="-"+ir[r]):ir[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,Y.PRECISION_VERTEX,H.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,Y.PRECISION_FRAGMENT,function getMaxFragmentPrecision(){if(!Ve){Ve=H.MEDIUM;var t=getTestContext();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Ve=e.precision?H.HIGH:H.MEDIUM}}return Ve}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return Program.prototype.extractData=function(t,e){var r=getTestContext();if(r){var i=compileProgram(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},Program.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=mapType(e,s.type),u={type:a,name:s.name,size:mapSize(a),location:0};r[s.name]=u,i.push(u)}i.sort((function(t,e){return t.name>e.name?1:-1}));for(o=0;o<i.length;o++)i[o].location=o;return r},Program.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),u=mapType(e,o.type);r[s]={type:u,size:o.size,isArray:a,value:core_es_defaultValue(u,o.size)}}return r},Object.defineProperty(Program,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Program,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),Program.from=function(t,e,r){var i=t+e,n=ot[i];return n||(ot[i]=n=new Program(t,e,r)),n},Program}(),or=function(){function Shader(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Me?e:new Me(e):new Me({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return Shader.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},Shader.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(Shader.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),Shader.from=function(t,e,r){return new Shader(nr.from(t,e),r)},Shader}(),sr=function(){function State(){this.data=0,this.blendMode=M.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(State.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(State.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(State.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(State.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(State.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(State.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==M.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(State.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),State.for2d=function(){var t=new State;return t.depthTest=!1,t.blend=!0,t},State}(),ar=function(t){function Filter(e,r,i){var n=this,o=nr.from(e||Filter.defaultVertexSrc,r||Filter.defaultFragmentSrc);return(n=t.call(this,o,i)||this).padding=0,n.resolution=Y.FILTER_RESOLUTION,n.enabled=!0,n.autoFit=!0,n.legacy=!!n.program.attributeData.aTextureCoord,n.state=new sr,n}return core_es_extends(Filter,t),Filter.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(Filter.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Filter,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Filter,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),Filter}(or),ur=new Tt,hr=function(){function TextureMatrix(t,e){this._texture=t,this.mapCoord=new Tt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(TextureMatrix.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),TextureMatrix.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},TextureMatrix.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(ur.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(ur));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,u=this.clampOffset;return s[0]=(e._frame.x+a+u)/o.width,s[1]=(e._frame.y+a+u)/o.height,s[2]=(e._frame.x+e._frame.width-a+u)/o.width,s[3]=(e._frame.y+e._frame.height-a+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},TextureMatrix}(),cr=function(t){function SpriteMaskFilter(e){var r=this,i=new Tt;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=i,r}return core_es_extends(SpriteMaskFilter,t),SpriteMaskFilter.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new hr(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},SpriteMaskFilter}(ar),lr=function(t){function MaskSystem(e){var r=t.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return core_es_extends(MaskSystem,t),MaskSystem.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},MaskSystem.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new ze;i.pooled=!0,i.maskObject=e,r=i}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case z.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case z.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case z.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},MaskSystem.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case z.SCISSOR:this.renderer.scissor.pop();break;case z.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case z.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},MaskSystem.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=z.SPRITE;else if(t.type=z.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a),n=Math.atan2(r.d,r.c);i=Math.round(i*(180/Math.PI)*100),n=((n=Math.round(n*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0===(i=(i%9e3+9e3)%9e3)&&9e3===n&&(t.type=z.SCISSOR)}},MaskSystem.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new cr(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},MaskSystem.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},MaskSystem}(le),dr=function(t){function AbstractMaskSystem(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return core_es_extends(AbstractMaskSystem,t),AbstractMaskSystem.prototype.getStackLength=function(){return this.maskStack.length},AbstractMaskSystem.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},AbstractMaskSystem.prototype._useCurrent=function(){},AbstractMaskSystem.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},AbstractMaskSystem}(le),pr=function(t){function ScissorSystem(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return core_es_extends(ScissorSystem,t),ScissorSystem.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},ScissorSystem.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},ScissorSystem.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},ScissorSystem.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,u=(t.y-n.y)*s+o.y,h=t.width*s,c=t.height*s;i&&(a+=i.tx*s,u+=i.ty*s),e||(u=this.renderer.height-c-u),this.renderer.gl.scissor(a,u,h,c)},ScissorSystem}(dr),fr=function(t){function StencilSystem(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return core_es_extends(StencilSystem,t),StencilSystem.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},StencilSystem.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},StencilSystem.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},StencilSystem.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},StencilSystem.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},StencilSystem}(dr),mr=function(t){function ProjectionSystem(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Tt,r.transform=null,r}return core_es_extends(ProjectionSystem,t),ProjectionSystem.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},ProjectionSystem.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},ProjectionSystem.prototype.setTransform=function(t){},ProjectionSystem}(le),yr=new mt,gr=new mt,_r=new mt,vr=function(t){function RenderTextureSystem(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new mt,r.destinationFrame=new mt,r}return core_es_extends(RenderTextureSystem,t),RenderTextureSystem.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;this.current=t,t?(o=(i=t.baseTexture).resolution,e||(yr.width=t.frame.width,yr.height=t.frame.height,e=yr),r||(gr.x=t.frame.x,gr.y=t.frame.y,gr.width=e.width,gr.height=e.height,r=gr),n=i.framebuffer):(o=s.resolution,e||(yr.width=s.screen.width,yr.height=s.screen.height,e=yr),r||((r=yr).width=e.width,r.height=e.height)),_r.x=r.x*o,_r.y=r.y*o,_r.width=r.width*o,_r.height=r.height*o,this.renderer.framebuffer.bind(n,_r),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},RenderTextureSystem.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},RenderTextureSystem.prototype.resize=function(){this.bind(null)},RenderTextureSystem.prototype.reset=function(){this.bind(null)},RenderTextureSystem}(le),xr=function xr(){},br=function(){function GLProgram(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return GLProgram.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},GLProgram}(),Tr=0,Sr={textureCount:0},Er=function(t){function ShaderSystem(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Tr++,r}return core_es_extends(ShaderSystem,t),ShaderSystem.prototype.systemCheck=function(){if(!function unsafeEvalSupported(){if("boolean"==typeof tr)return tr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");tr=!0===t({a:"b"},"a","b")}catch(t){tr=!1}return tr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},ShaderSystem.prototype.contextChange=function(t){this.gl=t,this.reset()},ShaderSystem.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(Sr.textureCount=0,this.syncUniformGroup(t.uniformGroup,Sr)),i},ShaderSystem.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},ShaderSystem.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},ShaderSystem.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},ShaderSystem.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function generateUniformsSync(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(n){for(var o=t.uniforms[i],s=!1,a=0;a<Qe.length;a++)if(Qe[a].test(n,o)){r.push(Qe[a].code(i,o)),s=!0;break}if(!s){var u=(1===n.size?Je:$e)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+u+";")}}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},ShaderSystem.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},ShaderSystem.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},ShaderSystem.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=compileProgram(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:core_es_defaultValue(a.type,a.size)}}var u=new br(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},ShaderSystem.prototype.reset=function(){this.program=null,this.shader=null},ShaderSystem.prototype.destroy=function(){this.destroyed=!0},ShaderSystem}(le);var wr=function(t){function StateSystem(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=M.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new sr,r.defaultState.blend=!0,r}return core_es_extends(StateSystem,t),StateSystem.prototype.contextChange=function(t){this.gl=t,this.blendModes=function mapWebGLBlendModesToPixi(t,e){return void 0===e&&(e=[]),e[M.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.ADD]=[t.ONE,t.ONE],e[M.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.NONE]=[0,0],e[M.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[M.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[M.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[M.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[M.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[M.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[M.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[M.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[M.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[M.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[M.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},StateSystem.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},StateSystem.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},StateSystem.prototype.setBlend=function(t){this.updateCheck(StateSystem.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},StateSystem.prototype.setOffset=function(t){this.updateCheck(StateSystem.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},StateSystem.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},StateSystem.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},StateSystem.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},StateSystem.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},StateSystem.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},StateSystem.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},StateSystem.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},StateSystem.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},StateSystem.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},StateSystem}(le),Pr=function(t){function TextureGCSystem(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=Y.GC_MAX_IDLE,r.checkCountMax=Y.GC_MAX_CHECK_COUNT,r.mode=Y.GC_MODE,r}return core_es_extends(TextureGCSystem,t),TextureGCSystem.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==X.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},TextureGCSystem.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){var o=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},TextureGCSystem.prototype.unload=function(t){var e,r=this.renderer.texture;(null===(e=t._texture)||void 0===e?void 0:e.framebuffer)&&r.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},TextureGCSystem}(le),Ir=function Ir(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Ar=function(t){function TextureSystem(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new te,r}return core_es_extends(TextureSystem,t),TextureSystem.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Ir(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ir(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},TextureSystem.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},TextureSystem.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},TextureSystem.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)},TextureSystem.prototype.initTexture=function(t){var e=new Ir(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},TextureSystem.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===B.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},TextureSystem.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},TextureSystem.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&removeItems(this.managedTextures,i,1)}},TextureSystem.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==U.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=k.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},TextureSystem.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===N.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===N.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===N.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===N.LINEAR?r.LINEAR:r.NEAREST)},TextureSystem}(le),Or={FilterSystem:De,BatchSystem:Fe,ContextSystem:Ne,FramebufferSystem:je,GeometrySystem:He,MaskSystem:lr,ScissorSystem:pr,StencilSystem:fr,ProjectionSystem:mr,RenderTextureSystem:vr,ShaderSystem:Er,StateSystem:wr,TextureGCSystem:Pr,TextureSystem:Ar},Rr=new Tt,Mr=function(t){function AbstractRenderer(e,r){void 0===e&&(e=O.UNKNOWN);var i=t.call(this)||this;return(r=Object.assign({},Y.RENDER_OPTIONS,r)).roundPixels&&(Y.ROUND_PIXELS=r.roundPixels,deprecation("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=r,i.type=e,i.screen=new mt(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||Y.RESOLUTION,i.transparent=r.transparent,i.autoDensity=r.autoDensity||r.autoResize||!1,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return core_es_extends(AbstractRenderer,t),AbstractRenderer.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(AbstractRenderer.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(AbstractRenderer.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),AbstractRenderer.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},AbstractRenderer.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=_e.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return Rr.tx=-i.x,Rr.ty=-i.y,this.render(t,n,!1,Rr,!!t.parent),n},AbstractRenderer.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=O.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(AbstractRenderer.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=hex2string(t),hex2rgb(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),AbstractRenderer}(q.a),Cr=function(t){function Renderer(e){var r=t.call(this,O.WEBGL,e)||this;return e=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Zt("destroy"),contextChange:new Zt("contextChange"),reset:new Zt("reset"),update:new Zt("update"),postrender:new Zt("postrender"),prerender:new Zt("prerender"),resize:new Zt("resize")},r.globalUniforms=new Me({projectionMatrix:new Tt},!0),r.addSystem(lr,"mask").addSystem(Ne,"context").addSystem(wr,"state").addSystem(Er,"shader").addSystem(Ar,"texture").addSystem(He,"geometry").addSystem(je,"framebuffer").addSystem(pr,"scissor").addSystem(fr,"stencil").addSystem(mr,"projection").addSystem(Pr,"textureGC").addSystem(De,"filter").addSystem(vr,"renderTexture").addSystem(Fe,"batch"),r.initPlugins(Renderer.__plugins),e.context?r.context.initFromContext(e.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:e.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,sayHello(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return core_es_extends(Renderer,t),Renderer.create=function(t){if(isWebGLSupported())return new Renderer(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},Renderer.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},Renderer.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},Renderer.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},Renderer.prototype.reset=function(){return this.runners.reset.emit(),this},Renderer.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},Renderer.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},Renderer.registerPlugin=function(t,e){Renderer.__plugins=Renderer.__plugins||{},Renderer.__plugins[t]=e},Renderer}(Mr);function autoDetectRenderer(t){return Cr.create(t)}var Dr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Lr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Fr=function BatchDrawCall(){this.texArray=null,this.blend=0,this.type=C.TRIANGLES,this.start=0,this.size=0,this.data=null},Br=function(){function BatchTextureArray(){this.elements=[],this.ids=[],this.count=0}return BatchTextureArray.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},BatchTextureArray}(),Nr=function(){function ViewableBuffer(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(ViewableBuffer.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(ViewableBuffer.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(ViewableBuffer.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(ViewableBuffer.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(ViewableBuffer.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),ViewableBuffer.prototype.view=function(t){return this[t+"View"]},ViewableBuffer.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},ViewableBuffer.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},ViewableBuffer}(),kr=function(t){function AbstractBatchRenderer(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=sr.for2d(),r.size=4*Y.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return core_es_extends(AbstractBatchRenderer,t),AbstractBatchRenderer.prototype.contextChange=function(){var t=this.renderer.gl;Y.PREFER_ENV===A.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Y.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},AbstractBatchRenderer.prototype.initFlushBuffers=function(){for(var t=AbstractBatchRenderer._drawCallPool,e=AbstractBatchRenderer._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new Fr);for(;e.length<i;)e.push(new Br);for(var n=0;n<this.MAX_TEXTURES;n++)this._tempBoundTextures[n]=null},AbstractBatchRenderer.prototype.onPrerender=function(){this._flushId=0},AbstractBatchRenderer.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},AbstractBatchRenderer.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,r=AbstractBatchRenderer._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++te._globalBatch,a=0,u=r[0],h=0;i.copyBoundTextures(n,e);for(var c=0;c<this._bufferSize;++c){var l=t[c];t[c]=null,l._batchEnabled!==s&&(u.count>=e&&(i.boundArray(u,n,s,e),this.buildDrawCalls(u,h,c),h=c,u=r[++a],++s),l._batchEnabled=s,l.touched=o,u.elements[u.count++]=l)}u.count>0&&(i.boundArray(u,n,s,e),this.buildDrawCalls(u,h,this._bufferSize),++a,++s);for(c=0;c<n.length;c++)n[c]=null;te._globalBatch=s},AbstractBatchRenderer.prototype.buildDrawCalls=function(t,e,r){var i=this,n=i._bufferedElements,o=i._attributeBuffer,s=i._indexBuffer,a=i.vertexSize,u=AbstractBatchRenderer._drawCallPool,h=this._dcIndex,c=this._aIndex,l=this._iIndex,d=u[h];d.start=this._iIndex,d.texArray=t;for(var p=e;p<r;++p){var f=n[p],m=f._texture.baseTexture,y=et[m.alphaMode?1:0][f.blendMode];n[p]=null,e<p&&d.blend!==y&&(d.size=l-d.start,e=p,(d=u[++h]).texArray=t,d.start=l),this.packInterleavedGeometry(f,o,s,c,l),c+=f.vertexData.length/2*a,l+=f.indices.length,d.blend=y}e<r&&(d.size=l-d.start,++h),this._dcIndex=h,this._aIndex=c,this._iIndex=l},AbstractBatchRenderer.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},AbstractBatchRenderer.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,i=t._indexBuffer;Y.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},AbstractBatchRenderer.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,r=e.gl,i=e.state,n=AbstractBatchRenderer._drawCallPool,o=null,s=0;s<t;s++){var a=n[s],u=a.texArray,h=a.type,c=a.size,l=a.start,d=a.blend;o!==u&&(o=u,this.bindAndClearTexArray(u)),this.state.blendMode=d,i.set(this.state),r.drawElements(h,c,r.UNSIGNED_SHORT,2*l)}},AbstractBatchRenderer.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},AbstractBatchRenderer.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),Y.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},AbstractBatchRenderer.prototype.stop=function(){this.flush()},AbstractBatchRenderer.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},AbstractBatchRenderer.prototype.getAttributeBuffer=function(t){var e=nextPow2(Math.ceil(t/8)),r=log2(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new Nr(i*this.vertexSize*4)),n},AbstractBatchRenderer.prototype.getIndexBuffer=function(t){var e=nextPow2(Math.ceil(t/12)),r=log2(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},AbstractBatchRenderer.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,u=t.uvs,h=t.indices,c=t.vertexData,l=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?premultiplyTint(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<c.length;f+=2)s[i++]=c[f],s[i++]=c[f+1],s[i++]=u[f],s[i++]=u[f+1],o[i++]=p,s[i++]=l;for(f=0;f<h.length;f++)r[n++]=a+h[f]},AbstractBatchRenderer._drawCallPool=[],AbstractBatchRenderer._textureArrayPool=[],AbstractBatchRenderer}(Le),Ur=function(){function BatchShaderGenerator(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return BatchShaderGenerator.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Me.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new nr(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Tt,default:this.defaultGroupCache[t]};return new or(this.programCache[t],n)},BatchShaderGenerator.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},BatchShaderGenerator}(),jr=function(t){function BatchGeometry(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new Te(null,e,!1),r._indexBuffer=new Te(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,B.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,B.FLOAT).addAttribute("aColor",r._buffer,4,!0,B.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,B.FLOAT).addIndex(r._indexBuffer),r}return core_es_extends(BatchGeometry,t),BatchGeometry}(Ie),Gr="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Xr="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Hr=function(){function BatchPluginFactory(){}return BatchPluginFactory.create=function(t){var e=Object.assign({vertex:Gr,fragment:Xr,geometryClass:jr,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function BatchPlugin(e){var s=t.call(this,e)||this;return s.shaderGenerator=new Ur(r,i),s.geometryClass=o,s.vertexSize=n,s}return core_es_extends(BatchPlugin,t),BatchPlugin}(kr)},Object.defineProperty(BatchPluginFactory,"defaultVertexSrc",{get:function(){return Gr},enumerable:!1,configurable:!0}),Object.defineProperty(BatchPluginFactory,"defaultFragmentTemplate",{get:function(){return Xr},enumerable:!1,configurable:!0}),BatchPluginFactory}(),zr=Hr.create(),Vr=function(){function Application(t){var e=this;t=Object.assign({forceCanvas:!1},t),this.renderer=autoDetectRenderer(t),this.stage=new Ft,Application._plugins.forEach((function(r){r.init.call(e,t)}))}return Application.registerPlugin=function(t){Application._plugins.push(t)},Application.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(Application.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(Application.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),Application.prototype.destroy=function(t,e){var r=this,i=Application._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},Application}();Vr._plugins=[];var Yr=function(){function ResizePlugin(){}return ResizePlugin.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,r=window.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,r=i.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},ResizePlugin.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},ResizePlugin}();Vr.registerPlugin(Yr);var Wr=new mt,qr=function(){function Extract(t){this.renderer=t,t.extract=this}return Extract.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},Extract.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},Extract.prototype.canvas=function(t){var e,r,i,n=this.renderer,o=!1,s=!1;t&&(t instanceof _e?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(e=i.baseTexture.resolution,r=i.frame,o=!1,n.renderTexture.bind(i)):(e=this.renderer.resolution,o=!0,(r=Wr).width=this.renderer.width,r.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(r.width*e+1e-4),u=Math.floor(r.height*e+1e-4),h=new ut(a,u,1),c=new Uint8Array(4*a*u),l=n.gl;l.readPixels(r.x*e,r.y*e,a,u,l.RGBA,l.UNSIGNED_BYTE,c);var d=h.context.getImageData(0,0,a,u);if(Extract.arrayPostDivide(c,d.data),h.context.putImageData(d,0,0),o){var p=new ut(h.width,h.height,1);p.context.scale(1,-1),p.context.drawImage(h.canvas,0,-u),h.destroy(),h=p}return s&&i.destroy(!0),h.canvas},Extract.prototype.pixels=function(t){var e,r,i,n=this.renderer,o=!1;t&&(t instanceof _e?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(e=i.baseTexture.resolution,r=i.frame,n.renderTexture.bind(i)):(e=n.resolution,(r=Wr).width=n.width,r.height=n.height,n.renderTexture.bind(null));var s=r.width*e,a=r.height*e,u=new Uint8Array(4*s*a),h=n.gl;return h.readPixels(r.x*e,r.y*e,s,a,h.RGBA,h.UNSIGNED_BYTE,u),o&&i.destroy(!0),Extract.arrayPostDivide(u,u),u},Extract.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},Extract.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},Extract}(),Zr=r(60),Kr=r.n(Zr),Qr=r(11),Jr=r.n(Qr);function _noop(){}function eachSeries(t,e,r,i){var n=0,o=t.length;!function next(s){s||n===o?r&&r(s):i?setTimeout((function(){e(t[n++],next)}),1):e(t[n++],next)}()}function onlyOnce(t){return function onceWrapper(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function resource_loader_esm_queue(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:_noop,unsaturated:_noop,buffer:e/4,empty:_noop,drain:_noop,error:_noop,started:!1,paused:!1,push:function push(t,e){_insert(t,!1,e)},kill:function kill(){r=0,i.drain=_noop,i.started=!1,i._tasks=[]},unshift:function unshift(t,e){_insert(t,!0,e)},process:function process(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,onlyOnce(_next(e)))}},length:function length(){return i._tasks.length},running:function running(){return r},idle:function idle(){return i._tasks.length+r===0},pause:function pause(){!0!==i.paused&&(i.paused=!0)},resume:function resume(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function _insert(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:_noop};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function _next(t){return function next(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var $r={};function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}var ti=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),ei=null;function _noop$1(){}var ri=function(){function Resource(t,e,r){if("string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(Resource.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=Resource.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Jr.a,this.onProgress=new Jr.a,this.onComplete=new Jr.a,this.onAfterMiddleware=new Jr.a}Resource.setExtensionLoadType=function setExtensionLoadType(t,e){setExtMap(Resource._loadTypeMap,t,e)},Resource.setExtensionXhrType=function setExtensionXhrType(t,e){setExtMap(Resource._xhrTypeMap,t,e)};var t=Resource.prototype;return t.complete=function complete(){this._clearEvents(),this._finish()},t.abort=function abort(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=Resource.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function load(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout((function(){return t(e)}),1);else switch(t&&this.onComplete.once(t),this._setFlag(Resource.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case Resource.LOAD_TYPE.IMAGE:this.type=Resource.TYPE.IMAGE,this._loadElement("image");break;case Resource.LOAD_TYPE.AUDIO:this.type=Resource.TYPE.AUDIO,this._loadSourceElement("audio");break;case Resource.LOAD_TYPE.VIDEO:this.type=Resource.TYPE.VIDEO,this._loadSourceElement("video");break;case Resource.LOAD_TYPE.XHR:default:ti&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function _hasFlag(t){return 0!=(this._flags&t)},t._setFlag=function _setFlag(t,e){this._flags=e?this._flags|t:this._flags&~t},t._clearEvents=function _clearEvents(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function _finish(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(Resource.STATUS_FLAGS.COMPLETE,!0),this._setFlag(Resource.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function _loadElement(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function _loadSourceElement(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t._loadXhr=function _loadXhr(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===Resource.XHR_RESPONSE_TYPE.JSON||this.xhrType===Resource.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=Resource.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function _loadXdr(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},t._createSource=function _createSource(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},t._onError=function _onError(t){this.abort("Failed to load element using: "+t.target.nodeName)},t._onProgress=function _onProgress(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t._onTimeout=function _onTimeout(){this.abort("Load timed out.")},t._xhrOnError=function _xhrOnError(){var t=this.xhr;this.abort(reqType(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t._xhrOnTimeout=function _xhrOnTimeout(){var t=this.xhr;this.abort(reqType(t)+" Request timed out.")},t._xhrOnAbort=function _xhrOnAbort(){var t=this.xhr;this.abort(reqType(t)+" Request was aborted by the user.")},t._xhrOnLoad=function _xhrOnLoad(){var t=this.xhr,e="",r=void 0===t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(e=t.responseText),0===r&&(e.length>0||t.responseType===Resource.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===Resource.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=Resource.TYPE.TEXT;else if(this.xhrType===Resource.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=Resource.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===Resource.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(e,"text/xml")}else{var n=document.createElement("div");n.innerHTML=e,this.data=n}this.type=Resource.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},t._determineCrossOrigin=function _determineCrossOrigin(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,ei||(ei=document.createElement("a")),ei.href=t;var r=!(t=Kr()(ei.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},t._determineXhrType=function _determineXhrType(){return Resource._xhrTypeMap[this.extension]||Resource.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function _determineLoadType(){return Resource._loadTypeMap[this.extension]||Resource.LOAD_TYPE.XHR},t._getExtension=function _getExtension(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t._getMimeFromXhrType=function _getMimeFromXhrType(t){switch(t){case Resource.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case Resource.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case Resource.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case Resource.XHR_RESPONSE_TYPE.JSON:return"application/json";case Resource.XHR_RESPONSE_TYPE.DEFAULT:case Resource.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},_createClass(Resource,[{key:"isDataUrl",get:function get(){return this._hasFlag(Resource.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function get(){return this._hasFlag(Resource.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function get(){return this._hasFlag(Resource.STATUS_FLAGS.LOADING)}}]),Resource}();function setExtMap(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function reqType(t){return t.toString().replace("object ","")}ri.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},ri.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},ri.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},ri.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},ri._loadTypeMap={gif:ri.LOAD_TYPE.IMAGE,png:ri.LOAD_TYPE.IMAGE,bmp:ri.LOAD_TYPE.IMAGE,jpg:ri.LOAD_TYPE.IMAGE,jpeg:ri.LOAD_TYPE.IMAGE,tif:ri.LOAD_TYPE.IMAGE,tiff:ri.LOAD_TYPE.IMAGE,webp:ri.LOAD_TYPE.IMAGE,tga:ri.LOAD_TYPE.IMAGE,svg:ri.LOAD_TYPE.IMAGE,"svg+xml":ri.LOAD_TYPE.IMAGE,mp3:ri.LOAD_TYPE.AUDIO,ogg:ri.LOAD_TYPE.AUDIO,wav:ri.LOAD_TYPE.AUDIO,mp4:ri.LOAD_TYPE.VIDEO,webm:ri.LOAD_TYPE.VIDEO},ri._xhrTypeMap={xhtml:ri.XHR_RESPONSE_TYPE.DOCUMENT,html:ri.XHR_RESPONSE_TYPE.DOCUMENT,htm:ri.XHR_RESPONSE_TYPE.DOCUMENT,xml:ri.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ri.XHR_RESPONSE_TYPE.DOCUMENT,svg:ri.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ri.XHR_RESPONSE_TYPE.DOCUMENT,gif:ri.XHR_RESPONSE_TYPE.BLOB,png:ri.XHR_RESPONSE_TYPE.BLOB,bmp:ri.XHR_RESPONSE_TYPE.BLOB,jpg:ri.XHR_RESPONSE_TYPE.BLOB,jpeg:ri.XHR_RESPONSE_TYPE.BLOB,tif:ri.XHR_RESPONSE_TYPE.BLOB,tiff:ri.XHR_RESPONSE_TYPE.BLOB,webp:ri.XHR_RESPONSE_TYPE.BLOB,tga:ri.XHR_RESPONSE_TYPE.BLOB,json:ri.XHR_RESPONSE_TYPE.JSON,text:ri.XHR_RESPONSE_TYPE.TEXT,txt:ri.XHR_RESPONSE_TYPE.TEXT,ttf:ri.XHR_RESPONSE_TYPE.BUFFER,otf:ri.XHR_RESPONSE_TYPE.BUFFER},ri.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var ii=window.URL||window.webkitURL;var ni={caching:function caching(t,e){var r=this;$r[t.url]?(t.data=$r[t.url],t.complete()):t.onComplete.once((function(){return $r[r.url]=r.data})),e()},parsing:function parsing(t,e){if(t.data){if(t.xhr&&t.xhrType===ri.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=ii.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=ri.TYPE.IMAGE,void(t.data.onload=function(){ii.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function encodeBinary(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return e}(t.xhr.responseText),t.type=ri.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},oi=/(#[\w-]+)?$/,si=function(){function Loader(t,e){var r=this;void 0===t&&(t=""),void 0===e&&(e=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=resource_loader_esm_queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Jr.a,this.onError=new Jr.a,this.onLoad=new Jr.a,this.onStart=new Jr.a,this.onComplete=new Jr.a;for(var i=0;i<Loader._defaultBeforeMiddleware.length;++i)this.pre(Loader._defaultBeforeMiddleware[i]);for(var n=0;n<Loader._defaultAfterMiddleware.length;++n)this.use(Loader._defaultAfterMiddleware[n])}var t=Loader.prototype;return t.add=function add(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new ri(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=u;for(var h=0;h<s.length;++h)s[h].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},t.pre=function pre(t){return this._beforeMiddleware.push(t),this},t.use=function use(t){return this._afterMiddleware.push(t),this},t.reset=function reset(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.load=function load(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function _prepareUrl(t){var e,r=Kr()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=oi.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},t._loadResource=function _loadResource(t,e){var r=this;t._dequeue=e,eachSeries(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},t._onStart=function _onStart(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function _onComplete(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function _onLoad(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),eachSeries(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},_createClass(Loader,[{key:"concurrency",get:function get(){return this._queue.concurrency},set:function set(t){this._queue.concurrency=t}}]),Loader}();si._defaultBeforeMiddleware=[],si._defaultAfterMiddleware=[],si.pre=function LoaderPreStatic(t){return si._defaultBeforeMiddleware.push(t),si},si.use=function LoaderUseStatic(t){return si._defaultAfterMiddleware.push(t),si};var ai=ri,loaders_es_extendStatics=function(t,e){return(loaders_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ui=function(){function TextureLoader(){}return TextureLoader.use=function(t,e){t.data&&t.type===ri.TYPE.IMAGE&&(t.texture=ge.fromLoader(t.data,t.url,t.name)),e()},TextureLoader}(),hi=function(t){function Loader(e,r){for(var i=t.call(this,e,r)||this,n=0;n<Loader._plugins.length;++n){var o=Loader._plugins[n],s=o.pre,a=o.use;s&&i.pre(s),a&&i.use(a)}return i._protected=!1,i}return function loaders_es_extends(t,e){function __(){this.constructor=t}loaders_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(Loader,t),Loader.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(Loader,"shared",{get:function(){var t=Loader._shared;return t||((t=new Loader)._protected=!0,Loader._shared=t),t},enumerable:!1,configurable:!0}),Loader.registerPlugin=function(t){return Loader._plugins.push(t),t.add&&t.add(),Loader},Loader._plugins=[],Loader}(si);hi.registerPlugin({use:ni.parsing}),hi.registerPlugin(ui);var ci=function(){function AppLoaderPlugin(){}return AppLoaderPlugin.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?hi.shared:new hi},AppLoaderPlugin.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},AppLoaderPlugin}(),particles_es_extendStatics=function(t,e){return(particles_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function particles_es_extends(t,e){function __(){this.constructor=t}particles_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var li,di,pi=function(t){function ParticleContainer(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var o=t.call(this)||this;return i>16384&&(i=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=M.NORMAL,o.autoResize=n,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return particles_es_extends(ParticleContainer,t),ParticleContainer.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},ParticleContainer.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(ParticleContainer.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,hex2rgb(t,this.tintRgb)},enumerable:!1,configurable:!0}),ParticleContainer.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},ParticleContainer.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},ParticleContainer.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},ParticleContainer.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},ParticleContainer}(Ft),fi=function(){function ParticleBuffer(t,e,r){this.geometry=new Ie,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||B.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return ParticleBuffer.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Te(createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Te(this.dynamicData,!1,!1);var n=0;this.staticStride=0;for(r=0;r<this.staticProperties.length;++r){(s=this.staticProperties[r]).offset=n,n+=s.size,this.staticStride+=s.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Te(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===B.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r){s=this.staticProperties[r];t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===B.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)}},ParticleBuffer.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===B.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},ParticleBuffer.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===B.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},ParticleBuffer.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},ParticleBuffer}(),mi=function(t){function ParticleRenderer(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Tt,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:B.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=or.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=sr.for2d(),r}return particles_es_extends(ParticleRenderer,t),ParticleRenderer.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.state.blendMode=correctBlendMode(t.blendMode,a.alphaMode),n.state.set(this.state);var u=n.gl,h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var c=!1,l=0,d=0;l<o;l+=i,d+=1){var p=o-l;p>i&&(p=i),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,l,p);var m=t._bufferUpdateIDs[d]||0;(c=c||f._updateID<m)&&(f._updateID=t._updateID,f.uploadStatic(e,l,p)),n.geometry.bind(f.geometry),u.drawElements(u.TRIANGLES,6*p,u.UNSIGNED_SHORT,0)}}},ParticleRenderer.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new fi(this.properties,n,i));return e},ParticleRenderer.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new fi(this.properties,r,e)},ParticleRenderer.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,u=0,h=0,c=0;c<r;++c){var l=t[e+c],d=l._texture,p=l.scale.x,f=l.scale.y,m=d.trim,y=d.orig;m?(s=(a=m.x-l.anchor.x*y.width)+m.width,u=(h=m.y-l.anchor.y*y.height)+m.height):(s=y.width*(1-l.anchor.x),a=y.width*-l.anchor.x,u=y.height*(1-l.anchor.y),h=y.height*-l.anchor.y),i[o]=a*p,i[o+1]=h*f,i[o+n]=s*p,i[o+n+1]=h*f,i[o+2*n]=s*p,i[o+2*n+1]=u*f,i[o+3*n]=a*p,i[o+3*n+1]=u*f,o+=4*n}},ParticleRenderer.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},ParticleRenderer.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},ParticleRenderer.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},ParticleRenderer.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],u=a._texture.baseTexture.alphaMode>0,h=a.alpha,c=h<1&&u?premultiplyTint(a._tintRGB,h):a._tintRGB+(255*h<<24);i[o]=c,i[o+n]=c,i[o+2*n]=c,i[o+3*n]=c,o+=4*n}},ParticleRenderer.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},ParticleRenderer}(Le);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(li||(li={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(di||(di={}));var yi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},gi=function(){function FillStyle(){this.color=16777215,this.alpha=1,this.texture=ge.WHITE,this.matrix=null,this.visible=!1,this.reset()}return FillStyle.prototype.clone=function(){var t=new FillStyle;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},FillStyle.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ge.WHITE,this.matrix=null,this.visible=!1},FillStyle.prototype.destroy=function(){this.texture=null,this.matrix=null},FillStyle}(),graphics_es_extendStatics=function(t,e){return(graphics_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function graphics_es_extends(t,e){function __(){this.constructor=t}graphics_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var _i={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var u=i[a];s.push(r.length/2),r=r.concat(u.points)}var h=K()(r,s,2);if(!h)return;var c=n.length/2;for(a=0;a<h.length;a+=3)o.push(h[a]+c),o.push(h[a+1]+c),o.push(h[a+2]+c);for(a=0;a<r.length;a++)n.push(r[a])}}},vi={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===lt.CIRC)e=i.radius,r=i.radius;else{var a=t.shape;e=a.width,r=a.height}if(0!==e&&0!==r){var u=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(e+r));u/=2.3;for(var h=2*Math.PI/u,c=0;c<u-.5;c++)n.push(o+Math.sin(-h*c)*e,s+Math.cos(-h*c)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,u=t.matrix,h=a.x,c=a.y;i.push(t.matrix?u.a*h+u.c*c+u.tx:h,t.matrix?u.b*h+u.d*c+u.ty:c);for(var l=0;l<r.length;l+=2)i.push(r[l],r[l+1]),n.push(o++,s,o)}},xi={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function getPt(t,e,r){return t+(e-t)*r}function quadraticBezierCurve(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,u=0,h=0,c=0,l=0,d=0,p=0,f=0,m=0;f<=20;++f)u=getPt(t,r,m=f/20),h=getPt(e,i,m),c=getPt(r,n,m),l=getPt(i,o,m),d=getPt(u,c,m),p=getPt(h,l,m),a.push(d,p);return a}var bi={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(quadraticBezierCurve(i,n+a,i,n,i+a,n,r),quadraticBezierCurve(i+o-a,n,i+o,n,i+o,n+a,r),quadraticBezierCurve(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),quadraticBezierCurve(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=K()(r,null,2),a=0,u=s.length;a<u;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,u=r.length;a<u;a++)i.push(r[a],r[++a])}};function square(t,e,r,i,n,o,s,a){var u,h;s?(u=i,h=-r):(u=-i,h=r);var c=t-r*n+u,l=e-i*n+h,d=t+r*o+u,p=e+i*o+h;return a.push(c,l),a.push(d,p),2}function round(t,e,r,i,n,o,s,a){var u=r-t,h=i-e,c=Math.atan2(u,h),l=Math.atan2(n-t,o-e);a&&c<l?c+=2*Math.PI:!a&&c>l&&(l+=2*Math.PI);var d=c,p=l-c,f=Math.abs(p),m=Math.sqrt(u*u+h*h),y=1+(15*f*Math.sqrt(m)/Math.PI>>0),g=p/y;if(d+=g,a){s.push(t,e),s.push(r,i);for(var _=1,v=d;_<y;_++,v+=g)s.push(t,e),s.push(t+Math.sin(v)*m,e+Math.cos(v)*m);s.push(t,e),s.push(n,o)}else{s.push(r,i),s.push(t,e);for(_=1,v=d;_<y;_++,v+=g)s.push(t+Math.sin(v)*m,e+Math.cos(v)*m),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*y}function buildLine(t,e){t.lineStyle.native?function buildNativeLine(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==lt.POLY||i.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,u=n.length/2,h=s.length/2,c=h;for(s.push(n[0],n[1]),r=1;r<u;r++)s.push(n[2*r],n[2*r+1]),a.push(c,c+1),c++;o&&a.push(c,h)}}(t,e):function buildNonNativeLine(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o=t.lineStyle,s=new xt(i[0],i[1]),a=new xt(i[i.length-2],i[i.length-1]),u=r.type!==lt.POLY||r.closeStroke,h=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(u){i=i.slice(),h&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var c=.5*(s.x+a.x),l=.5*(a.y+s.y);i.unshift(c,l),i.push(c,l)}var d=e.points,p=i.length/2,f=i.length,m=d.length/2,y=o.width/2,g=y*y,_=o.miterLimit*o.miterLimit,v=i[0],x=i[1],b=i[2],T=i[3],S=0,E=0,w=-(x-T),P=v-b,I=0,A=0,O=Math.sqrt(w*w+P*P);w/=O,P/=O,w*=y,P*=y;var R=o.alignment,M=2*(1-R),C=2*R;u||(o.cap===di.ROUND?f+=round(v-w*(M-C)*.5,x-P*(M-C)*.5,v-w*M,x-P*M,v+w*C,x+P*C,d,!0)+2:o.cap===di.SQUARE&&(f+=square(v,x,w,P,M,C,!0,d))),d.push(v-w*M,x-P*M),d.push(v+w*C,x+P*C);for(var D=1;D<p-1;++D){v=i[2*(D-1)],x=i[2*(D-1)+1],b=i[2*D],T=i[2*D+1],S=i[2*(D+1)],E=i[2*(D+1)+1],w=-(x-T),P=v-b,w/=O=Math.sqrt(w*w+P*P),P/=O,w*=y,P*=y,I=-(T-E),A=b-S,I/=O=Math.sqrt(I*I+A*A),A/=O,I*=y,A*=y;var L=b-v,B=x-T,N=b-S,k=E-T,U=B*N-k*L,j=U<0;if(Math.abs(U)<.1)d.push(b-w*M,T-P*M),d.push(b+w*C,T+P*C);else{var G=(-w+v)*(-P+T)-(-w+b)*(-P+x),X=(-I+S)*(-A+T)-(-I+b)*(-A+E),H=(L*X-N*G)/U,z=(k*G-B*X)/U,V=(H-b)*(H-b)+(z-T)*(z-T),Y=b+(H-b)*M,W=T+(z-T)*M,q=b-(H-b)*C,Z=T-(z-T)*C,K=j?M:C;V<=Math.min(L*L+B*B,N*N+k*k)+K*K*g?o.join===li.BEVEL||V/g>_?(j?(d.push(Y,W),d.push(b+w*C,T+P*C),d.push(Y,W),d.push(b+I*C,T+A*C)):(d.push(b-w*M,T-P*M),d.push(q,Z),d.push(b-I*M,T-A*M),d.push(q,Z)),f+=2):o.join===li.ROUND?j?(d.push(Y,W),d.push(b+w*C,T+P*C),f+=round(b,T,b+w*C,T+P*C,b+I*C,T+A*C,d,!0)+4,d.push(Y,W),d.push(b+I*C,T+A*C)):(d.push(b-w*M,T-P*M),d.push(q,Z),f+=round(b,T,b-w*M,T-P*M,b-I*M,T-A*M,d,!1)+4,d.push(b-I*M,T-A*M),d.push(q,Z)):(d.push(Y,W),d.push(q,Z)):(d.push(b-w*M,T-P*M),d.push(b+w*C,T+P*C),o.join===li.BEVEL||V/g>_||(o.join===li.ROUND?f+=j?round(b,T,b+w*C,T+P*C,b+I*C,T+A*C,d,!0)+2:round(b,T,b-w*M,T-P*M,b-I*M,T-A*M,d,!1)+2:(j?(d.push(q,Z),d.push(q,Z)):(d.push(Y,W),d.push(Y,W)),f+=2)),d.push(b-I*M,T-A*M),d.push(b+I*C,T+A*C),f+=2)}}v=i[2*(p-2)],x=i[2*(p-2)+1],b=i[2*(p-1)],w=-(x-(T=i[2*(p-1)+1])),P=v-b,w/=O=Math.sqrt(w*w+P*P),P/=O,w*=y,P*=y,d.push(b-w*M,T-P*M),d.push(b+w*C,T+P*C),u||(o.cap===di.ROUND?f+=round(b-w*(M-C)*.5,T-P*(M-C)*.5,b-w*M,T-P*M,b+w*C,T+P*C,d,!1)+2:o.cap===di.SQUARE&&(f+=square(b,T,w,P,M,C,!1,d)));var Q=e.indices,J=yi.epsilon*yi.epsilon;for(D=m;D<f+m-2;++D)v=d[2*D],x=d[2*D+1],b=d[2*(D+1)],T=d[2*(D+1)+1],S=d[2*(D+2)],E=d[2*(D+2)+1],Math.abs(v*(T-E)+b*(E-x)+S*(x-T))<J||Q.push(D,D+1,D+2)}}(t,e)}var Ti,Si=function(t){function Star(e,r,i,n,o,s){void 0===s&&(s=0);o=o||n/2;for(var a=-1*Math.PI/2+s,u=2*i,h=dt/u,c=[],l=0;l<u;l++){var d=l%2?o:n,p=l*h+a;c.push(e+d*Math.cos(p),r+d*Math.sin(p))}return t.call(this,c)||this}return graphics_es_extends(Star,t),Star}(_t),Ei=function(){function ArcUtils(){}return ArcUtils.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,u=s-t,h=i-e,c=r-t,l=Math.abs(a*c-u*h);if(l<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+u*u,p=h*h+c*c,f=a*h+u*c,m=n*Math.sqrt(d)/l,y=n*Math.sqrt(p)/l,g=m*f/d,_=y*f/p,v=m*c+y*u,x=m*h+y*a,b=u*(y+g),T=a*(y+g),S=c*(m+_),E=h*(m+_);return{cx:v+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-v),endAngle:Math.atan2(E-x,S-v),anticlockwise:u*h>c*a}},ArcUtils.arc=function(t,e,r,i,n,o,s,a,u){for(var h=s-o,c=yi._segmentsCount(Math.abs(h)*n,40*Math.ceil(Math.abs(h)/dt)),l=h/(2*c),d=2*l,p=Math.cos(l),f=Math.sin(l),m=c-1,y=m%1/m,g=0;g<=m;++g){var _=l+o+d*(g+y*g),v=Math.cos(_),x=-Math.sin(_);u.push((p*v+f*x)*n+r,(p*-x+f*v)*n+i)}},ArcUtils}(),wi=function(){function BezierUtils(){}return BezierUtils.curveLength=function(t,e,r,i,n,o,s,a){for(var u=0,h=0,c=0,l=0,d=0,p=0,f=0,m=0,y=0,g=0,_=0,v=t,x=e,b=1;b<=10;++b)g=v-(m=(f=(p=(d=1-(h=b/10))*d)*d)*t+3*p*h*r+3*d*(c=h*h)*n+(l=c*h)*s),_=x-(y=f*e+3*p*h*i+3*d*c*o+l*a),v=m,x=y,u+=Math.sqrt(g*g+_*_);return u},BezierUtils.curveTo=function(t,e,r,i,n,o,s){var a=s[s.length-2],u=s[s.length-1];s.length-=2;var h=yi._segmentsCount(BezierUtils.curveLength(a,u,t,e,r,i,n,o)),c=0,l=0,d=0,p=0,f=0;s.push(a,u);for(var m=1,y=0;m<=h;++m)d=(l=(c=1-(y=m/h))*c)*c,f=(p=y*y)*y,s.push(d*a+3*l*y*t+3*c*p*r+f*n,d*u+3*l*y*e+3*c*p*i+f*o)},BezierUtils}(),Pi=function(){function QuadraticUtils(){}return QuadraticUtils.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,u=2*r-2*t,h=2*i-2*e,c=4*(s*s+a*a),l=4*(s*u+a*h),d=u*u+h*h,p=2*Math.sqrt(c+l+d),f=Math.sqrt(c),m=2*c*f,y=2*Math.sqrt(d),g=l/f;return(m*p+f*l*(p-y)+(4*d*c-l*l)*Math.log((2*f+g+p)/(g+y)))/(4*m)},QuadraticUtils.curveTo=function(t,e,r,i,n){for(var o=n[n.length-2],s=n[n.length-1],a=yi._segmentsCount(QuadraticUtils.curveLength(o,s,t,e,r,i)),u=0,h=0,c=1;c<=a;++c){var l=c/a;u=o+(t-o)*l,h=s+(e-s)*l,n.push(u+(t+(r-t)*l-u)*l,h+(e+(i-e)*l-h)*l)}},QuadraticUtils}(),Ii=function(){function BatchPart(){this.reset()}return BatchPart.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},BatchPart.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},BatchPart.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},BatchPart}(),Ai=((Ti={})[lt.POLY]=_i,Ti[lt.CIRC]=vi,Ti[lt.ELIP]=vi,Ti[lt.RECT]=xi,Ti[lt.RREC]=bi,Ti),Oi=[],Ri=[],Mi={buildPoly:_i,buildCircle:vi,buildRectangle:xi,buildRoundedRectangle:bi,FILL_COMMANDS:Ai,BATCH_POOL:Oi,DRAW_CALL_POOL:Ri,buildLine:buildLine,Star:Si,ArcUtils:Ei,BezierUtils:wi,QuadraticUtils:Pi,BatchPart:Ii},Ci=function(){function GraphicsData(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return GraphicsData.prototype.clone=function(){return new GraphicsData(this.shape,this.fillStyle,this.lineStyle,this.matrix)},GraphicsData.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},GraphicsData}(),Di=new xt,Li=new Ct,Fi=function(t){function GraphicsGeometry(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Ct,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return graphics_es_extends(GraphicsGeometry,t),Object.defineProperty(GraphicsGeometry.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),GraphicsGeometry.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ri.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Oi.push(e)}this.batches.length=0},GraphicsGeometry.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},GraphicsGeometry.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new Ci(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},GraphicsGeometry.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new Ci(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},GraphicsGeometry.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},GraphicsGeometry.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,Di):Di.copyFrom(t),i.shape.contains(Di.x,Di.y)))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.contains(Di.x,Di.y)){n=!0;break}}if(!n)return!0}}return!1},GraphicsGeometry.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,u=s.lineStyle;Ai[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var h=0;h<2;h++){var c=0===h?a:u;if(c.visible){var l=c.texture.baseTexture,d=this.indices.length,p=this.points.length/2;l.wrapMode=k.REPEAT,0===h?this.processFill(s):this.processLine(s);var f=this.points.length/2-p;0!==f&&(i&&!this._compareStyles(n,c)&&(i.end(d,p),i=null),i||((i=Oi.pop()||new Ii).begin(c,d,p),this.batches.push(i),n=c),this.addUvs(this.points,e,c.texture,p,f,c.matrix))}}}var m=this.indices.length,y=this.points.length/2;if(i&&i.end(m,y),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=y>65535&&t;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},GraphicsGeometry.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},GraphicsGeometry.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},GraphicsGeometry.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},GraphicsGeometry.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*GraphicsGeometry.BATCHABLE_SIZE},GraphicsGeometry.prototype.buildDrawCalls=function(){for(var t=++te._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ri.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=Ri.pop();n||((n=new Fr).texArray=new Br),n.texArray.count=0,n.start=0,n.size=0,n.type=C.TRIANGLES;var o=0,s=null,a=0,u=!1,h=C.TRIANGLES,c=0;this.drawCalls.push(n);for(e=0;e<this.batches.length;e++){var l=this.batches[e],d=l.style,p=d.texture.baseTexture;u!==!!d.native&&(h=(u=!!d.native)?C.LINES:C.TRIANGLES,s=null,o=8,t++),s!==p&&(s=p,p._batchEnabled!==t&&(8===o&&(t++,o=0,n.size>0&&((n=Ri.pop())||((n=new Fr).texArray=new Br),this.drawCalls.push(n)),n.start=c,n.size=0,n.texArray.count=0,n.type=h),p.touched=1,p._batchEnabled=t,p._batchLocation=o,p.wrapMode=10497,n.texArray.elements[n.texArray.count++]=p,o++)),n.size+=l.size,c+=l.size,a=p._batchLocation,this.addColors(r,d.color,d.alpha,l.attribSize),this.addTextureIds(i,a,l.attribSize)}te._globalBatch=t,this.packAttributes()},GraphicsGeometry.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,u=0;u<t.length/2;u++)o[a++]=t[2*u],o[a++]=t[2*u+1],o[a++]=e[2*u],o[a++]=e[2*u+1],s[a++]=r[u],o[a++]=i[u];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},GraphicsGeometry.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),_i.triangulate(t,this)):Ai[t.type].triangulate(t,this)},GraphicsGeometry.prototype.processLine=function(t){buildLine(t,this);for(var e=0;e<t.holes.length;e++)buildLine(t.holes[e],this)},GraphicsGeometry.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Ai[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},GraphicsGeometry.prototype.calculateBounds=function(){var t=this._bounds,e=Li,r=Tt.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,u=n.matrix||Tt.IDENTITY,h=0;if(a&&a.visible){var c=a.alignment;h=a.width,s===lt.POLY?h*=.5+Math.abs(.5-c):h*=Math.max(0,c)}if(r!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=u),s===lt.RECT||s===lt.RREC){var l=o;e.addFramePad(l.x,l.y,l.x+l.width,l.y+l.height,h,h)}else if(s===lt.CIRC){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+h,d.radius+h)}else if(s===lt.ELIP){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.width+h,p.height+h)}else{var f=o;t.addVerticesMatrix(r,f.points,0,f.points.length,h,h)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},GraphicsGeometry.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},GraphicsGeometry.prototype.addColors=function(t,e,r,i){for(var n=premultiplyTint((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},GraphicsGeometry.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},GraphicsGeometry.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,u=r.frame;s<n;){var h=t[2*(i+s)],c=t[2*(i+s)+1];if(o){var l=o.a*h+o.c*c+o.tx;c=o.b*h+o.d*c+o.ty,h=l}s++,e.push(h/u.width,c/u.height)}var d=r.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(e,r,a,n)},GraphicsGeometry.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=1e-6,s=r+2*i,a=e.frame,u=a.width/n.width,h=a.height/n.height,c=a.x/a.width,l=a.y/a.height,d=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),f=r+2;f<s;f+=2)d=Math.min(d,Math.floor(t[f]+o)),p=Math.min(p,Math.floor(t[f+1]+o));c-=d,l-=p;for(f=r;f<s;f+=2)t[f]=(t[f]+c)*u,t[f+1]=(t[f+1]+l)*h},GraphicsGeometry.BATCHABLE_SIZE=100,GraphicsGeometry}(jr),Bi=function(t){function LineStyle(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=di.BUTT,e.join=li.MITER,e.miterLimit=10,e}return graphics_es_extends(LineStyle,t),LineStyle.prototype.clone=function(){var t=new LineStyle;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},LineStyle.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},LineStyle}(gi),Ni=new Float32Array(3),ki={},Ui=function(t){function Graphics(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new Fi,r._geometry.refCount++,r.shader=null,r.state=sr.for2d(),r._fillStyle=new gi,r._lineStyle=new Bi,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=M.NORMAL,r}return graphics_es_extends(Graphics,t),Object.defineProperty(Graphics.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),Graphics.prototype.clone=function(){return this.finishPoly(),new Graphics(this._geometry)},Object.defineProperty(Graphics.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Graphics.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(Graphics.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(Graphics.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),Graphics.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},Graphics.prototype.lineTextureStyle=function(t){if("number"==typeof t){deprecation("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],u=e[6];t={width:r,texture:i,color:n,alpha:o,matrix:s,alignment:a,native:u},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:ge.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:di.BUTT,join:li.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var h=t.width>0&&t.alpha>0;return h?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:h},t)):this._lineStyle.reset(),this},Graphics.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new _t,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new _t,this.currentPath.closeStroke=!1},Graphics.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},Graphics.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},Graphics.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},Graphics.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},Graphics.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Pi.curveTo(t,e,r,i,n),this},Graphics.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),wi.curveTo(t,e,r,i,n,o,this.currentPath.points),this},Graphics.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=Ei.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,u=s.cy,h=s.radius,c=s.startAngle,l=s.endAngle,d=s.anticlockwise;this.arc(a,u,h,c,l,d)}return this},Graphics.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=dt:o&&i<=n&&(i+=dt),0===n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,u=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var c=Math.abs(h[h.length-2]-s),l=Math.abs(h[h.length-1]-a);c<u&&l<u||h.push(s,a)}else this.moveTo(s,a),h=this.currentPath.points;return Ei.arc(s,a,t,e,r,i,n,o,h),this},Graphics.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:ge.WHITE,color:t,alpha:e})},Graphics.prototype.beginTextureFill=function(t){if(t instanceof ge){deprecation("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],i=e[1],n=e[2],o=e[3];t={texture:r,color:i,alpha:n,matrix:o},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:ge.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this},Graphics.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},Graphics.prototype.drawRect=function(t,e,r,i){return this.drawShape(new mt(t,e,r,i))},Graphics.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new vt(t,e,r,i,n))},Graphics.prototype.drawCircle=function(t,e,r){return this.drawShape(new yt(t,e,r))},Graphics.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new gt(t,e,r,i))},Graphics.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new _t(t);return s.closeStroke=n,this.drawShape(s),this},Graphics.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},Graphics.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new Si(t,e,r,i,n,o))},Graphics.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},Graphics.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===lt.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},Graphics.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},Graphics.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),u={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:hex2rgb(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=u}},Graphics.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},Graphics.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,u=s.length;a<u;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},Graphics.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},Graphics.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!ki[r]){for(var i=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(i),o=0;o<i;o++)n[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Tt,default:Me.from({uSamplers:n},!0)},a=t.plugins[r]._shader.program;ki[r]=new or(a,s)}e=ki[r]}return e},Graphics.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,i=e.minY,n=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},Graphics.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,Graphics._TEMP_POINT),this._geometry.containsPoint(Graphics._TEMP_POINT)},Graphics.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=hex2rgb(this.tint,Ni),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},Graphics.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,u=this._geometry.points,h=this.vertexData,c=0,l=0;l<u.length;l+=2){var d=u[l],p=u[l+1];h[c++]=r*d+n*p+s,h[c++]=o*p+i*d+a}}},Graphics.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},Graphics.prototype.setMatrix=function(t){return this._matrix=t,this},Graphics.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},Graphics.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},Graphics.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Graphics._TEMP_POINT=new xt,Graphics}(Ft),sprite_es_extendStatics=function(t,e){return(sprite_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ji,Gi=new xt,Xi=new Uint16Array([0,1,2,0,2,3]),Hi=function(t){function Sprite(e){var r=t.call(this)||this;return r._anchor=new bt(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=M.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||ge.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=Xi,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Y.ROUND_PIXELS,r}return function sprite_es_extends(t,e){function __(){this.constructor=t}sprite_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(Sprite,t),Sprite.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)},Sprite.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},Sprite.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,c=t.orig,l=this._anchor,d=0,p=0,f=0,m=0;if(h?(d=(p=h.x-l._x*c.width)+h.width,f=(m=h.y-l._y*c.height)+h.height):(d=(p=-l._x*c.width)+c.width,f=(m=-l._y*c.height)+c.height),u[0]=r*p+n*m+s,u[1]=o*m+i*p+a,u[2]=r*d+n*m+s,u[3]=o*m+i*d+a,u[4]=r*d+n*f+s,u[5]=o*f+i*d+a,u[6]=r*p+n*f+s,u[7]=o*f+i*p+a,this._roundPixels)for(var y=Y.RESOLUTION,g=0;g<u.length;++g)u[g]=Math.round((u[g]*y|0)/y)}},Sprite.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,u=n.d,h=n.tx,c=n.ty,l=-i._x*r.width,d=l+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*l+a*p+h,e[1]=u*p+s*l+c,e[2]=o*d+a*p+h,e[3]=u*p+s*d+c,e[4]=o*d+a*f+h,e[5]=u*f+s*d+c,e[6]=o*l+a*f+h,e[7]=u*f+s*l+c},Sprite.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},Sprite.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},Sprite.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new mt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},Sprite.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Gi);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return Gi.x>=i&&Gi.x<i+e&&(n=-r*this.anchor.y,Gi.y>=n&&Gi.y<n+r)},Sprite.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},Sprite.from=function(t,e){return new Sprite(t instanceof ge?t:ge.from(t,e))},Object.defineProperty(Sprite.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(Sprite.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Sprite.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(Sprite.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Sprite.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(Sprite.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||ge.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),Sprite}(Ft),text_es_extendStatics=function(t,e){return(text_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(ji||(ji={}));var zi={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:ji.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Vi=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Yi=function(){function TextStyle(t){this.styleID=0,this.reset(),deepCopyProperties(this,t,t)}return TextStyle.prototype.clone=function(){var t={};return deepCopyProperties(t,this,zi),new TextStyle(t)},TextStyle.prototype.reset=function(){deepCopyProperties(this,zi,zi)},Object.defineProperty(TextStyle.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=getColor(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=getColor(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function areArraysEqual(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=getColor(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(TextStyle.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),TextStyle.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Vi.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},TextStyle}();function getSingleColor(t){return"number"==typeof t?hex2string(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function getColor(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=getSingleColor(t[e]);return t}return getSingleColor(t)}function deepCopyProperties(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var Wi=function(){function TextMetrics(t,e,r,i,n,o,s,a,u){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u}return TextMetrics.measureText=function(t,e,r,i){void 0===i&&(i=TextMetrics._canvas),r=null==r?e.wordWrap:r;var n=e.toFontString(),o=TextMetrics.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=i.getContext("2d");s.font=n;for(var a=(r?TextMetrics.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(a.length),h=0,c=0;c<a.length;c++){var l=s.measureText(a[c]).width+(a[c].length-1)*e.letterSpacing;u[c]=l,h=Math.max(h,l)}var d=h+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new TextMetrics(t,e,d,f,a,u,p+e.leading,h,o)},TextMetrics.wordWrap=function(t,e,r){void 0===r&&(r=TextMetrics._canvas);for(var i=r.getContext("2d"),n=0,o="",s="",a=Object.create(null),u=e.letterSpacing,h=e.whiteSpace,c=TextMetrics.collapseSpaces(h),l=TextMetrics.collapseNewlines(h),d=!c,p=e.wordWrapWidth+u,f=TextMetrics.tokenize(t),m=0;m<f.length;m++){var y=f[m];if(TextMetrics.isNewline(y)){if(!l){s+=TextMetrics.addLine(o),d=!c,o="",n=0;continue}y=" "}if(c){var g=TextMetrics.isBreakingSpace(y),_=TextMetrics.isBreakingSpace(o[o.length-1]);if(g&&_)continue}var v=TextMetrics.getFromCache(y,u,a,i);if(v>p)if(""!==o&&(s+=TextMetrics.addLine(o),o="",n=0),TextMetrics.canBreakWords(y,e.breakWords))for(var x=TextMetrics.wordWrapSplit(y),b=0;b<x.length;b++){for(var T=x[b],S=1;x[b+S];){var E=x[b+S],w=T[T.length-1];if(TextMetrics.canBreakChars(w,E,y,b,e.breakWords))break;T+=E,S++}b+=T.length-1;var P=TextMetrics.getFromCache(T,u,a,i);P+n>p&&(s+=TextMetrics.addLine(o),d=!1,o="",n=0),o+=T,n+=P}else{o.length>0&&(s+=TextMetrics.addLine(o),o="",n=0);var I=m===f.length-1;s+=TextMetrics.addLine(y,!I),d=!1,o="",n=0}else v+n>p&&(d=!1,s+=TextMetrics.addLine(o),o="",n=0),(o.length>0||!TextMetrics.isBreakingSpace(y)||d)&&(o+=y,n+=v)}return s+=TextMetrics.addLine(o,!1)},TextMetrics.addLine=function(t,e){return void 0===e&&(e=!0),t=TextMetrics.trimRight(t),t=e?t+"\n":t},TextMetrics.getFromCache=function(t,e,r,i){var n=r[t];if("number"!=typeof n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},TextMetrics.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},TextMetrics.collapseNewlines=function(t){return"normal"===t},TextMetrics.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var r=t[e];if(!TextMetrics.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},TextMetrics.isNewline=function(t){return"string"==typeof t&&TextMetrics._newlines.indexOf(t.charCodeAt(0))>=0},TextMetrics.isBreakingSpace=function(t){return"string"==typeof t&&TextMetrics._breakingSpaces.indexOf(t.charCodeAt(0))>=0},TextMetrics.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i];TextMetrics.isBreakingSpace(n)||TextMetrics.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},TextMetrics.canBreakWords=function(t,e){return e},TextMetrics.canBreakChars=function(t,e,r,i,n){return!0},TextMetrics.wordWrapSplit=function(t){return t.split("")},TextMetrics.measureFont=function(t){if(TextMetrics._fonts[t])return TextMetrics._fonts[t];var e={ascent:0,descent:0,fontSize:0},r=TextMetrics._canvas,i=TextMetrics._context;i.font=t;var n=TextMetrics.METRICS_STRING+TextMetrics.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width),s=Math.ceil(i.measureText(TextMetrics.BASELINE_SYMBOL).width),a=2*s;s=s*TextMetrics.BASELINE_MULTIPLIER|0,r.width=o,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,s);var u=i.getImageData(0,0,o,a).data,h=u.length,c=4*o,l=0,d=0,p=!1;for(l=0;l<s;++l){for(var f=0;f<c;f+=4)if(255!==u[d+f]){p=!0;break}if(p)break;d+=c}for(e.ascent=s-l,d=h-c,p=!1,l=a;l>s;--l){for(f=0;f<c;f+=4)if(255!==u[d+f]){p=!0;break}if(p)break;d-=c}return e.descent=l-s,e.fontSize=e.ascent+e.descent,TextMetrics._fonts[t]=e,e},TextMetrics.clearMetrics=function(t){void 0===t&&(t=""),t?delete TextMetrics._fonts[t]:TextMetrics._fonts={}},TextMetrics}(),qi=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();qi.width=qi.height=10,Wi._canvas=qi,Wi._context=qi.getContext("2d"),Wi._fonts={},Wi.METRICS_STRING="|ÉqÅ",Wi.BASELINE_SYMBOL="M",Wi.BASELINE_MULTIPLIER=1.4,Wi._newlines=[10,13],Wi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Zi={texture:!0,children:!1,baseTexture:!0},Ki=function(t){function Text(e,r,i){var n=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=ge.from(i);return s.orig=new mt,s.trim=new mt,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=Y.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=r,n.localStyleID=-1,n}return function text_es_extends(t,e){function __(){this.constructor=t}text_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(Text,t),Text.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=Wi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,u=o.lines,h=o.lineHeight,c=o.lineWidths,l=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var m=e.dropShadow&&0===f,y=m?Math.ceil(Math.max(1,a)+2*e.padding):0,g=y*this._resolution;if(m){n.fillStyle="black",n.strokeStyle="black";var _=e.dropShadowColor,v=hex2rgb("number"==typeof _?_:string2hex(_));n.shadowColor="rgba("+255*v[0]+","+255*v[1]+","+255*v[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+g}else n.fillStyle=this._generateFillStyle(e,u,o),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<u.length;x++)r=e.strokeThickness/2,i=e.strokeThickness/2+x*h+d.ascent,"right"===e.align?r+=l-c[x]:"center"===e.align&&(r+=(l-c[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[x],r+e.padding,i+e.padding-y,!0),e.fill&&this.drawLetterSpacing(u[x],r+e.padding,i+e.padding-y)}this.updateTexture()}},Text.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,u=0,h=0;h<s.length;++h){var c=s[h];i?this.context.strokeText(c,o,r):this.context.fillText(c,o,r),o+=a-(u=this.context.measureText(t.substring(h+1)).width)+n,a=u}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},Text.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=trimCanvas(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},Text.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},Text.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},Text.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},Text.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,u=Math.ceil(this.canvas.height/this._resolution)-o-2*s,h=n.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var l=h.length+1,d=1;d<l;++d)c.push(d/l);if(h.unshift(n[0]),c.unshift(0),h.push(n[n.length-1]),c.push(1),t.fillGradientType===ji.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,u+s);var p=0,f=(r.fontProperties.fontSize+t.strokeThickness)/u;for(d=0;d<e.length;d++)for(var m=r.lineHeight*d,y=0;y<h.length;y++){var g=m/u+("number"==typeof c[y]?c[y]:y/h.length)*f,_=Math.max(p,g);_=Math.min(_,1),i.addColorStop(_,h[y]),p=_}}else{i=this.context.createLinearGradient(s,u/2,a+s,u/2);var v=h.length+1,x=1;for(d=0;d<h.length;d++){var b=void 0;b="number"==typeof c[d]?c[d]:x/v,i.addColorStop(b,h[d]),x++}}return i},Text.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Zi,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(Text.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Text.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(Text.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Yi?t:new Yi(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(Text.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Text.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Text}(Hi);Y.UPLOADS_PER_FRAME=4;var prepare_es_extendStatics=function(t,e){return(prepare_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Qi=function(){function CountLimiter(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return CountLimiter.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},CountLimiter.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},CountLimiter}();function findMultipleBaseTextures(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ge){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function findBaseTexture(t,e){if(t.baseTexture instanceof te){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function findTexture(t,e){if(t._texture&&t._texture instanceof ge){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function drawText(t,e){return e instanceof Ki&&(e.updateText(!0),!0)}function calculateTextStyle(t,e){if(e instanceof Yi){var r=e.toFontString();return Wi.measureFont(r),!0}return!1}function findText(t,e){if(t instanceof Ki){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function findTextStyle(t,e){return t instanceof Yi&&(-1===e.indexOf(t)&&e.push(t),!0)}var Ji=function(){function BasePrepare(t){var e=this;this.limiter=new Qi(Y.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return BasePrepare.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,jt.system.addOnce(this.tick,this,Nt.UTILITY))):e&&e()},BasePrepare.prototype.tick=function(){setTimeout(this.delayedTick,0)},BasePrepare.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)jt.system.addOnce(this.tick,this,Nt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(r=0,i=n.length;r<i;r++)n[r]()}},BasePrepare.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},BasePrepare.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},BasePrepare.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ft)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},BasePrepare.prototype.destroy=function(){this.ticking&&jt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},BasePrepare}();function uploadBaseTextures(t,e){return e instanceof te&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function uploadGraphics(t,e){if(!(e instanceof Ui))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&uploadBaseTextures(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function findGraphics(t,e){return t instanceof Ui&&(e.push(t),!0)}var $i=function(t){function Prepare(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(findGraphics),r.registerUploadHook(uploadBaseTextures),r.registerUploadHook(uploadGraphics),r}return function prepare_es_extends(t,e){function __(){this.constructor=t}prepare_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(Prepare,t),Prepare}(Ji),tn=function(){function TimeLimiter(t){this.maxMilliseconds=t,this.frameStart=0}return TimeLimiter.prototype.beginFrame=function(){this.frameStart=Date.now()},TimeLimiter.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},TimeLimiter}(),en=function(){function Spritesheet(t,e,r){void 0===r&&(r=null),this._texture=t instanceof ge?t:null,this.baseTexture=t instanceof te?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return Spritesheet.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=getResolutionOfUrl(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},Spritesheet.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=Spritesheet.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},Spritesheet.prototype._processFrames=function(t){for(var e=t,r=Spritesheet.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i=this._frameKeys[e],n=this._frames[i],o=n.frame;if(o){var s=null,a=null,u=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,h=new mt(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s=n.rotated?new mt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new mt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new mt(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ge(this.baseTexture,s,h,a,n.rotated?2:0,n.anchor),ge.addToCache(this.textures[i],i)}e++}},Spritesheet.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},Spritesheet.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},Spritesheet.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*Spritesheet.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*Spritesheet.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},Spritesheet.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},Spritesheet.BATCH_SIZE=1e3,Spritesheet}(),rn=function(){function SpritesheetLoader(){}return SpritesheetLoader.use=function(t,e){var r=this,i=t.name+"_image";if(t.data&&t.type===ai.TYPE.JSON&&t.data.frames&&!r.resources[i]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=SpritesheetLoader.getResourcePath(t,r.baseUrl);r.add(i,o,n,(function onImageLoad(r){if(r.error)e(r.error);else{var i=new en(r.texture,t.data,t.url);i.parse((function(){t.spritesheet=i,t.textures=i.textures,e()}))}}))}else e()},SpritesheetLoader.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:J.a.resolve(t.url.replace(e,""),t.data.meta.image)},SpritesheetLoader}(),sprite_tiling_es_extendStatics=function(t,e){return(sprite_tiling_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function sprite_tiling_es_extends(t,e){function __(){this.constructor=t}sprite_tiling_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var nn=new xt,sn=function(t){function TilingSprite(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=t.call(this,e)||this;return n.tileTransform=new Mt,n._width=r,n._height=i,n.uvMatrix=n.texture.uvMatrix||new hr(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return sprite_tiling_es_extends(TilingSprite,t),Object.defineProperty(TilingSprite.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(TilingSprite.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(TilingSprite.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),TilingSprite.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},TilingSprite.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},TilingSprite.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},TilingSprite.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new mt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},TilingSprite.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,nn);var e=this._width,r=this._height,i=-e*this.anchor._x;if(nn.x>=i&&nn.x<i+e){var n=-r*this.anchor._y;if(nn.y>=n&&nn.y<n+r)return!0}return!1},TilingSprite.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},TilingSprite.from=function(t,e){return"number"==typeof e&&(deprecation("5.3.0","TilingSprite.from use options instead of width and height args"),e={width:e,height:arguments[2]}),new TilingSprite(ge.from(t,e),e.width,e.height)},Object.defineProperty(TilingSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(TilingSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),TilingSprite}(Hi),an="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",un=new Tt,hn=function(t){function TilingSpriteRenderer(e){var r=t.call(this,e)||this,i={globals:r.renderer.globalUniforms};return r.shader=or.from(an,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),r.simpleShader=or.from(an,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),r.quad=new Oe,r.state=sr.for2d(),r}return sprite_tiling_es_extends(TilingSpriteRenderer,t),TilingSpriteRenderer.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,u=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;u&&(o._glTextures[e.CONTEXT_UID]?u=o.wrapMode!==k.CLAMP:o.wrapMode===k.CLAMP&&(o.wrapMode=k.REPEAT));var h=u?this.simpleShader:this.shader,c=n.width,l=n.height,d=t._width,p=t._height;un.set(s.a*c/d,s.b*c/p,s.c*l/d,s.d*l/p,s.tx/d,s.ty/p),un.invert(),u?un.prepend(a.mapCoord):(h.uniforms.uMapCoord=a.mapCoord.toArray(!0),h.uniforms.uClampFrame=a.uClampFrame,h.uniforms.uClampOffset=a.uClampOffset),h.uniforms.uTransform=un.toArray(!0),h.uniforms.uColor=premultiplyTintToRgba(t.tint,t.worldAlpha,h.uniforms.uColor,o.alphaMode),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.uSampler=n,e.shader.bind(h),e.geometry.bind(r),this.state.blendMode=correctBlendMode(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},TilingSpriteRenderer}(Le),mesh_es_extendStatics=function(t,e){return(mesh_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function mesh_es_extends(t,e){function __(){this.constructor=t}mesh_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var cn=function(){function MeshBatchUvs(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return MeshBatchUvs.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},MeshBatchUvs}(),ln=new xt,dn=new _t,pn=function(t){function Mesh(e,r,i,n){void 0===n&&(n=C.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,e.refCount++,o.shader=r,o.state=i||sr.for2d(),o.drawMode=n,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=Y.ROUND_PIXELS,o.batchUvs=null,o}return mesh_es_extends(Mesh,t),Object.defineProperty(Mesh.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(Mesh.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),Mesh.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===C.TRIANGLES&&e.length<2*Mesh.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},Mesh.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},Mesh.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},Mesh.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,u=r.ty,h=this.vertexData,c=0;c<h.length/2;c++){var l=e[2*c],d=e[2*c+1];h[2*c]=i*l+o*d+a,h[2*c+1]=n*l+s*d+u}if(this._roundPixels){var p=Y.RESOLUTION;for(c=0;c<h.length;++c)h[c]=Math.round((h[c]*p|0)/p)}this.vertexDirty=t.vertexDirtyId}},Mesh.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new cn(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},Mesh.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},Mesh.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ln);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=dn.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],u=2*i[s+1],h=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[h],r[5]=e[h+1],dn.contains(ln.x,ln.y))return!0}return!1},Mesh.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Mesh.BATCHABLE_SIZE=100,Mesh}(Ft),fn=function(t){function MeshMaterial(e,r){var i=this,n={uSampler:e,alpha:1,uTextureMatrix:Tt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=t.call(this,r.program||nr.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,i.uvMatrix=new hr(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return mesh_es_extends(MeshMaterial,t),Object.defineProperty(MeshMaterial.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(MeshMaterial.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(MeshMaterial.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),MeshMaterial.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},MeshMaterial}(or),mn=function(t){function MeshGeometry(e,r,i){var n=t.call(this)||this,o=new Te(e),s=new Te(r,!0),a=new Te(i,!0,!0);return n.addAttribute("aVertexPosition",o,2,!1,B.FLOAT).addAttribute("aTextureCoord",s,2,!1,B.FLOAT).addIndex(a),n._updateId=-1,n}return mesh_es_extends(MeshGeometry,t),Object.defineProperty(MeshGeometry.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),MeshGeometry}(Ie),text_bitmap_es_extendStatics=function(t,e){return(text_bitmap_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var yn=function yn(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},gn=function(){function TextFormat(){}return TextFormat.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},TextFormat.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var u=o[a].split("="),h=u[0],c=u[1].replace(/"/gm,""),l=parseFloat(c),d=isNaN(l)?c:l;s[h]=d}r[n].push(s)}var p=new yn;return r.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},TextFormat}(),_n=function(){function XMLFormat(){}return XMLFormat.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},XMLFormat.parse=function(t){for(var e=new yn,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var u=o[a];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},XMLFormat}(),vn=function(){function XMLStringFormat(){}return XMLStringFormat.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return _n.test(e)}return!1},XMLStringFormat.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return _n.parse(e)},XMLStringFormat}(),xn=[gn,_n,vn];function autoDetectFormat(t){for(var e=0;e<xn.length;e++)if(xn[e].test(t))return xn[e];return null}function generateFillStyle(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var u=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,c=Math.ceil(t.width/i)-u-2*h,l=Math.ceil(t.height/i)-u-2*h,d=a.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,m=1;m<f;++m)p.push(m/f);if(d.unshift(a[0]),p.unshift(0),d.push(a[a.length-1]),p.push(1),r.fillGradientType===ji.LINEAR_VERTICAL){s=e.createLinearGradient(c/2,h,c/2,l+h);var y=0,g=(o.fontProperties.fontSize+r.strokeThickness)/l;for(m=0;m<n.length;m++)for(var _=o.lineHeight*m,v=0;v<d.length;v++){var x=_/l+("number"==typeof p[v]?p[v]:v/d.length)*g,b=Math.max(y,x);b=Math.min(b,1),s.addColorStop(b,d[v]),y=b}}else{s=e.createLinearGradient(h,l/2,c+h,l/2);var T=d.length+1,S=1;for(m=0;m<d.length;m++){var E=void 0;E="number"==typeof p[m]?p[m]:S/T,s.addColorStop(E,d[m]),S++}}return s}function drawGlyph(t,e,r,i,n,o,s){var a=r.text,u=r.fontProperties;e.translate(i,n),e.scale(o,o);var h=s.strokeThickness/2,c=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=generateFillStyle(t,e,s,o,[a],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=generateFillStyle(t,e,s,o,[a],r),e.strokeStyle=s.stroke;var l=s.dropShadowColor,d=hex2rgb("number"==typeof l?l:string2hex(l));s.dropShadow?(e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,h,c+r.lineHeight-u.descent),s.fill&&e.fillText(a,h,c+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var bn=function(){function BitmapFont(t,e){var r=t.info[0],i=t.common[0],n=getResolutionOfUrl(t.page[0].file),o={};this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/n,this.chars={},this.pageTextures=o;for(var s=0;s<t.page.length;s++){var a=t.page[s],u=a.id,h=a.file;o[u]=e instanceof Array?e[s]:e[h]}for(s=0;s<t.char.length;s++){var c=t.char[s],l=(u=c.id,c.page),d=t.char[s],p=d.x,f=d.y,m=d.width,y=d.height,g=d.xoffset,_=d.yoffset,v=d.xadvance;f/=n,m/=n,y/=n,g/=n,_/=n,v/=n;var x=new mt((p/=n)+o[l].frame.x/n,f+o[l].frame.y/n,m,y);this.chars[u]={xOffset:g,yOffset:_,xAdvance:v,kerning:{},texture:new ge(o[l].baseTexture,x),page:l}}for(s=0;s<t.kerning.length;s++){var b=t.kerning[s],T=b.first,S=b.second,E=b.amount;T/=n,S/=n,E/=n,this.chars[S]&&(this.chars[S].kerning[T]=E)}}return BitmapFont.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},BitmapFont.install=function(t,e){var r;if(t instanceof yn)r=t;else{var i=autoDetectFormat(t);if(!i)throw new Error("Unrecognized data format for font.");r=i.parse(t)}e instanceof ge&&(e=[e]);var n=new BitmapFont(r,e);return BitmapFont.available[n.font]=n,n},BitmapFont.uninstall=function(t){var e=BitmapFont.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete BitmapFont.available[t]},BitmapFont.from=function(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},BitmapFont.defaultOptions,r),n=i.chars,o=i.padding,s=i.resolution,a=i.textureWidth,u=i.textureHeight,h=function resolveCharacters(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,u=s;a<=u;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(n),c=e instanceof Yi?e:new Yi(e),l=a,d=new yn;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};for(var p,f,m,y=0,g=0,_=0,v=[],x=0;x<h.length;x++){p||((p=document.createElement("canvas")).width=a,p.height=u,f=p.getContext("2d"),m=new te(p,{resolution:s}),v.push(new ge(m)),d.page.push({id:v.length-1,file:""}));var b=Wi.measureText(h[x],c,!1,p),T=b.width,S=Math.ceil(b.height),E=Math.ceil(("italic"===c.fontStyle?2:1)*T);if(g>=u-S*s){if(0===g)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+c.fontSize+"px fonts");--x,p=null,f=null,m=null,g=0,y=0,_=0}else if(_=Math.max(S+b.fontProperties.descent,_),E*s+y>=l)--x,g+=_*s,g=Math.ceil(g),y=0,_=0;else{drawGlyph(p,f,b,y,g,s,c);var w=b.text.charCodeAt(0);d.char.push({id:w,page:v.length-1,x:y/s,y:g/s,width:E,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),y+=(E+2*o)*s,y=Math.ceil(y)}}var P=new BitmapFont(d,v);return void 0!==BitmapFont.available[t]&&BitmapFont.uninstall(t),BitmapFont.available[t]=P,P},BitmapFont.ALPHA=[["a","z"],["A","Z"]," "],BitmapFont.NUMERIC=[["0","9"]],BitmapFont.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],BitmapFont.ASCII=[[" ","~"]],BitmapFont.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:BitmapFont.ALPHANUMERIC},BitmapFont.available={},BitmapFont}(),Tn=[],Sn=[],En=function(t){function BitmapText(e,r){void 0===r&&(r={});var i=t.call(this)||this;i._tint=16777215,r.font&&(deprecation("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(r));var n=Object.assign({},BitmapText.styleDefaults,r),o=n.align,s=n.tint,a=n.maxWidth,u=n.letterSpacing,h=n.fontName,c=n.fontSize;if(!bn.available[h])throw new Error('Missing BitmapFont "'+h+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=h,i._fontSize=c||bn.available[h].size,i._text=e,i._maxWidth=a,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new bt((function(){i.dirty=!0}),i,0,0),i._roundPixels=Y.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function text_bitmap_es_extends(t,e){function __(){this.constructor=t}text_bitmap_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(BitmapText,t),BitmapText.prototype.updateText=function(){for(var t,e=bn.available[this._fontName],r=this._fontSize/e.size,i=new xt,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,u=this._maxWidth*e.size/this._fontSize,h=null,c=0,l=0,d=0,p=-1,f=0,m=0,y=0,g=0;g<a;g++){var _=s.charCodeAt(g),v=s.charAt(g);if(/(?:\s)/.test(v)&&(p=g,f=c),"\r"!==v&&"\n"!==v){var x=e.chars[_];if(x){h&&x.kerning[h]&&(i.x+=x.kerning[h]);var b=Sn.pop()||{texture:ge.EMPTY,line:0,charCode:0,position:new xt};b.texture=x.texture,b.line=d,b.charCode=_,b.position.x=i.x+x.xOffset+this._letterSpacing/2,b.position.y=i.y+x.yOffset,n.push(b),i.x+=x.xAdvance+this._letterSpacing,c=i.x,y=Math.max(y,x.yOffset+x.texture.height),h=_,-1!==p&&u>0&&i.x>u&&(removeItems(n,1+p-++m,1+g-p),g=p,p=-1,o.push(f),l=Math.max(l,f),d++,i.x=0,i.y+=e.lineHeight,h=null)}}else o.push(c),l=Math.max(l,c),++d,++m,i.x=0,i.y+=e.lineHeight,h=null}var T=s.charAt(s.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(c=f),o.push(c),l=Math.max(l,c));var S=[];for(g=0;g<=d;g++){var E=0;"right"===this._align?E=l-o[g]:"center"===this._align&&(E=(l-o[g])/2),S.push(E)}var w=n.length,P={},I=[],A=this._activePagesMeshData;for(g=0;g<A.length;g++)Tn.push(A[g]);for(g=0;g<w;g++){var O=(U=n[g].texture).baseTexture.uid;if(!P[O]){if(!(Y=Tn.pop())){var R=new mn,M=new fn(ge.EMPTY);Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new pn(R,M),vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;var C=this._textureCache;C[O]=C[O]||new ge(U.baseTexture),Y.mesh.texture=C[O],Y.mesh.tint=this._tint,I.push(Y),P[O]=Y}P[O].total++}for(g=0;g<A.length;g++)-1===I.indexOf(A[g])&&this.removeChild(A[g].mesh);for(g=0;g<I.length;g++)I[g].mesh.parent!==this&&this.addChild(I[g].mesh);for(var g in this._activePagesMeshData=I,P){var D=(Y=P[g]).total;if(!((null===(t=Y.indices)||void 0===t?void 0:t.length)>6*D)||Y.vertices.length<2*pn.BATCHABLE_SIZE)Y.vertices=new Float32Array(8*D),Y.uvs=new Float32Array(8*D),Y.indices=new Uint16Array(6*D);else for(var L=Y.total,B=Y.vertices,N=4*L*2;N<B.length;N++)B[N]=0;Y.mesh.size=6*D}for(g=0;g<w;g++){var k=(v=n[g]).position.x+S[v.line];this._roundPixels&&(k=Math.round(k));var U,j=k*r,G=v.position.y*r,X=P[(U=v.texture).baseTexture.uid],H=U.frame,z=U._uvs,V=X.index++;X.indices[6*V+0]=0+4*V,X.indices[6*V+1]=1+4*V,X.indices[6*V+2]=2+4*V,X.indices[6*V+3]=0+4*V,X.indices[6*V+4]=2+4*V,X.indices[6*V+5]=3+4*V,X.vertices[8*V+0]=j,X.vertices[8*V+1]=G,X.vertices[8*V+2]=j+H.width*r,X.vertices[8*V+3]=G,X.vertices[8*V+4]=j+H.width*r,X.vertices[8*V+5]=G+H.height*r,X.vertices[8*V+6]=j,X.vertices[8*V+7]=G+H.height*r,X.uvs[8*V+0]=z.x0,X.uvs[8*V+1]=z.y0,X.uvs[8*V+2]=z.x1,X.uvs[8*V+3]=z.y1,X.uvs[8*V+4]=z.x2,X.uvs[8*V+5]=z.y2,X.uvs[8*V+6]=z.x3,X.uvs[8*V+7]=z.y3}for(var g in this._textWidth=l*r,this._textHeight=(i.y+e.lineHeight)*r,P){var Y=P[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var W=0,q=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y,K=0;K<Y.total;K++)Y.vertices[W++]-=q,Y.vertices[W++]-=Z,Y.vertices[W++]-=q,Y.vertices[W++]-=Z,Y.vertices[W++]-=q,Y.vertices[W++]-=Z,Y.vertices[W++]-=q,Y.vertices[W++]-=Z;this._maxLineHeight=y*r;var Q=Y.mesh.geometry.getBuffer("aVertexPosition"),J=Y.mesh.geometry.getBuffer("aTextureCoord"),$=Y.mesh.geometry.getIndex();Q.data=Y.vertices,J.data=Y.uvs,$.data=Y.indices,Q.update(),J.update(),$.update()}for(g=0;g<n.length;g++)Sn.push(n[g])},BitmapText.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},BitmapText.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},BitmapText.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(BitmapText.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!bn.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(BitmapText.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),BitmapText.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},BitmapText.prototype.destroy=function(e){var r=this._textureCache;for(var i in r){r[i].destroy(),delete r[i]}this._textureCache=null,t.prototype.destroy.call(this,e)},BitmapText.registerFont=function(t,e){return deprecation("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),bn.install(t,e)},Object.defineProperty(BitmapText,"fonts",{get:function(){return deprecation("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),bn.available},enumerable:!1,configurable:!0}),BitmapText.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},BitmapText}(Ft),wn=function(){function BitmapFontLoader(){}return BitmapFontLoader.add=function(){ai.setExtensionXhrType("fnt",ai.XHR_RESPONSE_TYPE.TEXT)},BitmapFontLoader.use=function(t,e){var r=autoDetectFormat(t.data);if(r)for(var i=BitmapFontLoader.getBaseUrl(this,t),n=r.parse(t.data),o={},completed=function(r){o[r.metadata.pageFile]=r.texture,Object.keys(o).length===n.page.length&&(t.bitmapFont=bn.install(n,o),e())},s=0;s<n.page.length;++s){var a=n.page[s].file,u=i+a,h=!1;for(var c in this.resources){var l=this.resources[c];if(l.url===u){l.metadata.pageFile=a,l.texture?completed(l):l.onAfterMiddleware.add(completed),h=!0;break}}if(!h){var d={crossOrigin:t.crossOrigin,loadType:ai.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(u,d,completed)}}else e()},BitmapFontLoader.getBaseUrl=function(t,e){var r=e.isDataUrl?"":BitmapFontLoader.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},BitmapFontLoader.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},BitmapFontLoader}(),filter_alpha_es_extendStatics=function(t,e){return(filter_alpha_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Pn=function(t){function AlphaFilter(e){void 0===e&&(e=1);var r=t.call(this,Dr,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}return function filter_alpha_es_extends(t,e){function __(){this.constructor=t}filter_alpha_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(AlphaFilter,t),Object.defineProperty(AlphaFilter.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),AlphaFilter}(ar),filter_blur_es_extendStatics=function(t,e){return(filter_blur_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function filter_blur_es_extends(t,e){function __(){this.constructor=t}filter_blur_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var In,An,On,Rn,Mn,Cn,Dn,Ln,Fn,Bn,Nn,kn,Un,jn,Gn,Xn,Hn,zn={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Vn=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(In||(In={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(An||(An={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(On||(On={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Rn||(Rn={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Mn||(Mn={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Cn||(Cn={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Dn||(Dn={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Ln||(Ln={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Fn||(Fn={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Bn||(Bn={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(Nn||(Nn={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(kn||(kn={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Un||(Un={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(jn||(jn={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Gn||(Gn={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Xn||(Xn={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Hn||(Hn={}));var Yn=function(t){function BlurFilterPass(e,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=Y.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function generateBlurVertSource(t,e){var r,i=Math.ceil(t/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),u=function generateBlurFragSource(t){for(var e,r=zn[t],i=r.length,n=Vn,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e].toString()),o+="\n"}return(n=n.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(s=t.call(this,a,u)||this).horizontal=e,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return filter_blur_es_extends(BlurFilterPass,t),BlurFilterPass.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Un.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(s,Un.BLIT),this.uniforms.uSampler=a;var h=a;a=s,s=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(BlurFilterPass.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(BlurFilterPass.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),BlurFilterPass}(ar),Wn=function(t){function BlurFilter(e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=Y.FILTER_RESOLUTION),void 0===n&&(n=5);var o=t.call(this)||this;return o.blurXFilter=new Yn(!0,e,r,i,n),o.blurYFilter=new Yn(!1,e,r,i,n),o.resolution=i,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}return filter_blur_es_extends(BlurFilter,t),BlurFilter.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,Un.CLEAR),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},BlurFilter.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(BlurFilter.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(BlurFilter.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(BlurFilter.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(BlurFilter.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(BlurFilter.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(BlurFilter.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),BlurFilter}(ar),filter_color_matrix_es_extendStatics=function(t,e){return(filter_color_matrix_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var qn=function(t){function ColorMatrixFilter(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,Lr,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function filter_color_matrix_es_extends(t,e){function __(){this.constructor=t}filter_color_matrix_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(ColorMatrixFilter,t),ColorMatrixFilter.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},ColorMatrixFilter.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},ColorMatrixFilter.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},ColorMatrixFilter.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},ColorMatrixFilter.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},ColorMatrixFilter.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},ColorMatrixFilter.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},ColorMatrixFilter.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},ColorMatrixFilter.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},ColorMatrixFilter.prototype.desaturate=function(){this.saturate(-1)},ColorMatrixFilter.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},ColorMatrixFilter.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},ColorMatrixFilter.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},ColorMatrixFilter.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},ColorMatrixFilter.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},ColorMatrixFilter.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},ColorMatrixFilter.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},ColorMatrixFilter.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},ColorMatrixFilter.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,c=(255&i)/255,l=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,u,h,c,e=e||.15,0,o-u,s-h,a-c,0,0];this._loadMatrix(l,n)},ColorMatrixFilter.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},ColorMatrixFilter.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},ColorMatrixFilter.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},ColorMatrixFilter.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(ColorMatrixFilter.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(ColorMatrixFilter.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),ColorMatrixFilter}(ar);qn.prototype.grayscale=qn.prototype.greyscale;var filter_displacement_es_extendStatics=function(t,e){return(filter_displacement_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Zn=function(t){function DisplacementFilter(e,r){var i=this,n=new Tt;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=n,null==r&&(r=20),i.scale=new xt(r,r),i}return function filter_displacement_es_extends(t,e){function __(){this.constructor=t}filter_displacement_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(DisplacementFilter,t),DisplacementFilter.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(DisplacementFilter.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),DisplacementFilter}(ar),filter_fxaa_es_extendStatics=function(t,e){return(filter_fxaa_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Kn=function(t){function FXAAFilter(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function filter_fxaa_es_extends(t,e){function __(){this.constructor=t}filter_fxaa_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(FXAAFilter,t),FXAAFilter}(ar),filter_noise_es_extendStatics=function(t,e){return(filter_noise_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Qn=function(t){function NoiseFilter(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=t.call(this,Lr,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}return function filter_noise_es_extends(t,e){function __(){this.constructor=t}filter_noise_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(NoiseFilter,t),Object.defineProperty(NoiseFilter.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(NoiseFilter.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),NoiseFilter}(ar),Jn=new Tt;Dt.prototype._cacheAsBitmap=!1,Dt.prototype._cacheData=null;var $n=function $n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Dt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new $n),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Dt.prototype._renderCached=function _renderCached(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Dt.prototype._initCachedDisplayObject=function _initCachedDisplayObject(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(Y.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=_e.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=u,te.addToCache(a.baseTexture,u),ge.addToCache(a,u);var h=this.transform.localTransform.copyTo(Jn).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,a,!0,h,!1),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new Hi(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},Dt.prototype._renderCachedCanvas=function _renderCachedCanvas(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Dt.prototype._initCachedDisplayObjectCanvas=function _initCachedDisplayObjectCanvas(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,n=t._projTransform;e.ceil(Y.RESOLUTION);var o=_e.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+uid();this._cacheData.textureCacheId=s,te.addToCache(o.baseTexture,s),ge.addToCache(o,s);var a=Jn;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new Hi(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},Dt.prototype._calculateCachedBounds=function _calculateCachedBounds(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Dt.prototype._getCachedLocalBounds=function _getCachedLocalBounds(){return this._cacheData.sprite.getLocalBounds(null)},Dt.prototype._destroyCachedDisplayObject=function _destroyCachedDisplayObject(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,te.removeFromCache(this._cacheData.textureCacheId),ge.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Dt.prototype._cacheAsBitmapDestroy=function _cacheAsBitmapDestroy(t){this.cacheAsBitmap=!1,this.destroy(t)},Dt.prototype.name=null,Ft.prototype.getChildByName=function getChildByName(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++){if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}}return null},Dt.prototype.getGlobalPosition=function getGlobalPosition(t,e){return void 0===t&&(t=new xt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var mesh_extras_es_extendStatics=function(t,e){return(mesh_extras_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function mesh_extras_es_extends(t,e){function __(){this.constructor=t}mesh_extras_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var eo=function(t){function PlaneGeometry(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=e,o.height=r,o.build(),o}return mesh_extras_es_extends(PlaneGeometry,t),PlaneGeometry.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,u=0;u<t;u++){var h=u%this.segWidth,c=u/this.segWidth|0;e.push(h*s,c*a),r.push(h/n,c/o)}var l=n*o;for(u=0;u<l;u++){var d=u%n,p=u/n|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,y=(p+1)*this.segWidth+d,g=(p+1)*this.segWidth+d+1;i.push(f,m,y,m,g,y)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},PlaneGeometry}(mn),ro=function(t){function RopeGeometry(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var n=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=e,n.textureScale=i,n.build(),n}return mesh_extras_es_extends(RopeGeometry,t),Object.defineProperty(RopeGeometry.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),RopeGeometry.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],u=this._width*this.textureScale,h=t.length,c=0;c<h;c++){var l=4*c;if(this.textureScale>0){var d=a.x-t[c].x,p=a.y-t[c].y,f=Math.sqrt(d*d+p*p);a=t[c],s+=f/u}else s=c/(h-1);n[l]=s,n[l+1]=0,n[l+2]=s,n[l+3]=1}var m=0;for(c=0;c<h-1;c++){l=2*c;o[m++]=l,o[m++]=l+1,o[m++]=l+2,o[m++]=l+2,o[m++]=l+1,o[m++]=l+3}r.update(),i.update(),this.updateVertices()}}},RopeGeometry.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;n=-((e=a<t.length-1?t[a+1]:u).x-r.x),i=e.y-r.y;var c=Math.sqrt(i*i+n*n),l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=c,n/=c,i*=l,n*=l,o[h]=u.x+i,o[h+1]=u.y+n,o[h+2]=u.x-i,o[h+3]=u.y-n,r=u}this.buffers[0].update()}},RopeGeometry.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},RopeGeometry}(mn),io=function(t){function SimpleRope(e,r,i){void 0===i&&(i=0);var n=this,o=new ro(e.height,r,i),s=new fn(e);return i>0&&(e.baseTexture.wrapMode=k.REPEAT),(n=t.call(this,o,s)||this).autoUpdate=!0,n}return mesh_extras_es_extends(SimpleRope,t),SimpleRope.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)},SimpleRope}(pn),no=function(t){function SimplePlane(e,r,i){var n=this,o=new eo(e.width,e.height,r,i),s=new fn(ge.WHITE);return(n=t.call(this,o,s)||this).texture=e,n}return mesh_extras_es_extends(SimplePlane,t),SimplePlane.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(SimplePlane.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),SimplePlane.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},SimplePlane.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},SimplePlane}(pn),oo=function(t){function SimpleMesh(e,r,i,n,o){void 0===e&&(e=ge.EMPTY);var s=this,a=new mn(r,i,n);a.getBuffer("aVertexPosition").static=!1;var u=new fn(e);return(s=t.call(this,a,u,null,o)||this).autoUpdate=!0,s}return mesh_extras_es_extends(SimpleMesh,t),Object.defineProperty(SimpleMesh.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),SimpleMesh.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},SimpleMesh}(pn),so=function(t){function NineSlicePlane(e,r,i,n,o){void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===o&&(o=10);var s=t.call(this,ge.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}return mesh_extras_es_extends(NineSlicePlane,t),NineSlicePlane.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(NineSlicePlane.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),NineSlicePlane.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},NineSlicePlane.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},NineSlicePlane.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(NineSlicePlane.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(NineSlicePlane.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(NineSlicePlane.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(NineSlicePlane.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(NineSlicePlane.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(NineSlicePlane.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),NineSlicePlane.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},NineSlicePlane}(no),sprite_animated_es_extendStatics=function(t,e){return(sprite_animated_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ao=function(t){function AnimatedSprite(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof ge?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return function sprite_animated_es_extends(t,e){function __(){this.constructor=t}sprite_animated_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(AnimatedSprite,t),AnimatedSprite.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(jt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},AnimatedSprite.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(jt.shared.add(this.update,this,Nt.HIGH),this._isConnectedToTicker=!0))},AnimatedSprite.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},AnimatedSprite.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},AnimatedSprite.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},AnimatedSprite.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},AnimatedSprite.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},AnimatedSprite.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(ge.from(t[r]));return new AnimatedSprite(e)},AnimatedSprite.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(ge.from(t[r]));return new AnimatedSprite(e)},Object.defineProperty(AnimatedSprite.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(AnimatedSprite.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof ge)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(AnimatedSprite.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(AnimatedSprite.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(AnimatedSprite.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(jt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(jt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),AnimatedSprite}(Hi),pixi_es_extendStatics=function(t,e){return(pixi_es_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function pixi_es_extends(t,e){function __(){this.constructor=t}pixi_es_extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var uo="5.0.0";function useDeprecated(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return deprecation(uo,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return deprecation(uo,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return deprecation(uo,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return deprecation(uo,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return deprecation(uo,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return deprecation(uo,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return deprecation(uo,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return deprecation(uo,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}},CanvasTinter:{get:function(){return deprecation("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),t.canvasUtils}},GroupD8:{get:function(){return deprecation("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),t.groupD8}}}),t.accessibility={},Object.defineProperties(t.accessibility,{AccessibilityManager:{get:function(){return deprecation("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),t.AccessibilityManager}}}),t.interaction={},Object.defineProperties(t.interaction,{InteractionManager:{get:function(){return deprecation("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),t.InteractionManager}},InteractionData:{get:function(){return deprecation("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),t.InteractionData}},InteractionEvent:{get:function(){return deprecation("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),t.InteractionEvent}}}),t.prepare={},Object.defineProperties(t.prepare,{BasePrepare:{get:function(){return deprecation("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),t.BasePrepare}},Prepare:{get:function(){return deprecation("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),t.Prepare}},CanvasPrepare:{get:function(){return deprecation("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),t.CanvasPrepare}}}),t.extract={},Object.defineProperties(t.extract,{Extract:{get:function(){return deprecation("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),t.Extract}},CanvasExtract:{get:function(){return deprecation("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),t.CanvasExtract}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return deprecation(uo,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return deprecation(uo,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return deprecation(uo,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return deprecation(uo,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),t.TilingSprite.fromFrame=function fromFrame(e,r,i){return deprecation("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),t.TilingSprite.from(e,{width:r,height:i})},t.TilingSprite.fromImage=function fromImage(e,r,i,n){return void 0===n&&(n={}),deprecation("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),n.width=r,n.height=i,t.TilingSprite.from(e,n)},Object.defineProperties(t.utils,{getSvgSize:{get:function(){return deprecation(uo,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.resources.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return deprecation(uo,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return deprecation(uo,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return deprecation(uo,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return deprecation(uo,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return deprecation(uo,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return deprecation(uo,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return deprecation(uo,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return deprecation(uo,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return deprecation(uo,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return deprecation(uo,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return deprecation(uo,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return deprecation(uo,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return deprecation(uo,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return deprecation(uo,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){deprecation(uo,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return deprecation(uo,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return deprecation(uo,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function addPixiMiddleware(e){return deprecation(uo,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})};var eventToSignal=function(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)};Object.assign(t.Loader.prototype,{on:function(t){var e=eventToSignal(t);deprecation(uo,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+e+".add")},once:function(t){var e=eventToSignal(t);deprecation(uo,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+e+".once")},off:function(t){var e=eventToSignal(t);deprecation(uo,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+e+".detach")}}),Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return deprecation(uo,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),t.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return deprecation(uo,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),t.Prepare}}),t.Container.prototype._renderWebGL=function _renderWebGL(t){deprecation(uo,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function renderWebGL(t){deprecation(uo,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function renderWebGL(t){deprecation(uo,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function renderAdvancedWebGL(t){deprecation(uo,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return deprecation(uo,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){deprecation(uo,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function loadSource(e){deprecation(uo,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()};var r=!1;Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return deprecation(uo,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return deprecation(uo,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){deprecation(uo,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return deprecation(uo,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){deprecation(uo,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return deprecation("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){deprecation("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return r||(deprecation("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),r=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),e.fromImage=function fromImage(t,r,i,n){deprecation(uo,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},e.fromCanvas=function fromCanvas(t,r){return deprecation(uo,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:r})},e.fromSVG=function fromSVG(t,r,i,n){deprecation(uo,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},Object.defineProperties(t.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return deprecation("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){deprecation("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),t.Point.prototype.copy=function copy(t){return deprecation(uo,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function copy(t){return deprecation(uo,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function copy(t){return deprecation(uo,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function copy(t){return deprecation(uo,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function setState(t){return deprecation("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return deprecation(uo,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){deprecation(uo,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){deprecation(uo,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){deprecation(uo,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,n=t.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width,s=i.height/r.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return deprecation(uo,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return deprecation(uo,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(t){function BlurXFilter(e,r,i,n){return deprecation(uo,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,i,n)||this}return pixi_es_extends(BlurXFilter,t),BlurXFilter}(t.filters.BlurFilterPass),n=function(t){function BlurYFilter(e,r,i,n){return deprecation(uo,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,i,n)||this}return pixi_es_extends(BlurYFilter,t),BlurYFilter}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:n});var o=t.Sprite,s=t.Texture,a=t.Graphics;function spriteFrom(t,e,r,i){return deprecation(uo,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),o.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function textureFrom(t,e,r,i){return deprecation(uo,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),s.from(e,{resourceOptions:{scale:i,crossorigin:r}})}a.prototype.generateCanvasTexture||(a.prototype.generateCanvasTexture=function generateCanvasTexture(){deprecation(uo,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(a.prototype,"graphicsData",{get:function(){return deprecation(uo,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),o.fromImage=spriteFrom.bind(null,"fromImage"),o.fromSVG=spriteFrom.bind(null,"fromSVG"),o.fromCanvas=spriteFrom.bind(null,"fromCanvas"),o.fromVideo=spriteFrom.bind(null,"fromVideo"),o.fromFrame=spriteFrom.bind(null,"fromFrame"),s.fromImage=textureFrom.bind(null,"fromImage"),s.fromSVG=textureFrom.bind(null,"fromSVG"),s.fromCanvas=textureFrom.bind(null,"fromCanvas"),s.fromVideo=textureFrom.bind(null,"fromVideo"),s.fromFrame=textureFrom.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return deprecation(uo,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){deprecation(uo,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return deprecation(uo,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){deprecation(uo,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){deprecation(uo,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){deprecation(uo,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(t.BitmapText.prototype,"font",{get:function(){return deprecation("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(e){if(deprecation("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),e){var r={font:e};this._upgradeStyle(r),r.fontSize=r.fontSize||t.BitmapFont.available[r.fontName].size,this._fontName=r.fontName,this._fontSize=r.fontSize,this.dirty=!0}}})}Cr.registerPlugin("accessibility",kt),Cr.registerPlugin("extract",qr),Cr.registerPlugin("interaction",qt),Cr.registerPlugin("particle",mi),Cr.registerPlugin("prepare",$i),Cr.registerPlugin("batch",zr),Cr.registerPlugin("tilingSprite",hn),hi.registerPlugin(wn),hi.registerPlugin(rn),Vr.registerPlugin(Gt),Vr.registerPlugin(ci);var ho="5.3.7",co={AlphaFilter:Pn,BlurFilter:Wn,BlurFilterPass:Yn,ColorMatrixFilter:qn,DisplacementFilter:Zn,FXAAFilter:Kn,NoiseFilter:Qn}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,r){return e&&defineProperties(t.prototype,e),r&&defineProperties(t,r),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function MiniSignalBinding(t,e,r){void 0===e&&(e=!1),_classCallCheck(this,MiniSignalBinding),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}return i(MiniSignalBinding,[{key:"detach",value:function detach(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),MiniSignalBinding}();function _addMiniSignalBinding(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var o=function(){function MiniSignal(){_classCallCheck(this,MiniSignal),this._head=this._tail=void 0}return i(MiniSignal,[{key:"handlers",value:function handlers(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function has(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function dispatch(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function add(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return _addMiniSignalBinding(this,new n(t,!1,e))}},{key:"once",value:function once(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return _addMiniSignalBinding(this,new n(t,!0,e))}},{key:"detach",value:function detach(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function detachAll(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),MiniSignal}();o.MiniSignalBinding=n,e.default=o,t.exports=e.default},function(t,e,r){var i=r(40),n=r(24),o=r(90);i||n(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,r){var i=r(3);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,r){var i=r(15),n=r(25),o=r(51),s=r(7),a=r(4),u=r(36),h=r(95),c=r(3),l=n("Reflect","construct"),d=c((function(){function F(){}return!(l((function(){}),[],F)instanceof F)})),p=!c((function(){l((function(){}))})),f=d||p;i({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function construct(t,e){o(t),s(e);var r=arguments.length<3?t:o(arguments[2]);if(p&&!d)return l(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(h.apply(t,i))}var n=r.prototype,c=u(a(n)?n:Object.prototype),f=Function.apply.call(t,c,e);return a(f)?f:c}})},function(t,e,r){var i=r(1),n=r(46).f,o=r(20),s=r(24),a=r(42),u=r(69),h=r(92);t.exports=function(t,e){var r,c,l,d,p,f=t.target,m=t.global,y=t.stat;if(r=m?i:y?i[f]||a(f,{}):(i[f]||{}).prototype)for(c in e){if(d=e[c],l=t.noTargetGet?(p=n(r,c))&&p.value:r[c],!h(m?c:f+(y?".":"#")+c,t.forced)&&void 0!==l){if(typeof d==typeof l)continue;u(d,l)}(t.sham||l&&l.sham)&&o(d,"sham",!0),s(r,c,d,t)}}},function(t,e,r){"use strict";var i=r(24),n=r(7),o=r(3),s=r(96),a="toString",u=RegExp.prototype,h=u.toString,c=o((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),l=h.name!=a;(c||l)&&i(RegExp.prototype,a,(function toString(){var t=n(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in u)?s.call(t):r)}),{unsafe:!0})},function(t,e){function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}},function(t,e,r){var i=r(97);t.exports=function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,r){var i=r(98),n=r(52);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?n(t):e}},function(t,e,r){var i=r(13),n=r(6),o=r(23);t.exports=i?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var i=r(68),n=r(47);t.exports=function(t){return i(n(t))}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var i=r(1),n=r(20),o=r(2),s=r(42),a=r(65),u=r(32),h=u.get,c=u.enforce,l=String(String).split("String");(t.exports=function(t,e,r,a){var u=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||n(r,"name",e),c(r).source=l.join("string"==typeof e?e:"")),t!==i?(u?!d&&t[e]&&(h=!0):delete t[e],h?t[e]=r:n(t,e,r)):h?t[e]=r:s(e,r)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&h(this).source||a(this)}))},function(t,e,r){var i=r(70),n=r(1),aFunction=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?aFunction(i[t])||aFunction(n[t]):i[t]&&i[t][e]||n[t]&&n[t][e]}},function(t,e,r){var i=r(35),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},function(t,e,r){var i=r(47);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports={}},,function(t,e){t.exports=!1},function(t,e,r){var i=r(4);t.exports=function(t,e){if(!i(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var i,n,o,s=r(89),a=r(1),u=r(4),h=r(20),c=r(2),l=r(33),d=r(34),p=a.WeakMap;if(s){var f=new p,m=f.get,y=f.has,g=f.set;i=function(t,e){return g.call(f,t,e),e},n=function(t){return m.call(f,t)||{}},o=function(t){return y.call(f,t)}}else{var _=l("state");d[_]=!0,i=function(t,e){return h(t,_,e),e},n=function(t){return c(t,_)?t[_]:{}},o=function(t){return c(t,_)}}t.exports={set:i,get:n,has:o,enforce:function(t){return o(t)?n(t):i(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){var i=r(41),n=r(43),o=i("keys");t.exports=function(t){return o[t]||(o[t]=n(t))}},function(t,e){t.exports={}},function(t,e){var r=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},function(t,e,r){var i,n=r(7),o=r(93),s=r(50),a=r(34),u=r(94),h=r(63),c=r(33),l=c("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return"<script>"+t+"</"+"script>"},NullProtoObject=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;NullProtoObject=i?function(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=h("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(scriptTag("document.F=Object")),t.close(),t.F);for(var r=s.length;r--;)delete NullProtoObject.prototype[s[r]];return NullProtoObject()};a[l]=!0,t.exports=Object.create||function create(t,e){var r;return null!==t?(EmptyConstructor.prototype=n(t),r=new EmptyConstructor,EmptyConstructor.prototype=null,r[l]=t):r=NullProtoObject(),void 0===e?r:o(r,e)}},function(t,e,r){var i=r(13),n=r(3),o=r(2),s=Object.defineProperty,a={},thrower=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var r=[][t],u=!!o(e,"ACCESSORS")&&e.ACCESSORS,h=o(e,0)?e[0]:thrower,c=o(e,1)?e[1]:void 0;return a[t]=!!r&&!n((function(){if(u&&!i)return!0;var t={length:-1};u?s(t,1,{enumerable:!0,get:thrower}):t[1]=1,r.call(t,h,c)}))}},function(t,e,r){"use strict";function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}r.r(e),r.d(e,"gsap",(function(){return $i})),r.d(e,"default",(function(){return $i})),r.d(e,"CSSPlugin",(function(){return Ji})),r.d(e,"TweenMax",(function(){return tn})),r.d(e,"TweenLite",(function(){return tr})),r.d(e,"TimelineMax",(function(){return Ve})),r.d(e,"TimelineLite",(function(){return Ve})),r.d(e,"Power0",(function(){return Ir})),r.d(e,"Power1",(function(){return Ar})),r.d(e,"Power2",(function(){return Or})),r.d(e,"Power3",(function(){return Rr})),r.d(e,"Power4",(function(){return Mr})),r.d(e,"Linear",(function(){return Cr})),r.d(e,"Quad",(function(){return Dr})),r.d(e,"Cubic",(function(){return Lr})),r.d(e,"Quart",(function(){return Fr})),r.d(e,"Quint",(function(){return Br})),r.d(e,"Strong",(function(){return Nr})),r.d(e,"Elastic",(function(){return kr})),r.d(e,"Back",(function(){return Ur})),r.d(e,"SteppedEase",(function(){return jr})),r.d(e,"Bounce",(function(){return Gr})),r.d(e,"Sine",(function(){return Xr})),r.d(e,"Expo",(function(){return Hr})),r.d(e,"Circ",(function(){return zr}));var i,n,o,s,a,u,h,c,l,d,p,f,m,y,g,_,v,x,b,T,S,E,w,P,I,A,O,R,M={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},C={duration:.5,overwrite:!1,delay:0},D=1e8,L=1e-8,B=2*Math.PI,N=B/4,k=0,U=Math.sqrt,j=Math.cos,G=Math.sin,X=function _isString(t){return"string"==typeof t},H=function _isFunction(t){return"function"==typeof t},z=function _isNumber(t){return"number"==typeof t},V=function _isUndefined(t){return void 0===t},Y=function _isObject(t){return"object"==typeof t},W=function _isNotFalse(t){return!1!==t},q=function _windowExists(){return"undefined"!=typeof window},Z=function _isFuncOrString(t){return H(t)||X(t)},K="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Q=Array.isArray,J=/(?:-?\.?\d|\.)+/gi,$=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,tt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,et=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,rt=/[+-]=-?[.\d]+/,it=/[#\-+.]*\b[a-z\d-=+%.]+/gi,nt=/[\d.+\-=]+(?:e[-+]\d*)*/i,ot={},st={},at=function _install(t){return(st=Dt(t,ot))&&_r},ut=function _missingPlugin(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},ht=function _warn(t,e){return!e&&console.warn(t)},ct=function _addGlobal(t,e){return t&&(ot[t]=e)&&st&&(st[t]=e)||ot},lt=function _emptyFunc(){return 0},dt={},pt=[],ft={},mt={},yt={},gt=30,_t=[],vt="",xt=function _harness(t){var e,r,i=t[0];if(Y(i)||H(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(r=_t.length;r--&&!_t[r].targetTest(i););e=_t[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new He(t[r],e)))||t.splice(r,1);return t},bt=function _getCache(t){return t._gsap||xt(ue(t))[0]._gsap},Tt=function _getProperty(t,e,r){return(r=t[e])&&H(r)?t[e]():V(r)&&t.getAttribute&&t.getAttribute(e)||r},St=function _forEachName(t,e){return(t=t.split(",")).forEach(e)||t},Et=function _round(t){return Math.round(1e5*t)/1e5||0},wt=function _arrayContainsAny(t,e){for(var r=e.length,i=0;t.indexOf(e[i])<0&&++i<r;);return i<r},Pt=function _parseVars(t,e,r){var i,n=z(t[1]),o=(n?2:1)+(e<2?0:1),s=t[o];if(n&&(s.duration=t[1]),s.parent=r,e){for(i=s;r&&!("immediateRender"in i);)i=r.vars.defaults||{},r=W(r.vars.inherit)&&r.parent;s.immediateRender=W(i.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return s},It=function _lazyRender(){var t,e,r=pt.length,i=pt.slice(0);for(ft={},pt.length=0,t=0;t<r;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},At=function _lazySafeRender(t,e,r,i){pt.length&&It(),t.render(e,r,i),pt.length&&It()},Ot=function _numericIfPossible(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(it).length<2?e:X(t)?t.trim():t},Rt=function _passThrough(t){return t},Mt=function _setDefaults(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},Ct=function _setKeyframeDefaults(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])},Dt=function _merge(t,e){for(var r in e)t[r]=e[r];return t},Lt=function _mergeDeep(t,e){for(var r in e)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=Y(e[r])?_mergeDeep(t[r]||(t[r]={}),e[r]):e[r]);return t},Ft=function _copyExcluding(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i},Bt=function _inheritDefaults(t){var e=t.parent||n,r=t.keyframes?Ct:Mt;if(W(t.inherit))for(;e;)r(t,e.vars.defaults),e=e.parent||e._dp;return t},Nt=function _removeLinkedListItem(t,e,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var n=e._prev,o=e._next;n?n._next=o:t[r]===e&&(t[r]=o),o?o._prev=n:t[i]===e&&(t[i]=n),e._next=e._prev=e.parent=null},kt=function _removeFromParent(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Ut=function _uncache(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},jt=function _recacheAncestors(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Gt=function _hasNoPausedAncestors(t){return!t||t._ts&&_hasNoPausedAncestors(t.parent)},Xt=function _elapsedCycleDuration(t){return t._repeat?Ht(t._tTime,t=t.duration()+t._rDelay)*t:0},Ht=function _animationCycle(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},zt=function _parentToChildTotalTime(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Vt=function _setEnd(t){return t._end=Et(t._start+(t._tDur/Math.abs(t._ts||t._rts||L)||0))},Yt=function _alignPlayhead(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Et(r._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Vt(t),r._dirty||Ut(r,t)),t},Wt=function _postAddChecks(t,e){var r;if((e._time||e._initted&&!e._dur)&&(r=zt(t.rawTime(),e),(!e._dur||ie(0,e.totalDuration(),r)-e._tTime>L)&&e.render(r,!0)),Ut(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-1e-8}},qt=function _addToTimeline(t,e,r,i){return e.parent&&kt(e),e._start=Et(r+e._delay),e._end=Et(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function _addLinkedListItem(t,e,r,i,n){void 0===r&&(r="_first"),void 0===i&&(i="_last");var o,s=t[i];if(n)for(o=e[n];s&&s[n]>o;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[i]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,i||Wt(t,e),t},Zt=function _scrollTrigger(t,e){return(ot.ScrollTrigger||ut("scrollTrigger",e))&&ot.ScrollTrigger.create(e,t)},Kt=function _attemptInitTween(t,e,r,i){return Ke(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&h!==Re.frame?(pt.push(t),t._lazy=[e,i],1):void 0:1},Qt=function _parentPlayheadIsBeforeStart(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||_parentPlayheadIsBeforeStart(e))},Jt=function _setDuration(t,e,r,i){var n=t._repeat,o=Et(e)||0,s=t._tTime/t._tDur;return s&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=n?n<0?1e10:Et(o*(n+1)+t._rDelay*n):o,s&&!i?Yt(t,t._tTime=t._tDur*s):t.parent&&Vt(t),r||Ut(t.parent,t),t},$t=function _onUpdateTotalDuration(t){return t instanceof Ve?Ut(t):Jt(t,t._dur)},te={_start:0,endTime:lt},ee=function _parsePosition(t,e){var r,i,n=t.labels,o=t._recent||te,s=t.duration()>=D?o.endTime(!1):t._dur;return X(e)&&(isNaN(e)||e in n)?"<"===(r=e.charAt(0))||">"===r?("<"===r?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0):(r=e.indexOf("="))<0?(e in n||(n[e]=s),n[e]):(i=+(e.charAt(r-1)+e.substr(r+1)),r>1?_parsePosition(t,e.substr(0,r-1))+i:s+i):null==e?s:+e},re=function _conditionalReturn(t,e){return t||0===t?e(t):e},ie=function _clamp(t,e,r){return r<t?t:r>e?e:r},ne=function getUnit(t){if("string"!=typeof t)return"";var e=nt.exec(t);return e?t.substr(e.index+e[0].length):""},oe=[].slice,se=function _isArrayLike(t,e){return t&&Y(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Y(t[0]))&&!t.nodeType&&t!==o},ae=function _flatten(t,e,r){return void 0===r&&(r=[]),t.forEach((function(t){var i;return X(t)&&!e||se(t,1)?(i=r).push.apply(i,ue(t)):r.push(t)}))||r},ue=function toArray(t,e){return!X(t)||e||!s&&Me()?Q(t)?ae(t,e):se(t)?oe.call(t,0):t?[t]:[]:oe.call(a.querySelectorAll(t),0)},he=function shuffle(t){return t.sort((function(){return.5-Math.random()}))},ce=function distribute(t){if(H(t))return t;var e=Y(t)?t:{each:t},r=ke(e.ease),i=e.from||0,n=parseFloat(e.base)||0,o={},s=i>0&&i<1,a=isNaN(i)||s,u=e.axis,h=i,c=i;return X(i)?h=c={center:.5,edges:.5,end:1}[i]||0:!s&&a&&(h=i[0],c=i[1]),function(t,s,l){var d,p,f,m,y,g,_,v,x,b=(l||e).length,T=o[b];if(!T){if(!(x="auto"===e.grid?0:(e.grid||[1,D])[1])){for(_=-D;_<(_=l[x++].getBoundingClientRect().left)&&x<b;);x--}for(T=o[b]=[],d=a?Math.min(x,b)*h-.5:i%x,p=a?b*c/x-.5:i/x|0,_=0,v=D,g=0;g<b;g++)f=g%x-d,m=p-(g/x|0),T[g]=y=u?Math.abs("y"===u?m:f):U(f*f+m*m),y>_&&(_=y),y<v&&(v=y);"random"===i&&he(T),T.max=_-v,T.min=v,T.v=b=(parseFloat(e.amount)||parseFloat(e.each)*(x>b?b-1:u?"y"===u?b/x:x:Math.max(x,b/x))||0)*("edges"===i?-1:1),T.b=b<0?n-b:n,T.u=ne(e.amount||e.each)||0,r=r&&b<0?Be(r):r}return b=(T[t]-T.min)/T.max||0,Et(T.b+(r?r(b):b)*T.v)+T.u}},le=function _roundModifier(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(r){var i=Math.round(parseFloat(r)/t)*t*e;return(i-i%1)/e+(z(r)?0:ne(r))}},de=function snap(t,e){var r,i,n=Q(t);return!n&&Y(t)&&(r=n=t.radius||D,t.values?(t=ue(t.values),(i=!z(t[0]))&&(r*=r)):t=le(t.increment)),re(e,n?H(t)?function(e){return i=t(e),Math.abs(i-e)<=r?i:e}:function(e){for(var n,o,s=parseFloat(i?e.x:e),a=parseFloat(i?e.y:0),u=D,h=0,c=t.length;c--;)(n=i?(n=t[c].x-s)*n+(o=t[c].y-a)*o:Math.abs(t[c]-s))<u&&(u=n,h=c);return h=!r||u<=r?t[h]:e,i||h===e||z(e)?h:h+ne(e)}:le(t))},pe=function random(t,e,r,i){return re(Q(t)?!e:!0===r?!!(r=0):!i,(function(){return Q(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*i)/i}))},fe=function _wrapArray(t,e,r){return re(r,(function(r){return t[~~e(r)]}))},me=function _replaceRandom(t){for(var e,r,i,n,o=0,s="";~(e=t.indexOf("random(",o));)i=t.indexOf(")",e),n="["===t.charAt(e+7),r=t.substr(e+7,i-e-7).match(n?it:J),s+=t.substr(o,e-o)+pe(n?r:+r[0],n?0:+r[1],+r[2]||1e-5),o=i+1;return s+t.substr(o,t.length-o)},ye=function mapRange(t,e,r,i,n){var o=e-t,s=i-r;return re(n,(function(e){return r+((e-t)/o*s||0)}))},ge=function _getLabelInDirection(t,e,r){var i,n,o,s=t.labels,a=D;for(i in s)(n=s[i]-e)<0==!!r&&n&&a>(n=Math.abs(n))&&(o=i,a=n);return o},_e=function _callback(t,e,r){var i,n,o=t.vars,s=o[e];if(s)return i=o[e+"Params"],n=o.callbackScope||t,r&&pt.length&&It(),i?s.apply(n,i):s.call(n)},ve=function _interrupt(t){return kt(t),t.progress()<1&&_e(t,"onInterrupt"),t},xe=function _createPlugin(t){var e=(t=!t.name&&t.default||t).name,r=H(t),i=e&&!r&&t.init?function(){this._props=[]}:t,n={init:lt,render:hr,add:qe,kill:lr,modifier:cr,rawVars:0},o={targetTest:0,get:0,getSetter:or,aliases:{},register:0};if(Me(),t!==i){if(mt[e])return;Mt(i,Mt(Ft(t,n),o)),Dt(i.prototype,Dt(n,Ft(t,o))),mt[i.prop=e]=i,t.targetTest&&(_t.push(i),dt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ct(e,i),t.register&&t.register(_r,i,fr)},be=255,Te={aqua:[0,be,be],lime:[0,be,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,be],navy:[0,0,128],white:[be,be,be],olive:[128,128,0],yellow:[be,be,0],orange:[be,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[be,0,0],pink:[be,192,203],cyan:[0,be,be],transparent:[be,be,be,0]},Se=function _hue(t,e,r){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*be+.5|0},Ee=function splitColor(t,e,r){var i,n,o,s,a,u,h,c,l,d,p=t?z(t)?[t>>16,t>>8&be,t&be]:0:Te.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Te[t])p=Te[t];else if("#"===t.charAt(0)){if(t.length<6&&(i=t.charAt(1),n=t.charAt(2),o=t.charAt(3),t="#"+i+i+n+n+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&be,p&be,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&be,t&be]}else if("hsl"===t.substr(0,3))if(p=d=t.match(J),e){if(~t.indexOf("="))return p=t.match($),r&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,a=+p[1]/100,i=2*(u=+p[2]/100)-(n=u<=.5?u*(a+1):u+a-u*a),p.length>3&&(p[3]*=1),p[0]=Se(s+1/3,i,n),p[1]=Se(s,i,n),p[2]=Se(s-1/3,i,n);else p=t.match(J)||Te.transparent;p=p.map(Number)}return e&&!d&&(i=p[0]/be,n=p[1]/be,o=p[2]/be,u=((h=Math.max(i,n,o))+(c=Math.min(i,n,o)))/2,h===c?s=a=0:(l=h-c,a=u>.5?l/(2-h-c):l/(h+c),s=h===i?(n-o)/l+(n<o?6:0):h===n?(o-i)/l+2:(i-n)/l+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*a+.5),p[2]=~~(100*u+.5)),r&&p.length<4&&(p[3]=1),p},we=function _colorOrderData(t){var e=[],r=[],i=-1;return t.split(Ie).forEach((function(t){var n=t.match(tt)||[];e.push.apply(e,n),r.push(i+=n.length+1)})),e.c=r,e},Pe=function _formatColors(t,e,r){var i,n,o,s,a="",u=(t+a).match(Ie),h=e?"hsla(":"rgba(",c=0;if(!u)return t;if(u=u.map((function(t){return(t=Ee(t,e,1))&&h+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),r&&(o=we(t),(i=r.c).join(a)!==o.c.join(a)))for(s=(n=t.replace(Ie,"1").split(tt)).length-1;c<s;c++)a+=n[c]+(~i.indexOf(c)?u.shift()||h+"0,0,0,0)":(o.length?o:u.length?u:r).shift());if(!n)for(s=(n=t.split(Ie)).length-1;c<s;c++)a+=n[c]+u[c];return a+n[s]},Ie=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Te)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ae=/hsl[a]?\(/,Oe=function _colorStringFilter(t){var e,r=t.join(" ");if(Ie.lastIndex=0,Ie.test(r))return e=Ae.test(r),t[1]=Pe(t[1],e),t[0]=Pe(t[0],e,we(t[1])),!0},Re=(_=Date.now,v=500,x=33,b=_(),T=b,E=S=1e3/240,P=function _tick(t){var e,r,i,n,o=_()-T,s=!0===t;if(o>v&&(b+=o-x),((e=(i=(T+=o)-b)-E)>0||s)&&(n=++m.frame,y=i-1e3*m.time,m.time=i/=1e3,E+=e+(e>=S?4:S-e),r=1),s||(d=p(_tick)),r)for(g=0;g<w.length;g++)w[g](i,y,n,t)},m={time:0,frame:0,tick:function tick(){P(!0)},deltaRatio:function deltaRatio(t){return y/(1e3/(t||60))},wake:function wake(){u&&(!s&&q()&&(o=s=window,a=o.document||{},ot.gsap=_r,(o.gsapVersions||(o.gsapVersions=[])).push(_r.version),at(st||o.GreenSockGlobals||!o.gsap&&o||{}),f=o.requestAnimationFrame),d&&m.sleep(),p=f||function(t){return setTimeout(t,E-1e3*m.time+1|0)},l=1,P(2))},sleep:function sleep(){(f?o.cancelAnimationFrame:clearTimeout)(d),l=0,p=lt},lagSmoothing:function lagSmoothing(t,e){v=t||1e8,x=Math.min(e,v,0)},fps:function fps(t){S=1e3/(t||240),E=1e3*m.time+S},add:function add(t){w.indexOf(t)<0&&w.push(t),Me()},remove:function remove(t){var e;~(e=w.indexOf(t))&&w.splice(e,1)&&g>=e&&g--},_listeners:w=[]}),Me=function _wake(){return!l&&Re.wake()},Ce={},De=/^[\d.\-M][\d.\-,\s]/,Le=/["']/g,Fe=function _parseObjectInString(t){for(var e,r,i,n={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,u=o.length;a<u;a++)r=o[a],e=a!==u-1?r.lastIndexOf(","):r.length,i=r.substr(0,e),n[s]=isNaN(i)?i.replace(Le,"").trim():+i,s=r.substr(e+1).trim();return n},Be=function _invertEase(t){return function(e){return 1-t(1-e)}},Ne=function _propagateYoyoEase(t,e){for(var r,i=t._first;i;)i instanceof Ve?_propagateYoyoEase(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?_propagateYoyoEase(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},ke=function _parseEase(t,e){return t&&(H(t)?t:Ce[t]||function _configEaseFromString(t){var e=(t+"").split("("),r=Ce[e[0]];return r&&e.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[Fe(e[1])]:function _valueInParentheses(t){var e=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<r?t.indexOf(")",r+1):r)}(t).split(",").map(Ot)):Ce._CE&&De.test(t)?Ce._CE("",t):r}(t))||e},Ue=function _insertEase(t,e,r,i){void 0===r&&(r=function easeOut(t){return 1-e(1-t)}),void 0===i&&(i=function easeInOut(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var n,o={easeIn:e,easeOut:r,easeInOut:i};return St(t,(function(t){for(var e in Ce[t]=ot[t]=o,Ce[n=t.toLowerCase()]=r,o)Ce[n+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ce[t+"."+e]=o[e]})),o},je=function _easeInOutFromOut(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Ge=function _configElastic(t,e,r){var i=e>=1?e:1,n=(r||(t?.3:.45))/(e<1?e:1),o=n/B*(Math.asin(1/i)||0),s=function easeOut(t){return 1===t?1:i*Math.pow(2,-10*t)*G((t-o)*n)+1},a="out"===t?s:"in"===t?function(t){return 1-s(1-t)}:je(s);return n=B/n,a.config=function(e,r){return _configElastic(t,e,r)},a},Xe=function _configBack(t,e){void 0===e&&(e=1.70158);var r=function easeOut(t){return t?--t*t*((e+1)*t+e)+1:0},i="out"===t?r:"in"===t?function(t){return 1-r(1-t)}:je(r);return i.config=function(e){return _configBack(t,e)},i};St("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var r=e<5?e+1:e;Ue(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},(function(t){return 1-Math.pow(1-t,r)}),(function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2}))})),Ce.Linear.easeNone=Ce.none=Ce.Linear.easeIn,Ue("Elastic",Ge("in"),Ge("out"),Ge()),I=7.5625,O=1/(A=2.75),Ue("Bounce",(function(t){return 1-R(1-t)}),R=function easeOut(t){return t<O?I*t*t:t<.7272727272727273?I*Math.pow(t-1.5/A,2)+.75:t<.9090909090909092?I*(t-=2.25/A)*t+.9375:I*Math.pow(t-2.625/A,2)+.984375}),Ue("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Ue("Circ",(function(t){return-(U(1-t*t)-1)})),Ue("Sine",(function(t){return 1===t?1:1-j(t*N)})),Ue("Back",Xe("in"),Xe("out"),Xe()),Ce.SteppedEase=Ce.steps=ot.SteppedEase={config:function config(t,e){void 0===t&&(t=1);var r=1/t,i=t+(e?0:1),n=e?1:0;return function(t){return((i*ie(0,.99999999,t)|0)+n)*r}}},C.ease=Ce["quad.out"],St("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return vt+=t+","+t+"Params,"}));var He=function GSCache(t,e){this.id=k++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Tt,this.set=e?e.getSetter:or},ze=function(){function Animation(t,e){var r=t.parent||n;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Jt(this,+t.duration,1,1),this.data=t.data,l||Re.wake(),r&&qt(r,this,e||0===e?e:r._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var t=Animation.prototype;return t.delay=function delay(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},t.duration=function duration(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},t.totalDuration=function totalDuration(t){return arguments.length?(this._dirty=0,Jt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function totalTime(t,e){if(Me(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Yt(this,t),!r._dp||r.parent||Wt(r,this);r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&qt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===L||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),At(this,t,e)),this},t.time=function time(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Xt(this))%this._dur||(t?this._dur:0),e):this._time},t.totalProgress=function totalProgress(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function progress(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Xt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function iteration(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?Ht(this._tTime,r)+1:1},t.timeScale=function timeScale(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?zt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,jt(this.totalTime(ie(-this._delay,this._tDur,e),!0))},t.paused=function paused(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Me(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=L)&&Math.abs(this._zTime)!==L))),this):this._ps},t.startTime=function startTime(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&qt(e,this,t-this._delay),this}return this._start},t.endTime=function endTime(t){return this._start+(W(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function rawTime(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?zt(e.rawTime(t),this):this._tTime:this._tTime},t.globalTime=function globalTime(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(e._ts||1),e=e._dp;return r},t.repeat=function repeat(t){return arguments.length?(this._repeat=t===1/0?-2:t,$t(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function repeatDelay(t){return arguments.length?(this._rDelay=t,$t(this)):this._rDelay},t.yoyo=function yoyo(t){return arguments.length?(this._yoyo=t,this):this._yoyo},t.seek=function seek(t,e){return this.totalTime(ee(this,t),W(e))},t.restart=function restart(t,e){return this.play().totalTime(t?-this._delay:0,W(e))},t.play=function play(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},t.reverse=function reverse(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},t.pause=function pause(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},t.resume=function resume(){return this.paused(!1)},t.reversed=function reversed(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},t.invalidate=function invalidate(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function isActive(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-L))},t.eventCallback=function eventCallback(t,e,r){var i=this.vars;return arguments.length>1?(e?(i[t]=e,r&&(i[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},t.then=function then(t){var e=this;return new Promise((function(r){var i=H(t)?t:Rt,n=function _resolve(){var t=e.then;e.then=null,H(i)&&(i=i(e))&&(i.then||i===e)&&(e.then=t),r(i),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?n():e._prom=n}))},t.kill=function kill(){ve(this)},Animation}();Mt(ze.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Ve=function(t){function Timeline(e,r){var i;return void 0===e&&(e={}),(i=t.call(this,e,r)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=W(e.sortChildren),i.parent&&Wt(i.parent,_assertThisInitialized(i)),e.scrollTrigger&&Zt(_assertThisInitialized(i),e.scrollTrigger),i}_inheritsLoose(Timeline,t);var e=Timeline.prototype;return e.to=function to(t,e,r){return new tr(t,Pt(arguments,0,this),ee(this,z(e)?arguments[3]:r)),this},e.from=function from(t,e,r){return new tr(t,Pt(arguments,1,this),ee(this,z(e)?arguments[3]:r)),this},e.fromTo=function fromTo(t,e,r,i){return new tr(t,Pt(arguments,2,this),ee(this,z(e)?arguments[4]:i)),this},e.set=function set(t,e,r){return e.duration=0,e.parent=this,Bt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new tr(t,e,ee(this,r),1),this},e.call=function call(t,e,r){return qt(this,tr.delayedCall(0,t,e),ee(this,r))},e.staggerTo=function staggerTo(t,e,r,i,n,o,s){return r.duration=e,r.stagger=r.stagger||i,r.onComplete=o,r.onCompleteParams=s,r.parent=this,new tr(t,r,ee(this,n)),this},e.staggerFrom=function staggerFrom(t,e,r,i,n,o,s){return r.runBackwards=1,Bt(r).immediateRender=W(r.immediateRender),this.staggerTo(t,e,r,i,n,o,s)},e.staggerFromTo=function staggerFromTo(t,e,r,i,n,o,s,a){return i.startAt=r,Bt(i).immediateRender=W(i.immediateRender),this.staggerTo(t,e,i,n,o,s,a)},e.render=function render(t,e,r){var i,o,s,a,u,h,c,l,d,p,f,m,y=this._time,g=this._dirty?this.totalDuration():this._tDur,_=this._dur,v=this!==n&&t>g-L&&t>=0?g:t<L?0:t,x=this._zTime<0!=t<0&&(this._initted||!_);if(v!==this._tTime||r||x){if(y!==this._time&&_&&(v+=this._time-y,t+=this._time-y),i=v,d=this._start,h=!(l=this._ts),x&&(_||(y=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(f=this._yoyo,u=_+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*u+t,e,r);if(i=Et(v%u),v===g?(a=this._repeat,i=_):((a=~~(v/u))&&a===v/u&&(i=_,a--),i>_&&(i=_)),p=Ht(this._tTime,u),!y&&this._tTime&&p!==a&&(p=a),f&&1&a&&(i=_-i,m=1),a!==p&&!this._lock){var b=f&&1&p,T=b===(f&&1&a);if(a<p&&(b=!b),y=b?0:_,this._lock=1,this.render(y||(m?0:Et(a*u)),e,!_)._lock=0,!e&&this.parent&&_e(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),y!==this._time||h!==!this._ts)return this;if(_=this._dur,g=this._tDur,T&&(this._lock=2,y=b?_:-1e-4,this.render(y,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!h)return this;Ne(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function _findNextPauseTween(t,e,r){var i;if(r>e)for(i=t._first;i&&i._start<=r;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,Et(y),Et(i)))&&(v-=i-(i=c._start)),this._tTime=v,this._time=i,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,y=0),!y&&(i||!_&&t>=0)&&!e&&_e(this,"onStart"),i>=y&&t>=0)for(o=this._first;o;){if(s=o._next,(o._act||i>=o._start)&&o._ts&&c!==o){if(o.parent!==this)return this.render(t,e,r);if(o.render(o._ts>0?(i-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(i-o._start)*o._ts,e,r),i!==this._time||!this._ts&&!h){c=0,s&&(v+=this._zTime=-1e-8);break}}o=s}else{o=this._last;for(var S=t<0?t:i;o;){if(s=o._prev,(o._act||S<=o._end)&&o._ts&&c!==o){if(o.parent!==this)return this.render(t,e,r);if(o.render(o._ts>0?(S-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(S-o._start)*o._ts,e,r),i!==this._time||!this._ts&&!h){c=0,s&&(v+=this._zTime=S?-1e-8:L);break}}o=s}}if(c&&!e&&(this.pause(),c.render(i>=y?0:-1e-8)._zTime=i>=y?1:-1,this._ts))return this._start=d,Vt(this),this.render(t,e,r);this._onUpdate&&!e&&_e(this,"onUpdate",!0),(v===g&&g>=this.totalDuration()||!v&&y)&&(d!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||((t||!_)&&(v===g&&this._ts>0||!v&&this._ts<0)&&kt(this,1),e||t<0&&!y||!v&&!y||(_e(this,v===g?"onComplete":"onReverseComplete",!0),this._prom&&!(v<g&&this.timeScale()>0)&&this._prom())))}return this},e.add=function add(t,e){var r=this;if(z(e)||(e=ee(this,e)),!(t instanceof ze)){if(Q(t))return t.forEach((function(t){return r.add(t,e)})),this;if(X(t))return this.addLabel(t,e);if(!H(t))return this;t=tr.delayedCall(0,t)}return this!==t?qt(this,t,e):this},e.getChildren=function getChildren(t,e,r,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===i&&(i=-D);for(var n=[],o=this._first;o;)o._start>=i&&(o instanceof tr?e&&n.push(o):(r&&n.push(o),t&&n.push.apply(n,o.getChildren(!0,e,r)))),o=o._next;return n},e.getById=function getById(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},e.remove=function remove(t){return X(t)?this.removeLabel(t):H(t)?this.killTweensOf(t):(Nt(this,t),t===this._recent&&(this._recent=this._last),Ut(this))},e.totalTime=function totalTime(e,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Et(Re.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,r),this._forcing=0,this):this._tTime},e.addLabel=function addLabel(t,e){return this.labels[t]=ee(this,e),this},e.removeLabel=function removeLabel(t){return delete this.labels[t],this},e.addPause=function addPause(t,e,r){var i=tr.delayedCall(0,e||lt,r);return i.data="isPause",this._hasPause=1,qt(this,i,ee(this,t))},e.removePause=function removePause(t){var e=this._first;for(t=ee(this,t);e;)e._start===t&&"isPause"===e.data&&kt(e),e=e._next},e.killTweensOf=function killTweensOf(t,e,r){for(var i=this.getTweensOf(t,r),n=i.length;n--;)Ye!==i[n]&&i[n].kill(t,e);return this},e.getTweensOf=function getTweensOf(t,e){for(var r,i=[],n=ue(t),o=this._first,s=z(e);o;)o instanceof tr?wt(o._targets,n)&&(s?(!Ye||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&i.push(o):(r=o.getTweensOf(n,e)).length&&i.push.apply(i,r),o=o._next;return i},e.tweenTo=function tweenTo(t,e){e=e||{};var r=this,i=ee(r,t),n=e,o=n.startAt,s=n.onStart,a=n.onStartParams,u=n.immediateRender,h=tr.to(r,Mt({ease:"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||L,onStart:function onStart(){r.pause();var t=e.duration||Math.abs((i-r._time)/r.timeScale());h._dur!==t&&Jt(h,t,0,1).render(h._time,!0,!0),s&&s.apply(h,a||[])}},e));return u?h.render(0):h},e.tweenFromTo=function tweenFromTo(t,e,r){return this.tweenTo(e,Mt({startAt:{time:ee(this,t)}},r))},e.recent=function recent(){return this._recent},e.nextLabel=function nextLabel(t){return void 0===t&&(t=this._time),ge(this,ee(this,t))},e.previousLabel=function previousLabel(t){return void 0===t&&(t=this._time),ge(this,ee(this,t),1)},e.currentLabel=function currentLabel(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+L)},e.shiftChildren=function shiftChildren(t,e,r){void 0===r&&(r=0);for(var i,n=this._first,o=this.labels;n;)n._start>=r&&(n._start+=t,n._end+=t),n=n._next;if(e)for(i in o)o[i]>=r&&(o[i]+=t);return Ut(this)},e.invalidate=function invalidate(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},e.clear=function clear(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ut(this)},e.totalDuration=function totalDuration(t){var e,r,i,o=0,s=this,a=s._last,u=D;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(i=s.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(r=a._start)>u&&s._sort&&a._ts&&!s._lock?(s._lock=1,qt(s,a,r-a._delay,1)._lock=0):u=r,r<0&&a._ts&&(o-=r,(!i&&!s._dp||i&&i.smoothChildTiming)&&(s._start+=r/s._ts,s._time-=r,s._tTime-=r),s.shiftChildren(-r,!1,-Infinity),u=0),a._end>o&&a._ts&&(o=a._end),a=e;Jt(s,s===n&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},Timeline.updateRoot=function updateRoot(t){if(n._ts&&(At(n,zt(t,n)),h=Re.frame),Re.frame>=gt){gt+=M.autoSleep||120;var e=n._first;if((!e||!e._ts)&&M.autoSleep&&Re._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Re.sleep()}}},Timeline}(ze);Mt(Ve.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ye,We=function _addComplexStringPropTween(t,e,r,i,n,o,s){var a,u,h,c,l,d,p,f,m=new fr(this._pt,t,e,0,1,ur,null,n),y=0,g=0;for(m.b=r,m.e=i,r+="",(p=~(i+="").indexOf("random("))&&(i=me(i)),o&&(o(f=[r,i],t,e),r=f[0],i=f[1]),u=r.match(et)||[];a=et.exec(i);)c=a[0],l=i.substring(y,a.index),h?h=(h+1)%5:"rgba("===l.substr(-5)&&(h=1),c!==u[g++]&&(d=parseFloat(u[g-1])||0,m._pt={_next:m._pt,p:l||1===g?l:",",s:d,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-d,m:h&&h<4?Math.round:0},y=et.lastIndex);return m.c=y<i.length?i.substring(y,i.length):"",m.fp=s,(rt.test(i)||p)&&(m.e=0),this._pt=m,m},qe=function _addPropTween(t,e,r,i,n,o,s,a,u){H(i)&&(i=i(n||0,t,o));var h,c=t[e],l="get"!==r?r:H(c)?u?t[e.indexOf("set")||!H(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():c,d=H(c)?u?ir:rr:er;if(X(i)&&(~i.indexOf("random(")&&(i=me(i)),"="===i.charAt(1)&&(i=parseFloat(l)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(ne(l)||0))),l!==i)return isNaN(l*i)?(!c&&!(e in t)&&ut(e,i),We.call(this,t,e,l,i,d,a||M.stringFilter,u)):(h=new fr(this._pt,t,e,+l||0,i-(l||0),"boolean"==typeof c?ar:sr,0,d),u&&(h.fp=u),s&&h.modifier(s,this,t),this._pt=h)},Ze=function _checkPlugin(t,e,r,i,n,o){var s,a,u,h;if(mt[t]&&!1!==(s=new mt[t]).init(n,s.rawVars?e[t]:function _processVars(t,e,r,i,n){if(H(t)&&(t=Qe(t,n,e,r,i)),!Y(t)||t.style&&t.nodeType||Q(t)||K(t))return X(t)?Qe(t,n,e,r,i):t;var o,s={};for(o in t)s[o]=Qe(t[o],n,e,r,i);return s}(e[t],i,n,o,r),r,i,o)&&(r._pt=a=new fr(r._pt,n,t,0,1,s.render,s,0,s.priority),r!==c))for(u=r._ptLookup[r._targets.indexOf(n)],h=s._props.length;h--;)u[s._props[h]]=a;return s},Ke=function _initTween(t,e){var r,o,s,a,u,h,c,l,d,p,f,m,y,g=t.vars,_=g.ease,v=g.startAt,x=g.immediateRender,b=g.lazy,T=g.onUpdate,S=g.onUpdateParams,E=g.callbackScope,w=g.runBackwards,P=g.yoyoEase,I=g.keyframes,A=g.autoRevert,O=t._dur,R=t._startAt,M=t._targets,D=t.parent,B=D&&"nested"===D.data?D.parent._targets:M,N="auto"===t._overwrite&&!i,k=t.timeline;if(k&&(!I||!_)&&(_="none"),t._ease=ke(_,C.ease),t._yEase=P?Be(ke(!0===P?_:P,C.ease)):0,P&&t._yoyo&&!t._repeat&&(P=t._yEase,t._yEase=t._ease,t._ease=P),!k){if(m=(l=M[0]?bt(M[0]).harness:0)&&g[l.prop],r=Ft(g,dt),R&&R.render(-1,!0).kill(),v){if(kt(t._startAt=tr.set(M,Mt({data:"isStart",overwrite:!1,parent:D,immediateRender:!0,lazy:W(b),startAt:null,delay:0,onUpdate:T,onUpdateParams:S,callbackScope:E,stagger:0},v))),x)if(e>0)A||(t._startAt=0);else if(O&&!(e<0&&R))return void(e&&(t._zTime=e))}else if(w&&O)if(R)!A&&(t._startAt=0);else if(e&&(x=!1),s=Mt({overwrite:!1,data:"isFromStart",lazy:x&&W(b),immediateRender:x,stagger:0,parent:D},r),m&&(s[l.prop]=m),kt(t._startAt=tr.set(M,s)),x){if(!e)return}else _initTween(t._startAt,L);for(t._pt=0,b=O&&W(b)||b&&!O,o=0;o<M.length;o++){if(c=(u=M[o])._gsap||xt(M)[o]._gsap,t._ptLookup[o]=p={},ft[c.id]&&pt.length&&It(),f=B===M?o:B.indexOf(u),l&&!1!==(d=new l).init(u,m||r,t,f,B)&&(t._pt=a=new fr(t._pt,u,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){p[t]=a})),d.priority&&(h=1)),!l||m)for(s in r)mt[s]&&(d=Ze(s,r,t,f,u,B))?d.priority&&(h=1):p[s]=a=qe.call(t,u,s,"get",r[s],f,B,0,g.stringFilter);t._op&&t._op[o]&&t.kill(u,t._op[o]),N&&t._pt&&(Ye=t,n.killTweensOf(u,p,t.globalTime(0)),y=!t.parent,Ye=0),t._pt&&b&&(ft[c.id]=1)}h&&pr(t),t._onInit&&t._onInit(t)}t._from=!k&&!!g.runBackwards,t._onUpdate=T,t._initted=(!t._op||t._pt)&&!y},Qe=function _parseFuncOrString(t,e,r,i,n){return H(t)?t.call(e,r,i,n):X(t)&&~t.indexOf("random(")?me(t):t},Je=vt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",$e=(Je+",id,stagger,delay,duration,paused,scrollTrigger").split(","),tr=function(t){function Tween(e,r,o,s){var a;"number"==typeof r&&(o.duration=r,r=o,o=null);var u,h,c,l,d,p,f,m,y=(a=t.call(this,s?r:Bt(r),o)||this).vars,g=y.duration,_=y.delay,v=y.immediateRender,x=y.stagger,b=y.overwrite,T=y.keyframes,S=y.defaults,E=y.scrollTrigger,w=y.yoyoEase,P=a.parent,I=(Q(e)||K(e)?z(e[0]):"length"in r)?[e]:ue(e);if(a._targets=I.length?xt(I):ht("GSAP target "+e+" not found. https://greensock.com",!M.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=b,T||x||Z(g)||Z(_)){if(r=a.vars,(u=a.timeline=new Ve({data:"nested",defaults:S||{}})).kill(),u.parent=u._dp=_assertThisInitialized(a),u._start=0,T)Mt(u.vars.defaults,{ease:"none"}),T.forEach((function(t){return u.to(I,t,">")}));else{if(l=I.length,f=x?ce(x):lt,Y(x))for(d in x)~Je.indexOf(d)&&(m||(m={}),m[d]=x[d]);for(h=0;h<l;h++){for(d in c={},r)$e.indexOf(d)<0&&(c[d]=r[d]);c.stagger=0,w&&(c.yoyoEase=w),m&&Dt(c,m),p=I[h],c.duration=+Qe(g,_assertThisInitialized(a),h,p,I),c.delay=(+Qe(_,_assertThisInitialized(a),h,p,I)||0)-a._delay,!x&&1===l&&c.delay&&(a._delay=_=c.delay,a._start+=_,c.delay=0),u.to(p,c,f(h,p,I))}u.duration()?g=_=0:a.timeline=0}g||a.duration(g=u.duration())}else a.timeline=0;return!0!==b||i||(Ye=_assertThisInitialized(a),n.killTweensOf(I),Ye=0),P&&Wt(P,_assertThisInitialized(a)),(v||!g&&!T&&a._start===Et(P._time)&&W(v)&&Gt(_assertThisInitialized(a))&&"nested"!==P.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-_))),E&&Zt(_assertThisInitialized(a),E),a}_inheritsLoose(Tween,t);var e=Tween.prototype;return e.render=function render(t,e,r){var i,n,o,s,a,u,h,c,l,d=this._time,p=this._tDur,f=this._dur,m=t>p-L&&t>=0?p:t<L?0:t;if(f){if(m!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=m,c=this.timeline,this._repeat){if(s=f+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,r);if(i=Et(m%s),m===p?(o=this._repeat,i=f):((o=~~(m/s))&&o===m/s&&(i=f,o--),i>f&&(i=f)),(u=this._yoyo&&1&o)&&(l=this._yEase,i=f-i),a=Ht(this._tTime,s),i===d&&!r&&this._initted)return this;o!==a&&(c&&this._yEase&&Ne(c,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=r=1,this.render(Et(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(Kt(this,t<0?t:i,r,e))return this._tTime=0,this;if(f!==this._dur)return this.render(t,e,r)}for(this._tTime=m,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(l||this._ease)(i/f),this._from&&(this.ratio=h=1-h),i&&!d&&!e&&_e(this,"onStart"),n=this._pt;n;)n.r(h,n.d),n=n._next;c&&c.render(t<0?t:!i&&u?-1e-8:c._dur*h,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),_e(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&_e(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!f)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&kt(this,1),e||t<0&&!d||!m&&!d||(_e(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&!(m<p&&this.timeScale()>0)&&this._prom()))}}else!function _renderZeroDurationTween(t,e,r,i){var n,o,s,a=t.ratio,u=e<0||!e&&(!t._start&&Qt(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,h=t._rDelay,c=0;if(h&&t._repeat&&(c=ie(0,t._tDur,e),o=Ht(c,h),s=Ht(t._tTime,h),t._yoyo&&1&o&&(u=1-u),o!==s&&(a=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==a||i||t._zTime===L||!e&&t._zTime){if(!t._initted&&Kt(t,e,i,r))return;for(s=t._zTime,t._zTime=e||(r?L:0),r||(r=e&&!s),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=c,r||_e(t,"onStart"),n=t._pt;n;)n.r(u,n.d),n=n._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!r&&_e(t,"onUpdate"),c&&t._repeat&&!r&&t.parent&&_e(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&kt(t,1),r||(_e(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},e.targets=function targets(){return this._targets},e.invalidate=function invalidate(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},e.kill=function kill(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?ve(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ye&&!0!==Ye.vars.overwrite)._first||ve(this),this.parent&&r!==this.timeline.totalDuration()&&Jt(this,this._dur*this.timeline._tDur/r,0,1),this}var i,n,o,s,a,u,h,c=this._targets,l=t?ue(t):c,d=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function _arraysMatch(t,e){for(var r=t.length,i=r===e.length;i&&r--&&t[r]===e[r];);return r<0}(c,l))return"all"===e&&(this._pt=0),ve(this);for(i=this._op=this._op||[],"all"!==e&&(X(e)&&(a={},St(e,(function(t){return a[t]=1})),e=a),e=function _addAliasesToVars(t,e){var r,i,n,o,s=t[0]?bt(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(i in r=Dt({},e),a)if(i in r)for(n=(o=a[i].split(",")).length;n--;)r[o[n]]=r[i];return r}(c,e)),h=c.length;h--;)if(~l.indexOf(c[h]))for(a in n=d[h],"all"===e?(i[h]=e,s=n,o={}):(o=i[h]=i[h]||{},s=e),s)(u=n&&n[a])&&("kill"in u.d&&!0!==u.d.kill(a)||Nt(this,u,"_pt"),delete n[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&p&&ve(this),this},Tween.to=function to(t,e){return new Tween(t,e,arguments[2])},Tween.from=function from(t,e){return new Tween(t,Pt(arguments,1))},Tween.delayedCall=function delayedCall(t,e,r,i){return new Tween(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},Tween.fromTo=function fromTo(t,e,r){return new Tween(t,Pt(arguments,2))},Tween.set=function set(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new Tween(t,e)},Tween.killTweensOf=function killTweensOf(t,e,r){return n.killTweensOf(t,e,r)},Tween}(ze);Mt(tr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),St("staggerTo,staggerFrom,staggerFromTo",(function(t){tr[t]=function(){var e=new Ve,r=oe.call(arguments,0);return r.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,r)}}));var er=function _setterPlain(t,e,r){return t[e]=r},rr=function _setterFunc(t,e,r){return t[e](r)},ir=function _setterFuncWithParam(t,e,r,i){return t[e](i.fp,r)},nr=function _setterAttribute(t,e,r){return t.setAttribute(e,r)},or=function _getSetter(t,e){return H(t[e])?rr:V(t[e])&&t.setAttribute?nr:er},sr=function _renderPlain(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},ar=function _renderBoolean(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},ur=function _renderComplexString(t,e){var r=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=e.c}e.set(e.t,e.p,i,e)},hr=function _renderPropTweens(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},cr=function _addPluginModifier(t,e,r,i){for(var n,o=this._pt;o;)n=o._next,o.p===i&&o.modifier(t,e,r),o=n},lr=function _killPropTweensOf(t){for(var e,r,i=this._pt;i;)r=i._next,i.p===t&&!i.op||i.op===t?Nt(this,i,"_pt"):i.dep||(e=1),i=r;return!e},dr=function _setterWithModifier(t,e,r,i){i.mSet(t,e,i.m.call(i.tween,r,i.mt),i)},pr=function _sortPropTweensByPriority(t){for(var e,r,i,n,o=t._pt;o;){for(e=o._next,r=i;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:n)?o._prev._next=o:i=o,(o._next=r)?r._prev=o:n=o,o=e}t._pt=i},fr=function(){function PropTween(t,e,r,i,n,o,s,a,u){this.t=e,this.s=i,this.c=n,this.p=r,this.r=o||sr,this.d=s||this,this.set=a||er,this.pr=u||0,this._next=t,t&&(t._prev=this)}return PropTween.prototype.modifier=function modifier(t,e,r){this.mSet=this.mSet||this.set,this.set=dr,this.m=t,this.mt=r,this.tween=e},PropTween}();St(vt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return dt[t]=1})),ot.TweenMax=ot.TweenLite=tr,ot.TimelineLite=ot.TimelineMax=Ve,n=new Ve({sortChildren:!1,defaults:C,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),M.stringFilter=Oe;var mr={registerPlugin:function registerPlugin(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){return xe(t)}))},timeline:function timeline(t){return new Ve(t)},getTweensOf:function getTweensOf(t,e){return n.getTweensOf(t,e)},getProperty:function getProperty(t,e,r,i){X(t)&&(t=ue(t)[0]);var n=bt(t||{}).get,o=r?Rt:Ot;return"native"===r&&(r=""),t?e?o((mt[e]&&mt[e].get||n)(t,e,r,i)):function(e,r,i){return o((mt[e]&&mt[e].get||n)(t,e,r,i))}:t},quickSetter:function quickSetter(t,e,r){if((t=ue(t)).length>1){var i=t.map((function(t){return _r.quickSetter(t,e,r)})),n=i.length;return function(t){for(var e=n;e--;)i[e](t)}}t=t[0]||{};var o=mt[e],s=bt(t),a=s.harness&&(s.harness.aliases||{})[e]||e,u=o?function(e){var i=new o;c._pt=0,i.init(t,r?e+r:e,c,0,[t]),i.render(1,i),c._pt&&hr(1,c)}:s.set(t,a);return o?u:function(e){return u(t,a,r?e+r:e,s,1)}},isTweening:function isTweening(t){return n.getTweensOf(t,!0).length>0},defaults:function defaults(t){return t&&t.ease&&(t.ease=ke(t.ease,C.ease)),Lt(C,t||{})},config:function config(t){return Lt(M,t||{})},registerEffect:function registerEffect(t){var e=t.name,r=t.effect,i=t.plugins,n=t.defaults,o=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!mt[t]&&!ot[t]&&ht(e+" effect requires "+t+" plugin.")})),yt[e]=function(t,e,i){return r(ue(t),Mt(e||{},n),i)},o&&(Ve.prototype[e]=function(t,r,i){return this.add(yt[e](t,Y(r)?r:(i=r)&&{},this),i)})},registerEase:function registerEase(t,e){Ce[t]=ke(e)},parseEase:function parseEase(t,e){return arguments.length?ke(t,e):Ce},getById:function getById(t){return n.getById(t)},exportRoot:function exportRoot(t,e){void 0===t&&(t={});var r,i,o=new Ve(t);for(o.smoothChildTiming=W(t.smoothChildTiming),n.remove(o),o._dp=0,o._time=o._tTime=n._time,r=n._first;r;)i=r._next,!e&&!r._dur&&r instanceof tr&&r.vars.onComplete===r._targets[0]||qt(o,r,r._start-r._delay),r=i;return qt(n,o,0),o},utils:{wrap:function wrap(t,e,r){var i=e-t;return Q(t)?fe(t,wrap(0,t.length),e):re(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function wrapYoyo(t,e,r){var i=e-t,n=2*i;return Q(t)?fe(t,wrapYoyo(0,t.length-1),e):re(r,(function(e){return t+((e=(n+(e-t)%n)%n||0)>i?n-e:e)}))},distribute:ce,random:pe,snap:de,normalize:function normalize(t,e,r){return ye(t,e,0,1,r)},getUnit:ne,clamp:function clamp(t,e,r){return re(r,(function(r){return ie(t,e,r)}))},splitColor:Ee,toArray:ue,mapRange:ye,pipe:function pipe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function unitize(t,e){return function(r){return t(parseFloat(r))+(e||ne(r))}},interpolate:function interpolate(t,e,r,i){var n=isNaN(t+e)?0:function(r){return(1-r)*t+r*e};if(!n){var o,s,a,u,h,c=X(t),l={};if(!0===r&&(i=1)&&(r=null),c)t={p:t},e={p:e};else if(Q(t)&&!Q(e)){for(a=[],u=t.length,h=u-2,s=1;s<u;s++)a.push(interpolate(t[s-1],t[s]));u--,n=function func(t){t*=u;var e=Math.min(h,~~t);return a[e](t-e)},r=e}else i||(t=Dt(Q(t)?[]:{},t));if(!a){for(o in e)qe.call(l,t,o,"get",e[o]);n=function func(e){return hr(e,l)||(c?t.p:t)}}}return re(r,n)},shuffle:he},install:at,effects:yt,ticker:Re,updateRoot:Ve.updateRoot,plugins:mt,globalTimeline:n,core:{PropTween:fr,globals:ct,Tween:tr,Timeline:Ve,Animation:ze,getCache:bt,_removeLinkedListItem:Nt,suppressOverwrites:function suppressOverwrites(t){return i=t}}};St("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return mr[t]=tr[t]})),Re.add(Ve.updateRoot),c=mr.to({},{duration:0});var yr=function _getPluginPropTween(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r},gr=function _buildModifierPlugin(t,e){return{name:t,rawVars:1,init:function init(t,r,i){i._onInit=function(t){var i,n;if(X(r)&&(i={},St(r,(function(t){return i[t]=1})),r=i),e){for(n in i={},r)i[n]=e(r[n]);r=i}!function _addModifiers(t,e){var r,i,n,o=t._targets;for(r in e)for(i=o.length;i--;)(n=t._ptLookup[i][r])&&(n=n.d)&&(n._pt&&(n=yr(n,r)),n&&n.modifier&&n.modifier(e[r],t,o[i],r))}(t,r)}}}},_r=mr.registerPlugin({name:"attr",init:function init(t,e,r,i,n){var o,s;for(o in e)(s=this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],i,n,0,0,o))&&(s.op=o),this._props.push(o)}},{name:"endArray",init:function init(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},gr("roundProps",le),gr("modifiers"),gr("snap",de))||mr;tr.version=Ve.version=_r.version="3.6.0",u=1,q()&&Me();var vr,xr,br,Tr,Sr,Er,wr,Pr,Ir=Ce.Power0,Ar=Ce.Power1,Or=Ce.Power2,Rr=Ce.Power3,Mr=Ce.Power4,Cr=Ce.Linear,Dr=Ce.Quad,Lr=Ce.Cubic,Fr=Ce.Quart,Br=Ce.Quint,Nr=Ce.Strong,kr=Ce.Elastic,Ur=Ce.Back,jr=Ce.SteppedEase,Gr=Ce.Bounce,Xr=Ce.Sine,Hr=Ce.Expo,zr=Ce.Circ,Vr={},Yr=180/Math.PI,Wr=Math.PI/180,qr=Math.atan2,Zr=/([A-Z])/g,Kr=/(?:left|right|width|margin|padding|x)/i,Qr=/[\s,\(]\S/,Jr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$r=function _renderCSSProp(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},ti=function _renderPropWithEnd(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},ei=function _renderCSSPropWithBeginning(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},ri=function _renderRoundedCSSProp(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},ii=function _renderNonTweeningValue(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ni=function _renderNonTweeningValueOnlyAtEnd(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},oi=function _setterCSSStyle(t,e,r){return t.style[e]=r},si=function _setterCSSProp(t,e,r){return t.style.setProperty(e,r)},ai=function _setterTransform(t,e,r){return t._gsap[e]=r},ui=function _setterScale(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},hi=function _setterScaleWithRender(t,e,r,i,n){var o=t._gsap;o.scaleX=o.scaleY=r,o.renderTransform(n,o)},ci=function _setterTransformWithRender(t,e,r,i,n){var o=t._gsap;o[e]=r,o.renderTransform(n,o)},li="transform",di=li+"Origin",pi=function _createElement(t,e){var r=xr.createElementNS?xr.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):xr.createElement(t);return r.style?r:xr.createElement(t)},fi=function _getComputedProperty(t,e,r){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Zr,"-$1").toLowerCase())||i.getPropertyValue(e)||!r&&_getComputedProperty(t,yi(e)||e,1)||""},mi="O,Moz,ms,Ms,Webkit".split(","),yi=function _checkPropPrefix(t,e,r){var i=(e||Sr).style,n=5;if(t in i&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(mi[n]+t in i););return n<0?null:(3===n?"ms":n>=0?mi[n]:"")+t},gi=function _initCore(){(function _windowExists(){return"undefined"!=typeof window})()&&window.document&&(vr=window,xr=vr.document,br=xr.documentElement,Sr=pi("div")||{style:{}},Er=pi("div"),li=yi(li),di=li+"Origin",Sr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Pr=!!yi("perspective"),Tr=1)},_i=function _getBBoxHack(t){var e,r=pi("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,o=this.style.cssText;if(br.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=_getBBoxHack}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(n?i.insertBefore(this,n):i.appendChild(this)),br.removeChild(r),this.style.cssText=o,e},vi=function _getAttributeFallbacks(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},xi=function _getBBox(t){var e;try{e=t.getBBox()}catch(r){e=_i.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===_i||(e=_i.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+vi(t,["x","cx","x1"])||0,y:+vi(t,["y","cy","y1"])||0,width:0,height:0}},bi=function _isSVG(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!xi(t))},Ti=function _removeProperty(t,e){if(e){var r=t.style;e in Vr&&e!==di&&(e=li),r.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty(e.replace(Zr,"-$1").toLowerCase())):r.removeAttribute(e)}},Si=function _addNonTweeningPT(t,e,r,i,n,o){var s=new fr(t._pt,e,r,0,1,o?ni:ii);return t._pt=s,s.b=i,s.e=n,t._props.push(r),s},Ei={deg:1,rad:1,turn:1},wi=function _convertToUnit(t,e,r,i){var n,o,s,a,u=parseFloat(r)||0,h=(r+"").trim().substr((u+"").length)||"px",c=Sr.style,l=Kr.test(e),d="svg"===t.tagName.toLowerCase(),p=(d?"client":"offset")+(l?"Width":"Height"),f=100,m="px"===i,y="%"===i;return i===h||!u||Ei[i]||Ei[h]?u:("px"!==h&&!m&&(u=_convertToUnit(t,e,r,"px")),a=t.getCTM&&bi(t),!y&&"%"!==h||!Vr[e]&&!~e.indexOf("adius")?(c[l?"width":"height"]=f+(m?h:i),o=~e.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,a&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==xr&&o.appendChild||(o=xr.body),(s=o._gsap)&&y&&s.width&&l&&s.time===Re.time?Et(u/s.width*f):((y||"%"===h)&&(c.position=fi(t,"position")),o===t&&(c.position="static"),o.appendChild(Sr),n=Sr[p],o.removeChild(Sr),c.position="absolute",l&&y&&((s=bt(o)).time=Re.time,s.width=o[p]),Et(m?n*u/f:n&&u?f/n*u:0))):(n=a?t.getBBox()[l?"width":"height"]:t[p],Et(y?u/n*f:u/100*n)))},Pi=function _get(t,e,r,i){var n;return Tr||gi(),e in Jr&&"transform"!==e&&~(e=Jr[e]).indexOf(",")&&(e=e.split(",")[0]),Vr[e]&&"transform"!==e?(n=ki(t,i),n="transformOrigin"!==e?n[e]:Ui(fi(t,di))+" "+n.zOrigin+"px"):(!(n=t.style[e])||"auto"===n||i||~(n+"").indexOf("calc("))&&(n=Mi[e]&&Mi[e](t,e,r)||fi(t,e)||Tt(t,e)||("opacity"===e?1:0)),r&&!~(n+"").trim().indexOf(" ")?wi(t,e,n,r)+r:n},Ii=function _tweenComplexCSSString(t,e,r,i){if(!r||"none"===r){var n=yi(e,t,1),o=n&&fi(t,n,1);o&&o!==r?(e=n,r=o):"borderColor"===e&&(r=fi(t,"borderTopColor"))}var s,a,u,h,c,l,d,p,f,m,y,g,_=new fr(this._pt,t.style,e,0,1,ur),v=0,x=0;if(_.b=r,_.e=i,r+="","auto"===(i+="")&&(t.style[e]=i,i=fi(t,e)||i,t.style[e]=r),Oe(s=[r,i]),i=s[1],u=(r=s[0]).match(tt)||[],(i.match(tt)||[]).length){for(;a=tt.exec(i);)d=a[0],f=i.substring(v,a.index),c?c=(c+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(c=1),d!==(l=u[x++]||"")&&(h=parseFloat(l)||0,y=l.substr((h+"").length),(g="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),p=parseFloat(d),m=d.substr((p+"").length),v=tt.lastIndex-m.length,m||(m=m||M.units[e]||y,v===i.length&&(i+=m,_.e+=m)),y!==m&&(h=wi(t,e,l,m)||0),_._pt={_next:_._pt,p:f||1===x?f:",",s:h,c:g?g*p:p-h,m:c&&c<4||"zIndex"===e?Math.round:0});_.c=v<i.length?i.substring(v,i.length):""}else _.r="display"===e&&"none"===i?ni:ii;return rt.test(i)&&(_.e=0),this._pt=_,_},Ai={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Oi=function _convertKeywordsToPercentages(t){var e=t.split(" "),r=e[0],i=e[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==i&&"right"!==i||(t=r,r=i,i=t),e[0]=Ai[r]||r,e[1]=Ai[i]||i,e.join(" ")},Ri=function _renderClearProps(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,i,n,o=e.t,s=o.style,a=e.u,u=o._gsap;if("all"===a||!0===a)s.cssText="",i=1;else for(n=(a=a.split(",")).length;--n>-1;)r=a[n],Vr[r]&&(i=1,r="transformOrigin"===r?di:li),Ti(o,r);i&&(Ti(o,li),u&&(u.svg&&o.removeAttribute("transform"),ki(o,1),u.uncache=1))}},Mi={clearProps:function clearProps(t,e,r,i,n){if("isFromStart"!==n.data){var o=t._pt=new fr(t._pt,e,r,0,0,Ri);return o.u=i,o.pr=-10,o.tween=n,t._props.push(r),1}}},Ci=[1,0,0,1,0,0],Di={},Li=function _isNullTransform(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Fi=function _getComputedTransformMatrixAsArray(t){var e=fi(t,li);return Li(e)?Ci:e.substr(7).match($).map(Et)},Bi=function _getMatrix(t,e){var r,i,n,o,s=t._gsap||bt(t),a=t.style,u=Fi(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?Ci:u:(u!==Ci||t.offsetParent||t===br||s.svg||(n=a.display,a.display="block",(r=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,br.appendChild(t)),u=Fi(t),n?a.display=n:Ti(t,"display"),o&&(i?r.insertBefore(t,i):r?r.appendChild(t):br.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},Ni=function _applySVGOrigin(t,e,r,i,n,o){var s,a,u,h=t._gsap,c=n||Bi(t,!0),l=h.xOrigin||0,d=h.yOrigin||0,p=h.xOffset||0,f=h.yOffset||0,m=c[0],y=c[1],g=c[2],_=c[3],v=c[4],x=c[5],b=e.split(" "),T=parseFloat(b[0])||0,S=parseFloat(b[1])||0;r?c!==Ci&&(a=m*_-y*g)&&(u=T*(-y/a)+S*(m/a)-(m*x-y*v)/a,T=T*(_/a)+S*(-g/a)+(g*x-_*v)/a,S=u):(T=(s=xi(t)).x+(~b[0].indexOf("%")?T/100*s.width:T),S=s.y+(~(b[1]||b[0]).indexOf("%")?S/100*s.height:S)),i||!1!==i&&h.smooth?(v=T-l,x=S-d,h.xOffset=p+(v*m+x*g)-v,h.yOffset=f+(v*y+x*_)-x):h.xOffset=h.yOffset=0,h.xOrigin=T,h.yOrigin=S,h.smooth=!!i,h.origin=e,h.originIsAbsolute=!!r,t.style[di]="0px 0px",o&&(Si(o,h,"xOrigin",l,T),Si(o,h,"yOrigin",d,S),Si(o,h,"xOffset",p,h.xOffset),Si(o,h,"yOffset",f,h.yOffset)),t.setAttribute("data-svg-origin",T+" "+S)},ki=function _parseTransform(t,e){var r=t._gsap||new He(t);if("x"in r&&!e&&!r.uncache)return r;var i,n,o,s,a,u,h,c,l,d,p,f,m,y,g,_,v,x,b,T,S,E,w,P,I,A,O,R,C,D,L,B,N=t.style,k=r.scaleX<0,U="px",j="deg",G=fi(t,di)||"0";return i=n=o=u=h=c=l=d=p=0,s=a=1,r.svg=!(!t.getCTM||!bi(t)),y=Bi(t,r.svg),r.svg&&(P=!r.uncache&&t.getAttribute("data-svg-origin"),Ni(t,P||G,!!P||r.originIsAbsolute,!1!==r.smooth,y)),f=r.xOrigin||0,m=r.yOrigin||0,y!==Ci&&(x=y[0],b=y[1],T=y[2],S=y[3],i=E=y[4],n=w=y[5],6===y.length?(s=Math.sqrt(x*x+b*b),a=Math.sqrt(S*S+T*T),u=x||b?qr(b,x)*Yr:0,(l=T||S?qr(T,S)*Yr+u:0)&&(a*=Math.cos(l*Wr)),r.svg&&(i-=f-(f*x+m*T),n-=m-(f*b+m*S))):(B=y[6],D=y[7],O=y[8],R=y[9],C=y[10],L=y[11],i=y[12],n=y[13],o=y[14],h=(g=qr(B,C))*Yr,g&&(P=E*(_=Math.cos(-g))+O*(v=Math.sin(-g)),I=w*_+R*v,A=B*_+C*v,O=E*-v+O*_,R=w*-v+R*_,C=B*-v+C*_,L=D*-v+L*_,E=P,w=I,B=A),c=(g=qr(-T,C))*Yr,g&&(_=Math.cos(-g),L=S*(v=Math.sin(-g))+L*_,x=P=x*_-O*v,b=I=b*_-R*v,T=A=T*_-C*v),u=(g=qr(b,x))*Yr,g&&(P=x*(_=Math.cos(g))+b*(v=Math.sin(g)),I=E*_+w*v,b=b*_-x*v,w=w*_-E*v,x=P,E=I),h&&Math.abs(h)+Math.abs(u)>359.9&&(h=u=0,c=180-c),s=Et(Math.sqrt(x*x+b*b+T*T)),a=Et(Math.sqrt(w*w+B*B)),g=qr(E,w),l=Math.abs(g)>2e-4?g*Yr:0,p=L?1/(L<0?-L:L):0),r.svg&&(P=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!Li(fi(t,li)),P&&t.setAttribute("transform",P))),Math.abs(l)>90&&Math.abs(l)<270&&(k?(s*=-1,l+=u<=0?180:-180,u+=u<=0?180:-180):(a*=-1,l+=l<=0?180:-180)),r.x=i-((r.xPercent=i&&(r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+U,r.y=n-((r.yPercent=n&&(r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+U,r.z=o+U,r.scaleX=Et(s),r.scaleY=Et(a),r.rotation=Et(u)+j,r.rotationX=Et(h)+j,r.rotationY=Et(c)+j,r.skewX=l+j,r.skewY=d+j,r.transformPerspective=p+U,(r.zOrigin=parseFloat(G.split(" ")[2])||0)&&(N[di]=Ui(G)),r.xOffset=r.yOffset=0,r.force3D=M.force3D,r.renderTransform=r.svg?Yi:Pr?Vi:Gi,r.uncache=0,r},Ui=function _firstTwoOnly(t){return(t=t.split(" "))[0]+" "+t[1]},ji=function _addPxTranslate(t,e,r){var i=ne(e);return Et(parseFloat(e)+parseFloat(wi(t,"x",r+"px",i)))+i},Gi=function _renderNon3DTransforms(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Vi(t,e)},Xi="0deg",Hi="0px",zi=") ",Vi=function _renderCSSTransforms(t,e){var r=e||this,i=r.xPercent,n=r.yPercent,o=r.x,s=r.y,a=r.z,u=r.rotation,h=r.rotationY,c=r.rotationX,l=r.skewX,d=r.skewY,p=r.scaleX,f=r.scaleY,m=r.transformPerspective,y=r.force3D,g=r.target,_=r.zOrigin,v="",x="auto"===y&&t&&1!==t||!0===y;if(_&&(c!==Xi||h!==Xi)){var b,T=parseFloat(h)*Wr,S=Math.sin(T),E=Math.cos(T);T=parseFloat(c)*Wr,b=Math.cos(T),o=ji(g,o,S*b*-_),s=ji(g,s,-Math.sin(T)*-_),a=ji(g,a,E*b*-_+_)}m!==Hi&&(v+="perspective("+m+zi),(i||n)&&(v+="translate("+i+"%, "+n+"%) "),(x||o!==Hi||s!==Hi||a!==Hi)&&(v+=a!==Hi||x?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+zi),u!==Xi&&(v+="rotate("+u+zi),h!==Xi&&(v+="rotateY("+h+zi),c!==Xi&&(v+="rotateX("+c+zi),l===Xi&&d===Xi||(v+="skew("+l+", "+d+zi),1===p&&1===f||(v+="scale("+p+", "+f+zi),g.style[li]=v||"translate(0, 0)"},Yi=function _renderSVGTransforms(t,e){var r,i,n,o,s,a=e||this,u=a.xPercent,h=a.yPercent,c=a.x,l=a.y,d=a.rotation,p=a.skewX,f=a.skewY,m=a.scaleX,y=a.scaleY,g=a.target,_=a.xOrigin,v=a.yOrigin,x=a.xOffset,b=a.yOffset,T=a.forceCSS,S=parseFloat(c),E=parseFloat(l);d=parseFloat(d),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),d+=f),d||p?(d*=Wr,p*=Wr,r=Math.cos(d)*m,i=Math.sin(d)*m,n=Math.sin(d-p)*-y,o=Math.cos(d-p)*y,p&&(f*=Wr,s=Math.tan(p-f),n*=s=Math.sqrt(1+s*s),o*=s,f&&(s=Math.tan(f),r*=s=Math.sqrt(1+s*s),i*=s)),r=Et(r),i=Et(i),n=Et(n),o=Et(o)):(r=m,o=y,i=n=0),(S&&!~(c+"").indexOf("px")||E&&!~(l+"").indexOf("px"))&&(S=wi(g,"x",c,"px"),E=wi(g,"y",l,"px")),(_||v||x||b)&&(S=Et(S+_-(_*r+v*n)+x),E=Et(E+v-(_*i+v*o)+b)),(u||h)&&(s=g.getBBox(),S=Et(S+u/100*s.width),E=Et(E+h/100*s.height)),s="matrix("+r+","+i+","+n+","+o+","+S+","+E+")",g.setAttribute("transform",s),T&&(g.style[li]=s)},Wi=function _addRotationalPropTween(t,e,r,i,n,o){var s,a,u=360,h=X(n),c=parseFloat(n)*(h&&~n.indexOf("rad")?Yr:1),l=o?c*o:c-i,d=i+l+"deg";return h&&("short"===(s=n.split("_")[1])&&(l%=u)!==l%180&&(l+=l<0?u:-360),"cw"===s&&l<0?l=(l+36e9)%u-~~(l/u)*u:"ccw"===s&&l>0&&(l=(l-36e9)%u-~~(l/u)*u)),t._pt=a=new fr(t._pt,e,r,i,l,ti),a.e=d,a.u="deg",t._props.push(r),a},qi=function _addRawTransformPTs(t,e,r){var i,n,o,s,a,u,h,c=Er.style,l=r._gsap;for(n in c.cssText=getComputedStyle(r).cssText+";position:absolute;display:block;",c[li]=e,xr.body.appendChild(Er),i=ki(Er,1),Vr)(o=l[n])!==(s=i[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(a=ne(o)!==(h=ne(s))?wi(r,n,o,h):parseFloat(o),u=parseFloat(s),t._pt=new fr(t._pt,l,n,a,u-a,$r),t._pt.u=h||0,t._props.push(n));xr.body.removeChild(Er)};St("padding,margin,Width,Radius",(function(t,e){var r="Top",i="Right",n="Bottom",o="Left",s=(e<3?[r,i,n,o]:[r+o,r+i,n+i,n+o]).map((function(r){return e<2?t+r:"border"+r+t}));Mi[e>1?"border"+t:t]=function(t,e,r,i,n){var o,a;if(arguments.length<4)return o=s.map((function(e){return Pi(t,e,r)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(i+"").split(" "),a={},s.forEach((function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,a,n)}}));var Zi,Ki,Qi,Ji={name:"css",register:gi,targetTest:function targetTest(t){return t.style&&t.nodeType},init:function init(t,e,r,i,n){var o,s,a,u,h,c,l,d,p,f,m,y,g,_,v,x=this._props,b=t.style,T=r.vars.startAt;for(l in Tr||gi(),e)if("autoRound"!==l&&(s=e[l],!mt[l]||!Ze(l,e,r,i,t,n)))if(h=typeof s,c=Mi[l],"function"===h&&(h=typeof(s=s.call(r,i,t,n))),"string"===h&&~s.indexOf("random(")&&(s=me(s)),c)c(this,t,l,s,r)&&(v=1);else if("--"===l.substr(0,2))o=(getComputedStyle(t).getPropertyValue(l)+"").trim(),s+="",d=ne(o),(p=ne(s))?d!==p&&(o=wi(t,l,o,p)+p):d&&(s+=d),this.add(b,"setProperty",o,s,i,n,0,0,l);else if("undefined"!==h){if(T&&l in T?(o="function"==typeof T[l]?T[l].call(r,i,t,n):T[l],l in M.units&&!ne(o)&&(o+=M.units[l]),"="===(o+"").charAt(1)&&(o=Pi(t,l))):o=Pi(t,l),u=parseFloat(o),(f="string"===h&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),a=parseFloat(s),l in Jr&&("autoAlpha"===l&&(1===u&&"hidden"===Pi(t,"visibility")&&a&&(u=0),Si(this,b,"visibility",u?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==l&&"transform"!==l&&~(l=Jr[l]).indexOf(",")&&(l=l.split(",")[0])),m=l in Vr)if(y||((g=t._gsap).renderTransform&&!e.parseTransform||ki(t,e.parseTransform),_=!1!==e.smoothOrigin&&g.smooth,(y=this._pt=new fr(this._pt,b,li,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===l)this._pt=new fr(this._pt,g,"scaleY",g.scaleY,f?f*a:a-g.scaleY),x.push("scaleY",l),l+="X";else{if("transformOrigin"===l){s=Oi(s),g.svg?Ni(t,s,0,_,0,this):((p=parseFloat(s.split(" ")[2])||0)!==g.zOrigin&&Si(this,g,"zOrigin",g.zOrigin,p),Si(this,b,l,Ui(o),Ui(s)));continue}if("svgOrigin"===l){Ni(t,s,1,_,0,this);continue}if(l in Di){Wi(this,g,l,u,s,f);continue}if("smoothOrigin"===l){Si(this,g,"smooth",g.smooth,s);continue}if("force3D"===l){g[l]=s;continue}if("transform"===l){qi(this,s,t);continue}}else l in b||(l=yi(l)||l);if(m||(a||0===a)&&(u||0===u)&&!Qr.test(s)&&l in b)a||(a=0),(d=(o+"").substr((u+"").length))!==(p=ne(s)||(l in M.units?M.units[l]:d))&&(u=wi(t,l,o,p)),this._pt=new fr(this._pt,m?g:b,l,u,f?f*a:a-u,m||"px"!==p&&"zIndex"!==l||!1===e.autoRound?$r:ri),this._pt.u=p||0,d!==p&&(this._pt.b=o,this._pt.r=ei);else if(l in b)Ii.call(this,t,l,o,s);else{if(!(l in t)){ut(l,s);continue}this.add(t,l,t[l],s,i,n)}x.push(l)}v&&pr(this)},get:Pi,aliases:Jr,getSetter:function getSetter(t,e,r){var i=Jr[e];return i&&i.indexOf(",")<0&&(e=i),e in Vr&&e!==di&&(t._gsap.x||Pi(t,"x"))?r&&wr===r?"scale"===e?ui:ai:(wr=r||{})&&("scale"===e?hi:ci):t.style&&!V(t.style[e])?oi:~e.indexOf("-")?si:or(t,e)},core:{_removeProperty:Ti,_getMatrix:Bi}};_r.utils.checkPrefix=yi,Qi=St((Zi="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(Ki="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Vr[t]=1})),St(Ki,(function(t){M.units[t]="deg",Di[t]=1})),Jr[Qi[13]]=Zi+","+Ki,St("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Jr[e[1]]=Qi[e[0]]})),St("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){M.units[t]="px"})),_r.registerPlugin(Ji);var $i=_r.registerPlugin(Ji)||_r,tn=$i.core.Tween},function(t,e,r){"use strict";var i=r(103),n=r(105);function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=urlParse,e.resolve=function urlResolve(t,e){return urlParse(t,!1,!0).resolve(e)},e.resolveObject=function urlResolveObject(t,e){return t?urlParse(t,!1,!0).resolveObject(e):e},e.format=function urlFormat(t){n.isString(t)&&(t=urlParse(t));return t instanceof Url?t.format():Url.prototype.format.call(t)},e.Url=Url;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(u),c=["%","/","?",";","#"].concat(h),l=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(106);function urlParse(t,e,r){if(t&&n.isObject(t)&&t instanceof Url)return t;var i=new Url;return i.parse(t,e,r),i}Url.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),u=-1!==s&&s<t.indexOf("#")?"?":"#",_=t.split(u);_[0]=_[0].replace(/\\/g,"/");var v=t=_.join(u);if(v=v.trim(),!r&&1===t.split("#").length){var x=a.exec(v);if(x)return this.path=v,this.href=v,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=o.exec(v);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,v=v.substr(b.length)}if(r||b||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===v.substr(0,2);!S||b&&m[b]||(v=v.substr(2),this.slashes=!0)}if(!m[b]&&(S||b&&!y[b])){for(var E,w,P=-1,I=0;I<l.length;I++){-1!==(A=v.indexOf(l[I]))&&(-1===P||A<P)&&(P=A)}-1!==(w=-1===P?v.lastIndexOf("@"):v.lastIndexOf("@",P))&&(E=v.slice(0,w),v=v.slice(w+1),this.auth=decodeURIComponent(E)),P=-1;for(I=0;I<c.length;I++){var A;-1!==(A=v.indexOf(c[I]))&&(-1===P||A<P)&&(P=A)}-1===P&&(P=v.length),this.host=v.slice(0,P),v=v.slice(P),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var R=this.hostname.split(/\./),M=(I=0,R.length);I<M;I++){var C=R[I];if(C&&!C.match(d)){for(var D="",L=0,B=C.length;L<B;L++)C.charCodeAt(L)>127?D+="x":D+=C[L];if(!D.match(d)){var N=R.slice(0,I),k=R.slice(I+1),U=C.match(p);U&&(N.push(U[1]),k.unshift(U[2])),k.length&&(v="/"+k.join(".")+v),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname));var j=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+j,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!f[T])for(I=0,M=h.length;I<M;I++){var X=h[I];if(-1!==v.indexOf(X)){var H=encodeURIComponent(X);H===X&&(H=escape(X)),v=v.split(X).join(H)}}var z=v.indexOf("#");-1!==z&&(this.hash=v.substr(z),v=v.slice(0,z));var V=v.indexOf("?");if(-1!==V?(this.search=v.substr(V),this.query=v.substr(V+1),e&&(this.query=g.parse(this.query)),v=v.slice(0,V)):e&&(this.search="",this.query={}),v&&(this.pathname=v),y[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var Y=this.search||"";this.path=j+Y}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(n.isString(t)){var e=new Url;e.parse(t,!1,!0),t=e}for(var r=new Url,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var h=a[u];"protocol"!==h&&(r[h]=t[h])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),l=0;l<c.length;l++){var d=c[l];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",g=r.search||"";r.path=f+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=v||_||r.host&&t.pathname,b=x,T=r.pathname&&r.pathname.split("/")||[],S=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===T[0]?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===T[0])),v)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(S)r.hostname=r.host=T.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift());return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=T.slice(-1)[0],w=(r.host||t.host||T.length>1)&&("."===E||".."===E)||""===E,P=0,I=T.length;I>=0;I--)"."===(E=T[I])?T.splice(I,1):".."===E?(T.splice(I,1),P++):P&&(T.splice(I,1),P--);if(!x&&!b)for(;P--;P)T.unshift("..");!x||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),w&&"/"!==T.join("/").substr(-1)&&T.push("");var A,O=""===T[0]||T[0]&&"/"===T[0].charAt(0);S&&(r.hostname=r.host=O?"":T.length?T.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift()));return(x=x||r.host&&T.length)&&!O&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Url.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){var i={};i[r(0)("toStringTag")]="z",t.exports="[object z]"===String(i)},function(t,e,r){var i=r(30),n=r(61);(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){var i=r(1),n=r(20);t.exports=function(t,e){try{n(i,t,e)}catch(r){i[t]=e}return e}},function(t,e){var r=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+i).toString(36)}},function(t,e,r){var i=r(3);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var i=r(13),n=r(67),o=r(23),s=r(21),a=r(31),u=r(2),h=r(62),c=Object.getOwnPropertyDescriptor;e.f=i?c:function getOwnPropertyDescriptor(t,e){if(t=s(t),e=a(e,!0),h)try{return c(t,e)}catch(t){}if(u(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,r){var i=r(71),n=r(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return i(t,n)}},function(t,e,r){var i=r(35),n=Math.max,o=Math.min;t.exports=function(t,e){var r=i(t);return r<0?n(r+e,0):o(r,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},,function(t,e,r){var i=r(45);t.exports=Array.isArray||function isArray(t){return"Array"==i(t)}},function(t,e,r){var i=r(6).f,n=r(2),o=r(0)("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,r){var i=r(3),n=r(0),o=r(115),s=n("species");t.exports=function(t){return o>=51||!i((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,r){"use strict";var i=r(31),n=r(6),o=r(23);t.exports=function(t,e,r){var s=i(e);s in t?n.f(t,s,o(0,r)):t[s]=r}},function(t,e,r){var i=r(137);function _get(e,r,n){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=_get=Reflect.get:t.exports=_get=function _get(t,e,r){var n=i(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}},_get(e,r,n||e)}t.exports=_get},,function(t,e,r){"use strict";t.exports=function parseURI(t,e){if(t){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}}},function(t,e,r){var i=r(1),n=r(42),o="__core-js_shared__",s=i[o]||n(o,{});t.exports=s},function(t,e,r){var i=r(13),n=r(3),o=r(63);t.exports=!i&&!n((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var i=r(1),n=r(4),o=i.document,s=n(o)&&n(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,r){var i=r(44);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var i=r(61),n=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return n.call(t)}),t.exports=i.inspectSource},function(t,e,r){var i=r(40),n=r(45),o=r(0)("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=i?n:function(t){var e,r,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:s?n(e):"Object"==(i=n(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e,r){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!i.call({1:2},1);e.f=o?function propertyIsEnumerable(t){var e=n(this,t);return!!e&&e.enumerable}:i},function(t,e,r){var i=r(3),n=r(45),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?o.call(t,""):Object(t)}:Object},function(t,e,r){var i=r(2),n=r(91),o=r(46),s=r(6);t.exports=function(t,e){for(var r=n(e),a=s.f,u=o.f,h=0;h<r.length;h++){var c=r[h];i(t,c)||a(t,c,u(e,c))}}},function(t,e,r){var i=r(1);t.exports=i},function(t,e,r){var i=r(2),n=r(21),o=r(72).indexOf,s=r(34);t.exports=function(t,e){var r,a=n(t),u=0,h=[];for(r in a)!i(s,r)&&i(a,r)&&h.push(r);for(;e.length>u;)i(a,r=e[u++])&&(~o(h,r)||h.push(r));return h}},function(t,e,r){var i=r(21),n=r(26),o=r(49),createMethod=function(t){return function(e,r,s){var a,u=i(e),h=n(u.length),c=o(s,h);if(t&&r!=r){for(;h>c;)if((a=u[c++])!=a)return!0}else for(;h>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}};t.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var i=r(71),n=r(50);t.exports=Object.keys||function keys(t){return i(t,n)}},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function Events(){}function EE(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function addListener(t,e,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new EE(r,i||t,o),a=n?n+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function clearEvent(t,e){0==--t._eventsCount?t._events=new Events:delete t._events[e]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(n=!1)),EventEmitter.prototype.eventNames=function eventNames(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},EventEmitter.prototype.listeners=function listeners(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},EventEmitter.prototype.listenerCount=function listenerCount(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},EventEmitter.prototype.emit=function emit(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,h,c=this._events[a],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,o),!0;case 6:return c.fn.call(c.context,e,r,i,o,s),!0}for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];c.fn.apply(c.context,u)}else{var d,p=c.length;for(h=0;h<p;h++)switch(c[h].once&&this.removeListener(t,c[h].fn,void 0,!0),l){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,e);break;case 3:c[h].fn.call(c[h].context,e,r);break;case 4:c[h].fn.call(c[h].context,e,r,i);break;default:if(!u)for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c[h].fn.apply(c[h].context,u)}}return!0},EventEmitter.prototype.on=function on(t,e,r){return addListener(this,t,e,r,!1)},EventEmitter.prototype.once=function once(t,e,r){return addListener(this,t,e,r,!0)},EventEmitter.prototype.removeListener=function removeListener(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return clearEvent(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||clearEvent(this,o);else{for(var a=0,u=[],h=s.length;a<h;a++)(s[a].fn!==e||i&&!s[a].once||r&&s[a].context!==r)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:clearEvent(this,o)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var e;return t?(e=n?n+t:t,this._events[e]&&clearEvent(this,e)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=n,EventEmitter.EventEmitter=EventEmitter,t.exports=EventEmitter},function(t,e,r){"use strict";function earcut(t,e,r){r=r||2;var i,n,o,s,a,u,h,c=e&&e.length,l=c?e[0]*r:t.length,d=linkedList(t,0,l,r,!0),p=[];if(!d||d.next===d.prev)return p;if(c&&(d=function eliminateHoles(t,e,r,i){var n,o,s,a=[];for(n=0,o=e.length;n<o;n++)(s=linkedList(t,e[n]*i,n<o-1?e[n+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),a.push(getLeftmost(s));for(a.sort(compareX),n=0;n<a.length;n++)eliminateHole(a[n],r),r=filterPoints(r,r.next);return r}(t,e,d,r)),t.length>80*r){i=o=t[0],n=s=t[1];for(var f=r;f<l;f+=r)(a=t[f])<i&&(i=a),(u=t[f+1])<n&&(n=u),a>o&&(o=a),u>s&&(s=u);h=0!==(h=Math.max(o-i,s-n))?1/h:0}return earcutLinked(d,p,r,i,n,h),p}function linkedList(t,e,r,i,n){var o,s;if(n===signedArea(t,e,r,i)>0)for(o=e;o<r;o+=i)s=insertNode(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=insertNode(o,t[o],t[o+1],s);return s&&equals(s,s.next)&&(removeNode(s),s=s.next),s}function filterPoints(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!equals(i,i.next)&&0!==area(i.prev,i,i.next))i=i.next;else{if(removeNode(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function earcutLinked(t,e,r,i,n,o,s){if(t){!s&&o&&function indexCurve(t,e,r,i){var n=t;do{null===n.z&&(n.z=zOrder(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function sortLinked(t){var e,r,i,n,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<h&&(a++,i=i.nextZ);e++);for(u=h;a>0||u>0&&i;)0!==a&&(0===u||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,u--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,h*=2}while(s>1);return t}(n)}(t,i,n,o);for(var a,u,h=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?isEarHashed(t,i,n,o):isEar(t))e.push(a.i/r),e.push(t.i/r),e.push(u.i/r),removeNode(t),t=u.next,h=u.next;else if((t=u)===h){s?1===s?earcutLinked(t=cureLocalIntersections(filterPoints(t),e,r),e,r,i,n,o,2):2===s&&splitEarcut(t,e,r,i,n,o):earcutLinked(filterPoints(t),e,r,i,n,o,1);break}}}function isEar(t){var e=t.prev,r=t,i=t.next;if(area(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(pointInTriangle(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function isEarHashed(t,e,r,i){var n=t.prev,o=t,s=t.next;if(area(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,u=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,h=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,c=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,l=zOrder(a,u,e,r,i),d=zOrder(h,c,e,r,i),p=t.prevZ,f=t.nextZ;p&&p.z>=l&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&pointInTriangle(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&pointInTriangle(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&area(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&pointInTriangle(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&pointInTriangle(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&area(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function cureLocalIntersections(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!equals(n,o)&&intersects(n,i,i.next,o)&&locallyInside(n,o)&&locallyInside(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),removeNode(i),removeNode(i.next),i=t=o),i=i.next}while(i!==t);return filterPoints(i)}function splitEarcut(t,e,r,i,n,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&isValidDiagonal(s,a)){var u=splitPolygon(s,a);return s=filterPoints(s,s.next),u=filterPoints(u,u.next),earcutLinked(s,e,r,i,n,o),void earcutLinked(u,e,r,i,n,o)}a=a.next}s=s.next}while(s!==t)}function compareX(t,e){return t.x-e.x}function eliminateHole(t,e){if(e=function findHoleBridge(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var u,h=r,c=r.x,l=r.y,d=1/0;i=r;do{n>=i.x&&i.x>=c&&n!==i.x&&pointInTriangle(o<l?n:s,o,c,l,o<l?s:n,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(n-i.x),locallyInside(i,t)&&(u<d||u===d&&(i.x>r.x||i.x===r.x&&sectorContainsSector(r,i)))&&(r=i,d=u)),i=i.next}while(i!==h);return r}(t,e)){var r=splitPolygon(e,t);filterPoints(e,e.next),filterPoints(r,r.next)}}function sectorContainsSector(t,e){return area(t.prev,t,e.prev)<0&&area(e.next,t,t.next)<0}function zOrder(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function getLeftmost(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function pointInTriangle(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function intersectsPolygon(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&intersects(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(locallyInside(t,e)&&locallyInside(e,t)&&function middleInside(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(area(t.prev,t,e.prev)||area(t,e.prev,e))||equals(t,e)&&area(t.prev,t,t.next)>0&&area(e.prev,e,e.next)>0)}function area(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function equals(t,e){return t.x===e.x&&t.y===e.y}function intersects(t,e,r,i){var n=sign(area(t,e,r)),o=sign(area(t,e,i)),s=sign(area(r,i,t)),a=sign(area(r,i,e));return n!==o&&s!==a||(!(0!==n||!onSegment(t,r,e))||(!(0!==o||!onSegment(t,i,e))||(!(0!==s||!onSegment(r,t,i))||!(0!==a||!onSegment(r,e,i)))))}function onSegment(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function sign(t){return t>0?1:t<0?-1:0}function locallyInside(t,e){return area(t.prev,t,t.next)<0?area(t,e,t.next)>=0&&area(t,t.prev,e)>=0:area(t,e,t.prev)<0||area(t,t.next,e)<0}function splitPolygon(t,e){var r=new Node(t.i,t.x,t.y),i=new Node(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function insertNode(t,e,r,i){var n=new Node(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function removeNode(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Node(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=earcut,t.exports.default=earcut,earcut.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(signedArea(t,0,o,r));if(n)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,c=a<u-1?e[a+1]*r:t.length;s-=Math.abs(signedArea(t,h,c,r))}var l=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;l+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},earcut.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},,function(t,e,r){var i=r(0);e.f=i},function(t,e,r){var i=r(70),n=r(2),o=r(78),s=r(6).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});n(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,r){var i=r(81),n=r(68),o=r(27),s=r(26),a=r(82),u=[].push,createMethod=function(t){var e=1==t,r=2==t,h=3==t,c=4==t,l=6==t,d=5==t||l;return function(p,f,m,y){for(var g,_,v=o(p),x=n(v),b=i(f,m,3),T=s(x.length),S=0,E=y||a,w=e?E(p,T):r?E(p,0):void 0;T>S;S++)if((d||S in x)&&(_=b(g=x[S],S,v),t))if(e)w[S]=_;else if(_)switch(t){case 3:return!0;case 5:return g;case 6:return S;case 2:u.call(w,g)}else if(c)return!1;return l?-1:h||c?c:w}};t.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},function(t,e,r){var i=r(51);t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var i=r(4),n=r(54),o=r(0)("species");t.exports=function(t,e){var r;return n(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!n(r.prototype)?i(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},function(t,e,r){"use strict";var i=r(21),n=r(125),o=r(28),s=r(32),a=r(84),u="Array Iterator",h=s.set,c=s.getterFor(u);t.exports=a(Array,"Array",(function(t,e){h(this,{type:u,target:i(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,r=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e,r){"use strict";var i=r(15),n=r(126),o=r(86),s=r(128),a=r(55),u=r(20),h=r(24),c=r(0),l=r(30),d=r(28),p=r(85),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,y=c("iterator"),g="keys",_="values",v="entries",returnThis=function(){return this};t.exports=function(t,e,r,c,p,x,b){n(r,e,c);var T,S,E,getIterationMethod=function(t){if(t===p&&O)return O;if(!m&&t in I)return I[t];switch(t){case g:return function keys(){return new r(this,t)};case _:return function values(){return new r(this,t)};case v:return function entries(){return new r(this,t)}}return function(){return new r(this)}},w=e+" Iterator",P=!1,I=t.prototype,A=I[y]||I["@@iterator"]||p&&I[p],O=!m&&A||getIterationMethod(p),R="Array"==e&&I.entries||A;if(R&&(T=o(R.call(new t)),f!==Object.prototype&&T.next&&(l||o(T)===f||(s?s(T,f):"function"!=typeof T[y]&&u(T,y,returnThis)),a(T,w,!0,!0),l&&(d[w]=returnThis))),p==_&&A&&A.name!==_&&(P=!0,O=function values(){return A.call(this)}),l&&!b||I[y]===O||u(I,y,O),d[e]=O,p)if(S={values:getIterationMethod(_),keys:x?O:getIterationMethod(g),entries:getIterationMethod(v)},b)for(E in S)(m||P||!(E in I))&&h(I,E,S[E]);else i({target:e,proto:!0,forced:m||P},S);return S}},function(t,e,r){"use strict";var i,n,o,s=r(86),a=r(20),u=r(2),h=r(0),c=r(30),l=h("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(n=s(s(o)))!==Object.prototype&&(i=n):d=!0),null==i&&(i={}),c||u(i,l)||a(i,l,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},function(t,e,r){var i=r(2),n=r(27),o=r(33),s=r(127),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=n(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,r){(function(i,n){var o;!function(i){var s=i.Promise,a=s&&"resolve"in s&&"reject"in s&&"all"in s&&"race"in s&&function(){var t;return new s((function(e){t=e})),"function"==typeof t}();e?(e.Promise=a?s:Promise,e.Polyfill=Promise):void 0===(o=function(){return a?s:Promise}.call(e,r,e,t))||(t.exports=o);var u="pending",h="sealed",c="fulfilled",l="rejected",NOOP=function(){};function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}var d,p=void 0!==n?n:setTimeout,f=[];function asyncFlush(){for(var t=0;t<f.length;t++)f[t][0](f[t][1]);f=[],d=!1}function asyncCall(t,e){f.push([t,e]),d||(d=!0,p(asyncFlush,0))}function invokeCallback(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r=c;try{i=n(i)}catch(t){reject(o,t)}}handleThenable(o,i)||(r===c&&resolve(o,i),r===l&&reject(o,i))}function handleThenable(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,(function(i){r||(r=!0,e!==i?resolve(t,i):fulfill(t,i))}),(function(e){r||(r=!0,reject(t,e))})),!0}}catch(e){return r||reject(t,e),!0}return!1}function resolve(t,e){t!==e&&handleThenable(t,e)||fulfill(t,e)}function fulfill(t,e){t.state_===u&&(t.state_=h,t.data_=e,asyncCall(publishFulfillment,t))}function reject(t,e){t.state_===u&&(t.state_=h,t.data_=e,asyncCall(publishRejection,t))}function publish(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)invokeCallback(e[r])}function publishFulfillment(t){t.state_=c,publish(t)}function publishRejection(t){t.state_=l,publish(t)}function Promise(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof Promise==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function invokeResolver(t,e){function rejectPromise(t){reject(e,t)}try{t((function resolvePromise(t){resolve(e,t)}),rejectPromise)}catch(t){rejectPromise(t)}}(t,this)}Promise.prototype={constructor:Promise,state_:u,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(NOOP),fulfilled:t,rejected:e};return this.state_===c||this.state_===l?asyncCall(invokeCallback,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},Promise.all=function(t){if(!isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var i=[],n=0;function resolver(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var o,s=0;s<t.length;s++)(o=t[s])&&"function"==typeof o.then?o.then(resolver(s),r):i[s]=o;n||e(i)}))},Promise.race=function(t){if(!isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)}))},Promise.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},Promise.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this)}).call(this,r(22),r(100).setImmediate)},function(t,e,r){"use strict";var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function toObject(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=toObject(t),u=1;u<arguments.length;u++){for(var h in r=Object(arguments[u]))n.call(r,h)&&(a[h]=r[h]);if(i){s=i(r);for(var c=0;c<s.length;c++)o.call(r,s[c])&&(a[s[c]]=r[s[c]])}}return a}},function(t,e,r){var i=r(1),n=r(65),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(n(o))},function(t,e,r){"use strict";var i=r(40),n=r(66);t.exports=i?{}.toString:function toString(){return"[object "+n(this)+"]"}},function(t,e,r){var i=r(25),n=r(48),o=r(73),s=r(7);t.exports=i("Reflect","ownKeys")||function ownKeys(t){var e=n.f(s(t)),r=o.f;return r?e.concat(r(t)):e}},function(t,e,r){var i=r(3),n=/#|\.prototype\./,isForced=function(t,e){var r=s[o(t)];return r==u||r!=a&&("function"==typeof e?i(e):!!e)},o=isForced.normalize=function(t){return String(t).replace(n,".").toLowerCase()},s=isForced.data={},a=isForced.NATIVE="N",u=isForced.POLYFILL="P";t.exports=isForced},function(t,e,r){var i=r(13),n=r(6),o=r(7),s=r(74);t.exports=i?Object.defineProperties:function defineProperties(t,e){o(t);for(var r,i=s(e),a=i.length,u=0;a>u;)n.f(t,r=i[u++],e[r]);return t}},function(t,e,r){var i=r(25);t.exports=i("document","documentElement")},function(t,e,r){"use strict";var i=r(51),n=r(4),o=[].slice,s={},construct=function(t,e,r){if(!(e in s)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";s[e]=Function("C,a","return new C("+i.join(",")+")")}return s[e](t,r)};t.exports=Function.bind||function bind(t){var e=i(this),r=o.call(arguments,1),s=function bound(){var i=r.concat(o.call(arguments));return this instanceof s?construct(e,i.length,i):e.apply(t,i)};return n(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,r){"use strict";var i=r(7);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){function _setPrototypeOf(e,r){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,r)}t.exports=_setPrototypeOf},function(t,e){function _typeof(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=_typeof=function _typeof(t){return typeof t}:t.exports=_typeof=function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}t.exports=_typeof},,function(t,e,r){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function Timeout(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new Timeout(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new Timeout(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function onTimeout(){t._onTimeout&&t._onTimeout()}),e))},r(101),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(22))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?function installNextTickImplementation(){i=function(t){e.nextTick((function(){runIfPresent(t)}))}}():!function canUsePostMessage(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?function installMessageChannelImplementation(){var t=new MessageChannel;t.port1.onmessage=function(t){runIfPresent(t.data)},i=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function installReadyStateChangeImplementation(){var t=a.documentElement;i=function(e){var r=a.createElement("script");r.onreadystatechange=function(){runIfPresent(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():function installSetTimeoutImplementation(){i=function(t){setTimeout(runIfPresent,0,t)}}():function installPostMessageImplementation(){var e="setImmediate$"+Math.random()+"$",onGlobalMessage=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&runIfPresent(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",onGlobalMessage,!1):t.attachEvent("onmessage",onGlobalMessage),i=function(r){t.postMessage(e+r,"*")}}(),u.setImmediate=function setImmediate(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var s={callback:t,args:e};return o[n]=s,i(n),n++},u.clearImmediate=clearImmediate}function clearImmediate(t){delete o[t]}function runIfPresent(t){if(s)setTimeout(runIfPresent,0,t);else{var e=o[t];if(e){s=!0;try{!function run(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{clearImmediate(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(22),r(102))},function(t,e){var r,i,n=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(r===setTimeout)return setTimeout(t,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){r=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){i=defaultClearTimeout}}();var o,s=[],a=!1,u=-1;function cleanUpNextTick(){a&&o&&(a=!1,o.length?s=o.concat(s):u=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var t=runTimeout(cleanUpNextTick);a=!0;for(var e=s.length;e;){for(o=s,s=[];++u<e;)o&&o[u].run();u=-1,e=s.length}o=null,a=!1,function runClearTimeout(t){if(i===clearTimeout)return clearTimeout(t);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new Item(t,e)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){(function(t,i){var n;!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,h=36,c=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function error(t){throw RangeError(p[t])}function map(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function mapDomain(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+map((t=t.replace(d,".")).split("."),e).join(".")}function ucs2decode(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function ucs2encode(t){return map(t,(function(t){var e="";return t>65535&&(e+=m((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=m(t)})).join("")}function digitToBasic(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function adapt(t,e,r){var i=0;for(t=r?f(t/700):t>>1,t+=f(t/e);t>455;i+=h)t=f(t/35);return f(i+36*t/(t+38))}function decode(t){var e,r,i,n,o,s,a,c,l,d,p,m=[],y=t.length,g=0,_=128,v=72;for((r=t.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&error("not-basic"),m.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<y;){for(o=g,s=1,a=h;n>=y&&error("invalid-input"),((c=(p=t.charCodeAt(n++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:h)>=h||c>f((u-g)/s))&&error("overflow"),g+=c*s,!(c<(l=a<=v?1:a>=v+26?26:a-v));a+=h)s>f(u/(d=h-l))&&error("overflow"),s*=d;v=adapt(g-o,e=m.length+1,0==o),f(g/e)>u-_&&error("overflow"),_+=f(g/e),g%=e,m.splice(g++,0,_)}return ucs2encode(m)}function encode(t){var e,r,i,n,o,s,a,c,l,d,p,y,g,_,v,x=[];for(y=(t=ucs2decode(t)).length,e=128,r=0,o=72,s=0;s<y;++s)(p=t[s])<128&&x.push(m(p));for(i=n=x.length,n&&x.push("-");i<y;){for(a=u,s=0;s<y;++s)(p=t[s])>=e&&p<a&&(a=p);for(a-e>f((u-r)/(g=i+1))&&error("overflow"),r+=(a-e)*g,e=a,s=0;s<y;++s)if((p=t[s])<e&&++r>u&&error("overflow"),p==e){for(c=r,l=h;!(c<(d=l<=o?1:l>=o+26?26:l-o));l+=h)v=c-d,_=h-d,x.push(m(digitToBasic(d+v%_,0))),c=f(v/_);x.push(m(digitToBasic(c,0))),o=adapt(r,g,i==n),r=0,++i}++r,++e}return x.join("")}a={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(t){return mapDomain(t,(function(t){return l.test(t)?"xn--"+encode(t):t}))},toUnicode:function toUnicode(t){return mapDomain(t,(function(t){return c.test(t)?decode(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(104)(t),r(22))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(107),e.encode=e.stringify=r(108)},function(t,e,r){"use strict";function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var u=t.length;a>0&&u>a&&(u=a);for(var h=0;h<u;++h){var c,l,d,p,f=t[h].replace(s,"%20"),m=f.indexOf(r);m>=0?(c=f.substr(0,m),l=f.substr(m+1)):(c=f,l=""),d=decodeURIComponent(c),p=decodeURIComponent(l),hasOwnProperty(o,d)?i(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var stringifyPrimitive=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,o){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?map(n(t),(function(n){var o=encodeURIComponent(stringifyPrimitive(n))+r;return i(t[n])?map(t[n],(function(t){return o+encodeURIComponent(stringifyPrimitive(t))})).join(e):o+encodeURIComponent(stringifyPrimitive(t[n]))})).join(e):o?encodeURIComponent(stringifyPrimitive(o))+r+encodeURIComponent(stringifyPrimitive(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function map(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var n=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},,function(t,e,r){"use strict";var i=r(15),n=r(1),o=r(25),s=r(30),a=r(13),u=r(44),h=r(64),c=r(3),l=r(2),d=r(54),p=r(4),f=r(7),m=r(27),y=r(21),g=r(31),_=r(23),v=r(36),x=r(74),b=r(48),T=r(111),S=r(73),E=r(46),w=r(6),P=r(67),I=r(20),A=r(24),O=r(41),R=r(33),M=r(34),C=r(43),D=r(0),L=r(78),B=r(79),N=r(55),k=r(32),U=r(80).forEach,j=R("hidden"),G="Symbol",X=D("toPrimitive"),H=k.set,z=k.getterFor(G),V=Object.prototype,Y=n.Symbol,W=o("JSON","stringify"),q=E.f,Z=w.f,K=T.f,Q=P.f,J=O("symbols"),$=O("op-symbols"),tt=O("string-to-symbol-registry"),et=O("symbol-to-string-registry"),rt=O("wks"),it=n.QObject,nt=!it||!it.prototype||!it.prototype.findChild,ot=a&&c((function(){return 7!=v(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(t,e,r){var i=q(V,e);i&&delete V[e],Z(t,e,r),i&&t!==V&&Z(V,e,i)}:Z,wrap=function(t,e){var r=J[t]=v(Y.prototype);return H(r,{type:G,tag:t,description:e}),a||(r.description=e),r},st=h?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Y},at=function defineProperty(t,e,r){t===V&&at($,e,r),f(t);var i=g(e,!0);return f(r),l(J,i)?(r.enumerable?(l(t,j)&&t[j][i]&&(t[j][i]=!1),r=v(r,{enumerable:_(0,!1)})):(l(t,j)||Z(t,j,_(1,{})),t[j][i]=!0),ot(t,i,r)):Z(t,i,r)},ut=function defineProperties(t,e){f(t);var r=y(e),i=x(r).concat(dt(r));return U(i,(function(e){a&&!ht.call(r,e)||at(t,e,r[e])})),t},ht=function propertyIsEnumerable(t){var e=g(t,!0),r=Q.call(this,e);return!(this===V&&l(J,e)&&!l($,e))&&(!(r||!l(this,e)||!l(J,e)||l(this,j)&&this[j][e])||r)},ct=function getOwnPropertyDescriptor(t,e){var r=y(t),i=g(e,!0);if(r!==V||!l(J,i)||l($,i)){var n=q(r,i);return!n||!l(J,i)||l(r,j)&&r[j][i]||(n.enumerable=!0),n}},lt=function getOwnPropertyNames(t){var e=K(y(t)),r=[];return U(e,(function(t){l(J,t)||l(M,t)||r.push(t)})),r},dt=function getOwnPropertySymbols(t){var e=t===V,r=K(e?$:y(t)),i=[];return U(r,(function(t){!l(J,t)||e&&!l(V,t)||i.push(J[t])})),i};(u||(A((Y=function Symbol(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=C(t),setter=function(t){this===V&&setter.call($,t),l(this,j)&&l(this[j],e)&&(this[j][e]=!1),ot(this,e,_(1,t))};return a&&nt&&ot(V,e,{configurable:!0,set:setter}),wrap(e,t)}).prototype,"toString",(function toString(){return z(this).tag})),A(Y,"withoutSetter",(function(t){return wrap(C(t),t)})),P.f=ht,w.f=at,E.f=ct,b.f=T.f=lt,S.f=dt,L.f=function(t){return wrap(D(t),t)},a&&(Z(Y.prototype,"description",{configurable:!0,get:function description(){return z(this).description}}),s||A(V,"propertyIsEnumerable",ht,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),U(x(rt),(function(t){B(t)})),i({target:G,stat:!0,forced:!u},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var r=Y(e);return tt[e]=r,et[r]=e,r},keyFor:function keyFor(t){if(!st(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!a},{create:function create(t,e){return void 0===e?v(t):ut(v(t),e)},defineProperty:at,defineProperties:ut,getOwnPropertyDescriptor:ct}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:dt}),i({target:"Object",stat:!0,forced:c((function(){S.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(t){return S.f(m(t))}}),W)&&i({target:"JSON",stat:!0,forced:!u||c((function(){var t=Y();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function stringify(t,e,r){for(var i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e,(p(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!st(e))return e}),n[1]=e,W.apply(null,n)}});Y.prototype[X]||I(Y.prototype,X,Y.prototype.valueOf),N(Y,G),M[j]=!0},function(t,e,r){var i=r(21),n=r(48).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function getOwnPropertyNames(t){return s&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return s.slice()}}(t):n(i(t))}},function(t,e,r){"use strict";var i=r(15),n=r(13),o=r(1),s=r(2),a=r(4),u=r(6).f,h=r(69),c=o.Symbol;if(n&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var l={},d=function Symbol(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new c(t):void 0===t?c():c(t);return""===t&&(l[e]=!0),e};h(d,c);var p=d.prototype=c.prototype;p.constructor=d;var f=p.toString,m="Symbol(test)"==String(c("test")),y=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function description(){var t=a(this)?this.valueOf():this,e=f.call(t);if(s(l,t))return"";var r=m?e.slice(7,-1):e.replace(y,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:d})}},function(t,e,r){r(79)("iterator")},function(t,e,r){"use strict";var i=r(15),n=r(80).filter,o=r(56),s=r(37),a=o("filter"),u=s("filter");i({target:"Array",proto:!0,forced:!a||!u},{filter:function filter(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var i,n,o=r(1),s=r(116),a=o.process,u=a&&a.versions,h=u&&u.v8;h?n=(i=h.split("."))[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(n=i[1]),t.exports=n&&+n},function(t,e,r){var i=r(25);t.exports=i("navigator","userAgent")||""},function(t,e,r){var i=r(15),n=r(118);i({target:"Array",stat:!0,forced:!r(122)((function(t){Array.from(t)}))},{from:n})},function(t,e,r){"use strict";var i=r(81),n=r(27),o=r(119),s=r(120),a=r(26),u=r(57),h=r(121);t.exports=function from(t){var e,r,c,l,d,p,f=n(t),m="function"==typeof this?this:Array,y=arguments.length,g=y>1?arguments[1]:void 0,_=void 0!==g,v=h(f),x=0;if(_&&(g=i(g,y>2?arguments[2]:void 0,2)),null==v||m==Array&&s(v))for(r=new m(e=a(f.length));e>x;x++)p=_?g(f[x],x):f[x],u(r,x,p);else for(d=(l=v.call(f)).next,r=new m;!(c=d.call(l)).done;x++)p=_?o(l,g,[c.value,x],!0):c.value,u(r,x,p);return r.length=x,r}},function(t,e,r){var i=r(7);t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,r){var i=r(0),n=r(28),o=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||s[o]===t)}},function(t,e,r){var i=r(66),n=r(28),o=r(0)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||n[i(t)]}},function(t,e,r){var i=r(0)("iterator"),n=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){n=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var o={};o[i]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},function(t,e,r){"use strict";var i=r(15),n=r(72).indexOf,o=r(124),s=r(37),a=[].indexOf,u=!!a&&1/[1].indexOf(1,-0)<0,h=o("indexOf"),c=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:u||!h||!c},{indexOf:function indexOf(t){return u?a.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";var i=r(3);t.exports=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e,r){var i=r(0),n=r(36),o=r(6),s=i("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:n(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,r){"use strict";var i=r(85).IteratorPrototype,n=r(36),o=r(23),s=r(55),a=r(28),returnThis=function(){return this};t.exports=function(t,e,r){var u=e+" Iterator";return t.prototype=n(i,{next:o(1,r)}),s(t,u,!1,!0),a[u]=returnThis,t}},function(t,e,r){var i=r(3);t.exports=!i((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},function(t,e,r){var i=r(7),n=r(129);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function setPrototypeOf(r,o){return i(r),n(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},function(t,e,r){var i=r(4);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,r){"use strict";var i=r(15),n=r(4),o=r(54),s=r(49),a=r(26),u=r(21),h=r(57),c=r(0),l=r(56),d=r(37),p=l("slice"),f=d("slice",{ACCESSORS:!0,0:0,1:2}),m=c("species"),y=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!p||!f},{slice:function slice(t,e){var r,i,c,l=u(this),d=a(l.length),p=s(t,d),f=s(void 0===e?d:e,d);if(o(l)&&("function"!=typeof(r=l.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[m])&&(r=void 0):r=void 0,r===Array||void 0===r))return y.call(l,p,f);for(i=new(void 0===r?Array:r)(g(f-p,0)),c=0;p<f;p++,c++)p in l&&h(i,c,l[p]);return i.length=c,i}})},function(t,e,r){"use strict";var i=r(15),n=r(49),o=r(35),s=r(26),a=r(27),u=r(82),h=r(57),c=r(56),l=r(37),d=c("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min,y=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!p},{splice:function splice(t,e){var r,i,c,l,d,p,_=a(this),v=s(_.length),x=n(t,v),b=arguments.length;if(0===b?r=i=0:1===b?(r=0,i=v-x):(r=b-2,i=m(f(o(e),0),v-x)),v+r-i>y)throw TypeError(g);for(c=u(_,i),l=0;l<i;l++)(d=x+l)in _&&h(c,l,_[d]);if(c.length=i,r<i){for(l=x;l<v-i;l++)p=l+r,(d=l+i)in _?_[p]=_[d]:delete _[p];for(l=v;l>v-i+r;l--)delete _[l-1]}else if(r>i)for(l=v-i;l>x;l--)p=l+r-1,(d=l+i-1)in _?_[p]=_[d]:delete _[p];for(l=0;l<r;l++)_[l+x]=arguments[l+2];return _.length=v-i+r,c}})},function(t,e,r){var i=r(13),n=r(6).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,u="name";i&&!(u in o)&&n(o,u,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},function(t,e,r){"use strict";var i=r(134).charAt,n=r(32),o=r(84),s="String Iterator",a=n.set,u=n.getterFor(s);o(String,"String",(function(t){a(this,{type:s,string:String(t),index:0})}),(function next(){var t,e=u(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=i(r,n),e.index+=t.length,{value:t,done:!1})}))},function(t,e,r){var i=r(35),n=r(47),createMethod=function(t){return function(e,r){var o,s,a=String(n(e)),u=i(r),h=a.length;return u<0||u>=h?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===h||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},function(t,e,r){var i=r(1),n=r(136),o=r(83),s=r(20),a=r(0),u=a("iterator"),h=a("toStringTag"),c=o.values;for(var l in n){var d=i[l],p=d&&d.prototype;if(p){if(p[u]!==c)try{s(p,u,c)}catch(t){p[u]=c}if(p[h]||s(p,h,l),n[l])for(var f in o)if(p[f]!==o[f])try{s(p,f,o[f])}catch(t){p[f]=o[f]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){var i=r(9);t.exports=function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}}]]);